<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sandu.search.dao.DesignPlanIndexDao">

    <!-- 获取产品信息 -->
    <select id="queryRecommendationPlanList" resultType="com.sandu.search.entity.designplan.po.RecommendationPlanPo">
        SELECT
          id                                                                  AS id,
          recommended_type                                                    AS type,
          plan_id                                                             AS designPlanId,
          plan_name                                                           AS name,
          user_id                                                             AS createUserId,
          living_id                                                           AS livingId,
          house_id                                                            AS houseId,
          remark                                                              AS remark,
          is_default_decorate                                                 AS isSupportOneKeyDecorate,
          cover_pic_id                                                        AS coverPicId,
          design_template_id                                                  AS designTemplateId,
          design_recommended_style_id                                         AS designStyleId,
          gmt_create                                                          AS createTime,
          gmt_modified                                                        AS modifyTime,
          release_time                                                        AS publishTime,
          is_release                                                          AS releaseStatus,
          plan_source                                                         AS planSource,
          apply_space_areas                                                   AS applySpaceAreas,
          is_deleted                                                          AS dataIsDeleted
        FROM
            design_plan_recommended
    </select>

    <!-- 获取产品信息列表 -->
    <select id="queryRecommendationPlanListByRecommendationPlanIdList" parameterType="int" resultType="com.sandu.search.entity.designplan.po.RecommendationPlanPo">
        SELECT
            id                                                                  AS id,
            recommended_type                                                    AS type,
            plan_id                                                             AS designPlanId,
            plan_name                                                           AS name,
            user_id                                                             AS createUserId,
            living_id                                                           AS livingId,
            house_id                                                            AS houseId,
            remark                                                              AS remark,
            is_default_decorate                                                 AS isSupportOneKeyDecorate,
            cover_pic_id                                                        AS coverPicId,
            design_template_id                                                  AS designTemplateId,
            design_recommended_style_id                                         AS designStyleId,
            gmt_create                                                          AS createTime,
            gmt_modified                                                        AS modifyTime,
            release_time                                                        AS publishTime,
            is_release                                                          AS releaseStatus,
            plan_source                                                         AS planSource,
            is_deleted                                                          AS dataIsDeleted
        FROM
          design_plan_recommended
        WHERE
          id
        IN
        <foreach collection="recommendationPlanIdList" index="index" item="item" open="(" separator="," close=")">
            #{item}
        </foreach>
    </select>

</mapper>
