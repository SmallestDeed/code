package com.sandu.common.cache;

import com.sandu.common.metadata.CacherContainer;
import com.sandu.common.util.ConfigUtil;

/***
 * 缓存管理类
 * @author qiu.jun
 * @date 2016-05-09
 */
public class CacheManager {
	private static CacheManager cacheManager = null;
	private static Cacher cacher = null;

	private CacheManager() {
		init();
	}

	private void init() {
		if (cacher == null) {
			ConfigUtil configUtil=ConfigUtil.getInstance("config/app");
			String cacherContainer = configUtil.getValue("cache.container");
			if (cacherContainer != null && cacherContainer.equalsIgnoreCase(CacherContainer.REDIS)) {
				cacher=new JedisCacher();
			}
		}
	}

	public synchronized static CacheManager getInstance() {
		if (cacheManager == null) {
			cacheManager = new CacheManager();
		}
		return cacheManager;
	}
	
	public Cacher getCacher() {
		return cacher;
	}
}
