package com.sandu.test.utils;

import com.sandu.util.AESUtil;
import lombok.extern.slf4j.Slf4j;
import org.junit.Test;
import org.springframework.boot.test.context.SpringBootTest;

import java.util.concurrent.CountDownLatch;

@Slf4j
@SpringBootTest
public class ASETests {

    String message = "{\"MainCameraIndexPath\":\"\\\"5/0/\\\"\",\"RoomConfig\":[{\"RootName\":\"\",\"PosIndexPath\":\"\\\"1/0/\\\"\",\"ItemCode\":\"baimo_dim_basic_dimz_1423189501\",\"PosName\":\"dimz01\",\"ChangeTimeCount\":0,\"CameraIndexPath\":\"\\\"5/1/\\\"\",\"LookPoint\":[],\"LinkPosition\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"magnitude\":0.0,\"sqrMagnitude\":0.0},\"LinkScale\":{\"x\":1.0,\"y\":1.0,\"z\":1.0,\"normalized\":{\"x\":0.577350259,\"y\":0.577350259,\"z\":0.577350259,\"normalized\":{\"x\":0.5773503,\"y\":0.5773503,\"z\":0.5773503,\"magnitude\":1.0,\"sqrMagnitude\":1.00000012},\"magnitude\":0.99999994,\"sqrMagnitude\":0.99999994},\"magnitude\":1.73205078,\"sqrMagnitude\":3.0},\"LinkQua\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0,\"eulerAngles\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"magnitude\":0.0,\"sqrMagnitude\":0.0}},\"bindPointDataEx\":[],\"bindParentObjStr\":null,\"bindParentObjPosNameStr\":null,\"nBindIndexInParent\":1},{\"RootName\":\"\",\"PosIndexPath\":\"\\\"1/1/\\\"\",\"ItemCode\":\"baimo_dim_basic_dimmk_2077823242\",\"PosName\":\"dimmk01\",\"ChangeTimeCount\":0,\"CameraIndexPath\":\"\\\"5/2/\\\"\",\"LookPoint\":[],\"LinkPosition\":{\"x\":0.979337,\"y\":0.0,\"z\":0.355324268,\"normalized\":{\"x\":0.9400393,\"y\":0.0,\"z\":0.341066241,\"magnitude\":1.0,\"sqrMagnitude\":1.0},\"magnitude\":1.04180431,\"sqrMagnitude\":1.08535624},\"LinkScale\":{\"x\":1.000001,\"y\":1.0,\"z\":1.000001,\"normalized\":{\"x\":0.5773505,\"y\":0.5773499,\"z\":0.5773505,\"magnitude\":1.0,\"sqrMagnitude\":1.00000012},\"magnitude\":1.73205185,\"sqrMagnitude\":3.00000381},\"LinkQua\":{\"x\":0.0,\"y\":0.7071068,\"z\":0.0,\"w\":-0.7071068,\"eulerAngles\":{\"x\":0.0,\"y\":270.0,\"z\":0.0,\"normalized\":{\"x\":0.0,\"y\":1.0,\"z\":0.0,\"magnitude\":1.0,\"sqrMagnitude\":1.0},\"magnitude\":270.0,\"sqrMagnitude\":72900.0}},\"bindPointDataEx\":[],\"bindParentObjStr\":null,\"bindParentObjPosNameStr\":null,\"nBindIndexInParent\":1},{\"RootName\":\"\",\"PosIndexPath\":\"\\\"1/2/\\\"\",\"ItemCode\":\"baimo_qiangm_basic_qiangm_3425184082\",\"PosName\":\"qiangm01\",\"ChangeTimeCount\":0,\"CameraIndexPath\":\"\\\"5/3/\\\"\",\"LookPoint\":[\"2\",\"3\",\"4\"],\"LinkPosition\":{\"x\":0.0,\"y\":1.45,\"z\":-1.55742121,\"normalized\":{\"x\":0.0,\"y\":0.68141526,\"z\":-0.731896937,\"normalized\":{\"x\":0.0,\"y\":0.6814153,\"z\":-0.731897,\"magnitude\":1.0,\"sqrMagnitude\":1.0},\"magnitude\":0.99999994,\"sqrMagnitude\":0.9999999},\"magnitude\":2.1279242,\"sqrMagnitude\":4.528061},\"LinkScale\":{\"x\":1.0,\"y\":1.0,\"z\":1.0,\"normalized\":{\"x\":0.577350259,\"y\":0.577350259,\"z\":0.577350259,\"normalized\":{\"x\":0.5773503,\"y\":0.5773503,\"z\":0.5773503,\"magnitude\":1.0,\"sqrMagnitude\":1.00000012},\"magnitude\":0.99999994,\"sqrMagnitude\":0.99999994},\"magnitude\":1.73205078,\"sqrMagnitude\":3.0},\"LinkQua\":{\"x\":0.0,\"y\":2.18556941E-08,\"z\":0.0,\"w\":1.0,\"eulerAngles\":{\"x\":0.0,\"y\":2.504478E-06,\"z\":0.0,\"normalized\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"magnitude\":0.0,\"sqrMagnitude\":0.0},\"magnitude\":2.504478E-06,\"sqrMagnitude\":6.27241054E-12}},\"bindPointDataEx\":[],\"bindParentObjStr\":null,\"bindParentObjPosNameStr\":null,\"nBindIndexInParent\":1},{\"RootName\":\"\",\"PosIndexPath\":\"\\\"1/3/\\\"\",\"ItemCode\":\"baimo_qiangm_basic_qiangm_5577562203\",\"PosName\":\"qiangm02\",\"ChangeTimeCount\":0,\"CameraIndexPath\":\"\\\"5/4/\\\"\",\"LookPoint\":[\"0\",\"1\",\"2\"],\"LinkPosition\":{\"x\":0.9793372,\"y\":1.45,\"z\":0.0,\"normalized\":{\"x\":0.55970335,\"y\":0.828693,\"z\":0.0,\"normalized\":{\"x\":0.5597034,\"y\":0.828693032,\"z\":0.0,\"magnitude\":1.0,\"sqrMagnitude\":1.0},\"magnitude\":0.99999994,\"sqrMagnitude\":0.9999999},\"magnitude\":1.74974334,\"sqrMagnitude\":3.06160164},\"LinkScale\":{\"x\":1.000001,\"y\":1.0,\"z\":1.000001,\"normalized\":{\"x\":0.5773505,\"y\":0.5773499,\"z\":0.5773505,\"magnitude\":1.0,\"sqrMagnitude\":1.00000012},\"magnitude\":1.73205185,\"sqrMagnitude\":3.00000381},\"LinkQua\":{\"x\":0.0,\"y\":0.7071068,\"z\":0.0,\"w\":-0.7071068,\"eulerAngles\":{\"x\":0.0,\"y\":270.0,\"z\":0.0,\"normalized\":{\"x\":0.0,\"y\":1.0,\"z\":0.0,\"magnitude\":1.0,\"sqrMagnitude\":1.0},\"magnitude\":270.0,\"sqrMagnitude\":72900.0}},\"bindPointDataEx\":[],\"bindParentObjStr\":null,\"bindParentObjPosNameStr\":null,\"nBindIndexInParent\":1},{\"RootName\":\"\",\"PosIndexPath\":\"\\\"1/4/\\\"\",\"ItemCode\":\"baimo_qiangm_basic_qiangm_1198574573\",\"PosName\":\"qiangm03\",\"ChangeTimeCount\":0,\"CameraIndexPath\":\"\\\"5/5/\\\"\",\"LookPoint\":[\"4\",\"5\",\"6\"],\"LinkPosition\":{\"x\":-0.9793372,\"y\":1.45,\"z\":0.0,\"normalized\":{\"x\":-0.55970335,\"y\":0.828693,\"z\":0.0,\"normalized\":{\"x\":-0.5597034,\"y\":0.828693032,\"z\":0.0,\"magnitude\":1.0,\"sqrMagnitude\":1.0},\"magnitude\":0.99999994,\"sqrMagnitude\":0.9999999},\"magnitude\":1.74974334,\"sqrMagnitude\":3.06160164},\"LinkScale\":{\"x\":1.000001,\"y\":1.0,\"z\":1.000001,\"normalized\":{\"x\":0.5773505,\"y\":0.5773499,\"z\":0.5773505,\"magnitude\":1.0,\"sqrMagnitude\":1.00000012},\"magnitude\":1.73205185,\"sqrMagnitude\":3.00000381},\"LinkQua\":{\"x\":0.0,\"y\":0.7071068,\"z\":0.0,\"w\":0.7071068,\"eulerAngles\":{\"x\":0.0,\"y\":90.0,\"z\":0.0,\"normalized\":{\"x\":0.0,\"y\":1.0,\"z\":0.0,\"magnitude\":1.0,\"sqrMagnitude\":1.0},\"magnitude\":90.0,\"sqrMagnitude\":8100.0}},\"bindPointDataEx\":[],\"bindParentObjStr\":null,\"bindParentObjPosNameStr\":null,\"nBindIndexInParent\":1},{\"RootName\":\"\",\"PosIndexPath\":\"\\\"1/5/\\\"\",\"ItemCode\":\"baimo_qiangm_basic_qiangm_5038905741\",\"PosName\":\"qiangm04\",\"ChangeTimeCount\":0,\"CameraIndexPath\":\"\\\"5/6/\\\"\",\"LookPoint\":[\"0\",\"6\",\"7\"],\"LinkPosition\":{\"x\":0.0,\"y\":1.45,\"z\":1.55742145,\"normalized\":{\"x\":0.0,\"y\":0.68141526,\"z\":0.731897056,\"magnitude\":1.0,\"sqrMagnitude\":1.0},\"magnitude\":2.1279242,\"sqrMagnitude\":4.528062},\"LinkScale\":{\"x\":1.0,\"y\":1.0,\"z\":1.0,\"normalized\":{\"x\":0.577350259,\"y\":0.577350259,\"z\":0.577350259,\"normalized\":{\"x\":0.5773503,\"y\":0.5773503,\"z\":0.5773503,\"magnitude\":1.0,\"sqrMagnitude\":1.00000012},\"magnitude\":0.99999994,\"sqrMagnitude\":0.99999994},\"magnitude\":1.73205078,\"sqrMagnitude\":3.0},\"LinkQua\":{\"x\":0.0,\"y\":1.0,\"z\":0.0,\"w\":-4.371139E-08,\"eulerAngles\":{\"x\":0.0,\"y\":180.0,\"z\":0.0,\"normalized\":{\"x\":0.0,\"y\":1.0,\"z\":0.0,\"magnitude\":1.0,\"sqrMagnitude\":1.0},\"magnitude\":180.0,\"sqrMagnitude\":32400.0}},\"bindPointDataEx\":[],\"bindParentObjStr\":null,\"bindParentObjPosNameStr\":null,\"nBindIndexInParent\":1},{\"RootName\":\"\",\"PosIndexPath\":\"\\\"1/6/\\\"\",\"ItemCode\":\"baimo_meng_basic_chufm_1000876972\",\"PosName\":\"chufm01\",\"ChangeTimeCount\":0,\"CameraIndexPath\":\"\\\"5/7/\\\"\",\"LookPoint\":[],\"LinkPosition\":{\"x\":0.979337,\"y\":1.05000031,\"z\":0.355324268,\"normalized\":{\"x\":0.662098646,\"y\":0.7098718,\"z\":0.240223452,\"normalized\":{\"x\":0.6620987,\"y\":0.7098719,\"z\":0.240223467,\"magnitude\":1.0,\"sqrMagnitude\":1.00000012},\"magnitude\":0.99999994,\"sqrMagnitude\":0.99999994},\"magnitude\":1.47914064,\"sqrMagnitude\":2.187857},\"LinkScale\":{\"x\":1.000001,\"y\":1.0,\"z\":1.000001,\"normalized\":{\"x\":0.5773505,\"y\":0.5773499,\"z\":0.5773505,\"magnitude\":1.0,\"sqrMagnitude\":1.00000012},\"magnitude\":1.73205185,\"sqrMagnitude\":3.00000381},\"LinkQua\":{\"x\":0.0,\"y\":0.7071068,\"z\":0.0,\"w\":-0.7071068,\"eulerAngles\":{\"x\":0.0,\"y\":270.0,\"z\":0.0,\"normalized\":{\"x\":0.0,\"y\":1.0,\"z\":0.0,\"magnitude\":1.0,\"sqrMagnitude\":1.0},\"magnitude\":270.0,\"sqrMagnitude\":72900.0}},\"bindPointDataEx\":[],\"bindParentObjStr\":null,\"bindParentObjPosNameStr\":null,\"nBindIndexInParent\":1},{\"RootName\":\"\",\"PosIndexPath\":\"\\\"1/7/\\\"\",\"ItemCode\":\"baimo_tianh_basic_tianh_1366865316\",\"PosName\":\"tianh01\",\"ChangeTimeCount\":0,\"CameraIndexPath\":\"\\\"5/8/\\\"\",\"LookPoint\":[],\"LinkPosition\":{\"x\":0.0,\"y\":3.05000019,\"z\":0.0,\"normalized\":{\"x\":0.0,\"y\":1.0,\"z\":0.0,\"magnitude\":1.0,\"sqrMagnitude\":1.0},\"magnitude\":3.05000019,\"sqrMagnitude\":9.302501},\"LinkScale\":{\"x\":1.0,\"y\":1.0,\"z\":1.0,\"normalized\":{\"x\":0.577350259,\"y\":0.577350259,\"z\":0.577350259,\"normalized\":{\"x\":0.5773503,\"y\":0.5773503,\"z\":0.5773503,\"magnitude\":1.0,\"sqrMagnitude\":1.00000012},\"magnitude\":0.99999994,\"sqrMagnitude\":0.99999994},\"magnitude\":1.73205078,\"sqrMagnitude\":3.0},\"LinkQua\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0,\"eulerAngles\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"magnitude\":0.0,\"sqrMagnitude\":0.0}},\"bindPointDataEx\":[],\"bindParentObjStr\":null,\"bindParentObjPosNameStr\":null,\"nBindIndexInParent\":1},{\"RootName\":\"\",\"PosIndexPath\":\"\\\"2/0/\\\"\",\"ItemCode\":\"baimo_ddli_0002\",\"PosName\":\"ddli01\",\"ChangeTimeCount\":0,\"CameraIndexPath\":\"\\\"5/9/\\\"\",\"LookPoint\":[],\"LinkPosition\":{\"x\":0.0588305,\"y\":2.57499981,\"z\":0.02259469,\"normalized\":{\"x\":0.0228399578,\"y\":0.999700665,\"z\":0.008772011,\"magnitude\":1.0,\"sqrMagnitude\":1.0},\"magnitude\":2.57577085,\"sqrMagnitude\":6.63459539},\"LinkScale\":{\"x\":1.0,\"y\":1.0,\"z\":1.0,\"normalized\":{\"x\":0.577350259,\"y\":0.577350259,\"z\":0.577350259,\"normalized\":{\"x\":0.5773503,\"y\":0.5773503,\"z\":0.5773503,\"magnitude\":1.0,\"sqrMagnitude\":1.00000012},\"magnitude\":0.99999994,\"sqrMagnitude\":0.99999994},\"magnitude\":1.73205078,\"sqrMagnitude\":3.0},\"LinkQua\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"w\":1.0,\"eulerAngles\":{\"x\":0.0,\"y\":0.0,\"z\":0.0,\"magnitude\":0.0,\"sqrMagnitude\":0.0}},\"bindPointDataEx\":[],\"bindParentObjStr\":null,\"bindParentObjPosNameStr\":null,\"nBindIndexInParent\":1},{\"RootName\":\"\",\"PosIndexPath\":\"\\\"2/1/\\\"\",\"ItemCode\":\"baimo_frel_0003\",\"PosName\":\"frel01\",\"ChangeTimeCount\":0,\"CameraIndexPath\":\"\\\"5/10/\\\"\",\"LookPoint\":[],\"LinkPosition\":{\"x\":-0.5723342,\"y\":0.929999948,\"z\":-1.20042133,\"normalized\":{\"x\":-0.352683276,\"y\":0.573083758,\"z\":-0.7397226,\"magnitude\":1.0,\"sqrMagnitude\":1.0},\"magnitude\":1.62279928,\"sqrMagnitude\":2.63347769},\"LinkScale\":{\"x\":1.000001,\"y\":1.0,\"z\":1.000001,\"normalized\":{\"x\":0.5773505,\"y\":0.5773499,\"z\":0.5773505,\"magnitude\":1.0,\"sqrMagnitude\":1.00000012},\"magnitude\":1.73205185,\"sqrMagnitude\":3.00000381},\"LinkQua\":{\"x\":0.0,\"y\":0.7071068,\"z\":0.0,\"w\":0.7071068,\"eulerAngles\":{\"x\":0.0,\"y\":90.0,\"z\":0.0,\"normalized\":{\"x\":0.0,\"y\":1.0,\"z\":0.0,\"magnitude\":1.0,\"sqrMagnitude\":1.0},\"magnitude\":90.0,\"sqrMagnitude\":8100.0}},\"bindPointDataEx\":[],\"bindParentObjStr\":null,\"bindParentObjPosNameStr\":null,\"nBindIndexInParent\":1}]}";

    @Test
    public void test() throws InterruptedException {
        int threadCount = 1;
        CountDownLatch latch = new CountDownLatch(threadCount);
        for (int i = 0; i < threadCount; i++) {
            new Thread(() -> {
                latch.countDown();
                for (int j = 0; j < 1; j++) {
                    String encrypt = AESUtil.getInstance().encrypt(message);
                    log.info("{}", encrypt);
                }
            }).start();
        }

        latch.await();
        Thread.sleep(10000);
    }
}
