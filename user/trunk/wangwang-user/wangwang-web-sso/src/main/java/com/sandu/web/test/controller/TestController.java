package com.sandu.web.test.controller;

import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;



@RestController
@RequestMapping(value = "/v1/test/user")
public class TestController {
	
	/* @RequiresPermissions("design:list")
	 @GetMapping("/testPermissions")
	 public ReturnData testPermissions() {
		  ReturnData data = ReturnData.builder();
		  return data.code(ResponseEnum.SUCCESS).message("访问成功");
	 }
	 
	 @GetMapping("/testGetLoginUser")
	 public ReturnData testGetLoginUser() {
		  ReturnData data = ReturnData.builder();
		  UserInfoBO u = LoginContext.getLoginUser(UserInfoBO.class);
		  if(u==null) {
			  return data.code(ResponseEnum.SUCCESS).data(u).message("用户为空");
		  }
		  return data.code(ResponseEnum.SUCCESS).data(u).message("用户获取成功");
	 }
	 
	 
	 @FieldsFilter(filterCode="user:base:list",filterPath="/list")
	 @GetMapping("/testFilterList")
	 public ReturnData testFilterList() {
		  ReturnData data = ReturnData.builder();
		  List<SysUser> list = new ArrayList<SysUser>();
		  for(int i=0;i<10;i++) {
			  SysUser user =new SysUser();
			  user.setNickName("a"+i);
			  user.setAddress("address"+i);
			  user.setCompanyAddress("companyAddress"+i);
			  user.setCompanyTel("1355555555"+i);
			  
			  list.add(user);
		  }
		  return data.code(ResponseEnum.SUCCESS).list(list);
	 }
	 
	 
	 @FieldsFilter(filterCode="role:base:detail",filterPath="/data")
	 @GetMapping("/testFilterDetails")
	 public ReturnData testFilterDetails() {
		  ReturnData data = ReturnData.builder();
		  SysRole r = new SysRole();
		  r.setId(1L);
		  r.setCode("测试角色编码");
		  r.setName("测试角色名称");
		  r.setRemark("测试角色备注");
		  return data.code(ResponseEnum.SUCCESS).data(r);
	 }
	 */
	 

}
