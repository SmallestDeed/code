<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sandu.home.dao.SpaceCommonMapper">
	<!-- **插入定义** -->
	<insert id="insertSelective" parameterType="com.sandu.home.model.SpaceCommon"
		useGeneratedKeys="true" keyProperty="id">
		insert into space_common
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="sysCode!= null">sys_code,</if>
			<if test="creator!= null">creator,</if>
			<if test="gmtCreate!= null">gmt_create,</if>
			<if test="modifier!= null">modifier,</if>
			<if test="gmtModified!= null">gmt_modified,</if>
			<if test="isDeleted!= null">is_deleted,</if>
			<if test="spaceCode!= null">space_code,</if>
			<if test="spaceName!= null">space_name,</if>
			<if test="spaceFunctionId!= null">space_function_id,</if>
			<if test="mainLength!= null">main_length,</if>
			<if test="mainWidth!= null">main_width,</if>
			<if test="spaceAreas!= null">space_areas,</if>
			<if test="spaceShape!= null">space_shape,</if>
			<if test="doorLocationType!= null">door_location_type,</if>
			<if test="doorLocationId!= null">door_location_id,</if>
			<if test="windowLocationValue!= null">window_location_value,</if>
			<if test="spaceDesc!= null">space_desc,</if>
			<if test="locationArrays!= null">location_arrays,</if>
			<if test="isIncludeWay!= null">is_include_way,</if>
			<if test="wayLocation!= null">way_location,</if>
			<if test="userNum!= null">user_num,</if>
			<if test="searchNum!= null">search_num,</if>
			<if test="spaceNum!= null">space_num,</if>
			<if test="spacePercent!= null">space_percent,</if>
			<if test="totalUsageAmount!= null">total_usage_amount,</if>
			<if test="isStandardSpace!= null">is_standard_space,</if>
			<if test="pid!= null">pid,</if>
			<if test="datasourceId!= null">datasource_id,</if>
			<if test="picId!= null">pic_id,</if>
			<if test="modelId!= null">model_id,</if>
			<if test="status!= null">status,</if>
			<if test="model3dId!= null">model_3d_id,</if>
			<if test="modelU3dId!= null">model_u3d_id,</if>
			<if test="macBookPcU3dModelId!= null">macBookPc_u3d_model_id,</if>
			<if test="windowsPcU3dModelId!= null">windowsPc_u3d_model_id,</if>
			<if test="ipadU3dModelId!= null">ipad_u3d_model_id,</if>
			<if test="androidU3dModelId!= null">android_u3d_model_id,</if>
			<if test="iosU3dModelId!= null">ios_u3d_model_id,</if>
			<if test="view3dPic!= null">view3d_pic_id,</if>
			<if test="viewPlanIds!= null">view_plan_ids,</if>
			<if test="att4!= null">att4,</if>
			<if test="att5!= null">att5,</if>
			<if test="att6!= null">att6,</if>
			<if test="publishModified!= null">publish_modified,</if>
			<if test="dateAtt2!= null">date_att2,</if>
			<if test="styleId!= null">style_id,</if>
			<if test="cadPicId!= null">cad_pic_id,</if>
			<if test="numAtt3!= null">num_att3,</if>
			<if test="numAtt4!= null">num_att4,</if>
			<if test="remark!= null">remark,</if>
			<if test="cadAddress!= null">cad_address,</if>
			<if test="scene3dId!= null">scene3d_id</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="sysCode!= null">#{sysCode,jdbcType=VARCHAR},</if>
			<if test="creator!= null">#{creator,jdbcType=VARCHAR},</if>
			<if test="gmtCreate!= null">#{gmtCreate,jdbcType=TIMESTAMP},</if>
			<if test="modifier!= null">#{modifier,jdbcType=VARCHAR},</if>
			<if test="gmtModified!= null">#{gmtModified,jdbcType=TIMESTAMP},</if>
			<if test="isDeleted!= null">#{isDeleted,jdbcType=INTEGER},</if>
			<if test="spaceCode!= null">#{spaceCode,jdbcType=VARCHAR},</if>
			<if test="spaceName!= null">#{spaceName,jdbcType=VARCHAR},</if>
			<if test="spaceFunctionId!= null">#{spaceFunctionId,jdbcType=INTEGER},</if>
			<if test="mainLength!= null">#{mainLength,jdbcType=VARCHAR},</if>
			<if test="mainWidth!= null">#{mainWidth,jdbcType=VARCHAR},</if>
			<if test="spaceAreas!= null">#{spaceAreas,jdbcType=VARCHAR},</if>
			<if test="spaceShape!= null">#{spaceShape,jdbcType=VARCHAR},</if>
			<if test="doorLocationType!= null">#{doorLocationType,jdbcType=VARCHAR},</if>
			<if test="doorLocationId!= null">#{doorLocationId,jdbcType=INTEGER},</if>
			<if test="windowLocationValue!= null">#{windowLocationValue,jdbcType=INTEGER},</if>
			<if test="spaceDesc!= null">#{spaceDesc,jdbcType=VARCHAR},</if>
			<if test="locationArrays!= null">#{locationArrays,jdbcType=VARCHAR},</if>
			<if test="isIncludeWay!= null">#{isIncludeWay,jdbcType=INTEGER},</if>
			<if test="wayLocation!= null">#{wayLocation,jdbcType=VARCHAR},</if>
			<if test="userNum!= null">#{userNum,jdbcType=INTEGER},</if>
			<if test="searchNum!= null">#{searchNum,jdbcType=INTEGER},</if>
			<if test="spaceNum!= null">#{spaceNum,jdbcType=INTEGER},</if>
			<if test="spacePercent!= null">#{spacePercent,jdbcType=VARCHAR},</if>
			<if test="isStandardSpace!= null">#{isStandardSpace,jdbcType=INTEGER},</if>
			<if test="totalUsageAmount!= null">#{totalUsageAmount,jdbcType=INTEGER},</if>
			<if test="pid!= null">#{pid,jdbcType=INTEGER},</if>
			<if test="datasourceId!= null">#{datasourceId,jdbcType=INTEGER},</if>
			<if test="picId!= null">#{picId,jdbcType=INTEGER},</if>
			<if test="modelId!= null">#{modelId,jdbcType=INTEGER},</if>
			<if test="status!= null">#{status,jdbcType=INTEGER},</if>
			<if test="model3dId != null">#{model3dId,jdbcType=VARCHAR},</if>
			<if test="modelU3dId != null">#{modelU3dId,jdbcType=VARCHAR},</if>
			<if test="macBookPcU3dModelId != null">#{macBookPcU3dModelId,jdbcType=VARCHAR},</if>
			<if test="windowsPcU3dModelId != null">#{windowsPcU3dModelId,jdbcType=VARCHAR},</if>
			<if test="ipadU3dModelId != null">#{ipadU3dModelId,jdbcType=VARCHAR},</if>
			<if test="androidU3dModelId != null">#{androidU3dModelId,jdbcType=VARCHAR},</if>
			<if test="iosU3dModelId != null">#{iosU3dModelId,jdbcType=VARCHAR},</if>
			<if test="view3dPic != null">#{view3dPic,jdbcType=VARCHAR},</if>
			<if test="viewPlanIds != null">#{viewPlanIds,jdbcType=VARCHAR},</if>
			<if test="att4!= null">#{att4,jdbcType=VARCHAR},</if>
			<if test="att5!= null">#{att5,jdbcType=VARCHAR},</if>
			<if test="att6!= null">#{att6,jdbcType=VARCHAR},</if>
			<if test="publishModified!= null">#{publishModified,jdbcType=TIMESTAMP},</if>
			<if test="dateAtt2!= null">#{dateAtt2,jdbcType=TIMESTAMP},</if>
			<if test="styleId!= null">#{styleId,jdbcType=INTEGER},</if>
			<if test="cadPicId!= null">#{cadPicId,jdbcType=INTEGER},</if>
			<if test="numAtt3!= null">#{numAtt3,jdbcType=DOUBLE},</if>
			<if test="numAtt4!= null">#{numAtt4,jdbcType=DOUBLE},</if>
			<if test="remark!= null">#{remark,jdbcType=VARCHAR},</if>
			<if test="cadAddress!= null">#{cadAddress,jdbcType=VARCHAR},</if>
			<if test="scene3dId!= null">#{scene3dId,jdbcType=INTEGER}</if>
		</trim>
	</insert>

	<!-- **更新定义** -->
	<update id="updateByPrimaryKeySelective" parameterType="com.sandu.home.model.SpaceCommon">
		update space_common
		<set>
			<if test="sysCode!= null">sys_code = #{sysCode,jdbcType=VARCHAR},</if>
			<if test="creator!= null">creator = #{creator,jdbcType=VARCHAR},</if>
			<if test="gmtCreate!= null">gmt_create = #{gmtCreate,jdbcType=TIMESTAMP},</if>
			<if test="modifier!= null">modifier = #{modifier,jdbcType=VARCHAR},</if>
			<if test="gmtModified!= null">gmt_modified = #{gmtModified,jdbcType=TIMESTAMP},</if>
			<if test="isDeleted!= null">is_deleted = #{isDeleted,jdbcType=INTEGER},</if>
			<if test="spaceCode!= null">space_code = #{spaceCode,jdbcType=VARCHAR},</if>
			<if test="spaceName!= null">space_name = #{spaceName,jdbcType=VARCHAR},</if>
			<if test="spaceFunctionId!= null">space_function_id = #{spaceFunctionId,jdbcType=INTEGER},
			</if>
			<if test="mainLength!= null">main_length = #{mainLength,jdbcType=VARCHAR},</if>
			<if test="mainWidth!= null">main_width = #{mainWidth,jdbcType=VARCHAR},</if>
			<if test="spaceAreas!= null">space_areas = #{spaceAreas,jdbcType=VARCHAR},</if>
			<if test="spaceShape!= null">space_shape = #{spaceShape,jdbcType=VARCHAR},</if>
			<if test="doorLocationType!= null">door_location_type =
				#{doorLocationType,jdbcType=VARCHAR},
			</if>
			<if test="doorLocationId!= null">door_location_id = #{doorLocationId,jdbcType=INTEGER},
			</if>
			<if test="windowLocationValue!= null">window_location_value =
				#{windowLocationValue,jdbcType=INTEGER},
			</if>
			<if test="spaceDesc!= null">space_desc = #{spaceDesc,jdbcType=VARCHAR},</if>
			<if test="locationArrays!= null">location_arrays = #{locationArrays,jdbcType=VARCHAR},
			</if>
			<if test="isIncludeWay!= null">is_include_way = #{isIncludeWay,jdbcType=INTEGER},</if>
			<if test="wayLocation!= null">way_location = #{wayLocation,jdbcType=VARCHAR},</if>
			<if test="userNum!= null">user_num = #{userNum,jdbcType=INTEGER},</if>
			<if test="searchNum!= null">search_num = #{searchNum,jdbcType=INTEGER},</if>
			<if test="spaceNum!= null">space_num = #{spaceNum,jdbcType=INTEGER},</if>
			<if test="spacePercent!= null">space_percent = #{spacePercent,jdbcType=VARCHAR},</if>
			<if test="totalUsageAmount!= null">total_usage_amount =
				#{totalUsageAmount,jdbcType=INTEGER},</if>
			<if test="isStandardSpace!= null">is_standard_space = #{isStandardSpace,jdbcType=INTEGER},
			</if>
			<if test="pid!= null">pid = #{pid,jdbcType=INTEGER},</if>
			<if test="datasourceId!= null">datasource_id = #{datasourceId,jdbcType=INTEGER},</if>
			<if test="picId!= null">pic_id = #{picId,jdbcType=INTEGER},</if>
			<if test="modelId!= null">model_id = #{modelId,jdbcType=INTEGER},</if>
			<if test="status!= null">status = #{status,jdbcType=INTEGER},</if>
			<if test="model3dId!= null">model_3d_id = #{model3dId,jdbcType=VARCHAR},</if>
			<if test="modelU3dId!= null">model_u3d_Id = #{modelU3dId,jdbcType=VARCHAR},</if>
			<if test="macBookPcU3dModelId != null">macBookPc_u3d_model_id=
				#{macBookPcU3dModelId,jdbcType=VARCHAR},</if>
			<if test="windowsPcU3dModelId != null">windowsPc_u3d_model_id =
				#{windowsPcU3dModelId,jdbcType=VARCHAR},
			</if>
			<if test="ipadU3dModelId != null">ipad_u3d_model_id = #{ipadU3dModelId,jdbcType=VARCHAR},
			</if>
			<if test="androidU3dModelId != null">android_u3d_model_id =
				#{androidU3dModelId,jdbcType=VARCHAR},</if>
			<if test="iosU3dModelId != null">ios_u3d_model_id = #{iosU3dModelId,jdbcType=VARCHAR},
			</if>
			<if test="view3dPic != null">view3d_pic_id = #{view3dPic,jdbcType=VARCHAR},</if>
			<if test="viewPlanIds != null">view_plan_ids = #{viewPlanIds,jdbcType=VARCHAR},</if>
			<if test="att4!= null">att4 = #{att4,jdbcType=VARCHAR},</if>
			<if test="att5!= null">att5 = #{att5,jdbcType=VARCHAR},</if>
			<if test="att6!= null">att6 = #{att6,jdbcType=VARCHAR},</if>
			<if test="publishModified!= null">publish_modified = #{publishModified,jdbcType=TIMESTAMP},
			</if>
			<if test="dateAtt2!= null">date_att2 = #{dateAtt2,jdbcType=TIMESTAMP},</if>
			<if test="styleId!= null">style_id = #{styleId,jdbcType=INTEGER},</if>
			<if test="cadPicId!= null">cad_pic_id = #{cadPicId,jdbcType=INTEGER},</if>
			<if test="numAtt3!= null">num_att3 = #{numAtt3,jdbcType=DOUBLE},</if>
			<if test="numAtt4!= null">num_att4 = #{numAtt4,jdbcType=DOUBLE},</if>
			<if test="remark!= null">remark = #{remark,jdbcType=VARCHAR},</if>
			<if test="cadAddress!= null">cad_address = #{cadAddress,jdbcType=VARCHAR},</if>
			<if test="scene3dId!= null">scene3d_id = #{scene3dId,jdbcType=INTEGER}</if>
		</set>
		where id = #{id,jdbcType=INTEGER}
	</update>

	<!-- **删除定义** -->
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		delete from
		space_common
		where id = #{id,jdbcType=INTEGER}
	</delete>

	<!-- **删除定义** -->
	<delete id="deleteByCode" parameterType="java.lang.String">
		delete from
		space_common
		where space_code = #{spaceCode,jdbcType=VARCHAR}
	</delete>

	<!-- **常量定义** -->
	<sql id="All_Column_List">
		id,sys_code,creator,gmt_create,modifier,gmt_modified,is_deleted,space_code,space_name,space_function_id,main_length,main_width,space_areas,space_shape,door_location_type,door_location_id,window_location_value,space_desc,location_arrays,is_include_way,way_location,user_num,search_num,space_num,space_percent,total_usage_amount,pid,is_standard_space,datasource_id,pic_id,model_id,status,model_3d_id,model_u3d_id,macBookPc_u3d_model_id,windowsPc_u3d_model_id,ipad_u3d_model_id,android_u3d_model_id,ios_u3d_model_id,view3d_pic_id,view_plan_ids,att4,att5,att6,publish_modified,date_att2,style_id,cad_pic_id,num_att3,num_att4,remark,cad_address,scene3d_id,daylight_u3d_model_id,dusklight_u3d_model_id,nightlight_u3d_model_id,space_analyze_code,space_u3d_code
	</sql>

	<!-- **结果定义** -->
	<resultMap id="AllResultMap" type="com.sandu.home.model.SpaceCommon">
		<id column="id" property="id" jdbcType="INTEGER" />
		<result column="sys_code" property="sysCode" jdbcType="VARCHAR" />
		<result column="creator" property="creator" jdbcType="VARCHAR" />
		<result column="gmt_create" property="gmtCreate" jdbcType="TIMESTAMP" />
		<result column="modifier" property="modifier" jdbcType="VARCHAR" />
		<result column="gmt_modified" property="gmtModified" jdbcType="TIMESTAMP" />
		<result column="is_deleted" property="isDeleted" jdbcType="INTEGER" />
		<result column="space_code" property="spaceCode" jdbcType="VARCHAR" />
		<result column="space_name" property="spaceName" jdbcType="VARCHAR" />
		<result column="space_function_id" property="spaceFunctionId"
			jdbcType="INTEGER" />
		<result column="main_length" property="mainLength" jdbcType="VARCHAR" />
		<result column="main_width" property="mainWidth" jdbcType="VARCHAR" />
		<result column="space_areas" property="spaceAreas" jdbcType="VARCHAR" />
		<result column="space_shape" property="spaceShape" jdbcType="VARCHAR" />
		<result column="door_location_type" property="doorLocationType"
			jdbcType="VARCHAR" />
		<result column="door_location_id" property="doorLocationId"
			jdbcType="INTEGER" />
		<result column="window_location_value" property="windowLocationValue"
			jdbcType="INTEGER" />
		<result column="space_desc" property="spaceDesc" jdbcType="VARCHAR" />
		<result column="location_arrays" property="locationArrays"
			jdbcType="VARCHAR" />
		<result column="is_include_way" property="isIncludeWay"
			jdbcType="INTEGER" />
		<result column="way_location" property="wayLocation" jdbcType="VARCHAR" />
		<result column="user_num" property="userNum" jdbcType="INTEGER" />
		<result column="search_num" property="searchNum" jdbcType="INTEGER" />
		<result column="space_num" property="spaceNum" jdbcType="INTEGER" />
		<result column="space_percent" property="spacePercent"
			jdbcType="VARCHAR" />
		<result column="total_usage_amount" property="totalUsageAmount"
			jdbcType="INTEGER" />
		<result column="is_standard_space" property="isStandardSpace"
			jdbcType="INTEGER" />
		<result column="pid" property="pid" jdbcType="INTEGER" />
		<result column="datasource_id" property="datasourceId"
			jdbcType="INTEGER" />
		<result column="pic_id" property="picId" jdbcType="INTEGER" />
		<result column="model_id" property="modelId" jdbcType="INTEGER" />
		<result column="status" property="status" jdbcType="INTEGER" />
		<result column="model_3d_id" property="model3dId" jdbcType="VARCHAR" />
		<result column="model_u3d_id" property="modelU3dId" jdbcType="VARCHAR" />
		<result column="macBookPc_u3d_model_id" property="macBookPcU3dModelId"
			jdbcType="VARCHAR" />
		<result column="windowsPc_u3d_model_id" property="windowsPcU3dModelId"
			jdbcType="VARCHAR" />
		<result column="ipad_u3d_model_id" property="ipadU3dModelId"
			jdbcType="VARCHAR" />
		<result column="android_u3d_model_id" property="androidU3dModelId"
			jdbcType="VARCHAR" />
		<result column="ios_u3d_model_id" property="iosU3dModelId"
			jdbcType="VARCHAR" />
		<result column="view3d_pic_id" property="view3dPic" jdbcType="VARCHAR" />
		<result column="view_plan_ids" property="viewPlanIds" jdbcType="VARCHAR" />
		<result column="att4" property="att4" jdbcType="VARCHAR" />
		<result column="att5" property="att5" jdbcType="VARCHAR" />
		<result column="att6" property="att6" jdbcType="VARCHAR" />
		<result column="publish_modified" property="publishModified"
			jdbcType="TIMESTAMP" />
		<result column="date_att2" property="dateAtt2" jdbcType="TIMESTAMP" />
		<result column="style_id" property="styleId" jdbcType="INTEGER" />
		<result column="cad_pic_id" property="cadPicId" jdbcType="INTEGER" />
		<result column="num_att3" property="numAtt3" jdbcType="DOUBLE" />
		<result column="num_att4" property="numAtt4" jdbcType="DOUBLE" />
		<result column="remark" property="remark" jdbcType="VARCHAR" />
		<result column="cad_address" property="cadAddress" jdbcType="VARCHAR" />
		<result column="scene3d_id" property="scene3dId" jdbcType="INTEGER" />
		<result column="daylight_u3d_model_id" property="daylightU3dModelId"
			jdbcType="INTEGER" />
		<result column="dusklight_u3d_model_id" property="dusklightU3dModelId"
			jdbcType="INTEGER" />
		<result column="nightlight_u3d_model_id" property="nightlightU3dModelId"
			jdbcType="INTEGER" />
		<result column="space_analyze_code" property="spaceAnalyzeCode"
			jdbcType="VARCHAR" />
		<result column="space_u3d_code" property="spaceU3dCode"
			jdbcType="VARCHAR" />
	</resultMap>
	<!-- **查询定义** -->
	<!-- 按主键查询 -->
	<select id="selectByPrimaryKey" resultMap="AllResultMap"
		parameterType="java.lang.Integer">
		select
		<include refid="All_Column_List" />
		from space_common
		where id = #{id,jdbcType=INTEGER}
	</select>

	<!-- 查询所有，可排序 -->
	<select id="selectList" resultMap="AllResultMap"
		parameterType="com.sandu.home.model.SpaceCommon">
		select
		<include refid="All_Column_List" />
		from space_common
		where 1=1
		<if test="sysCode!= null">and sys_code = #{sysCode,jdbcType=VARCHAR}</if>
		<if test="creator!= null">and creator = #{creator,jdbcType=VARCHAR}</if>
		<if test="gmtCreate!= null">and gmt_create = #{gmtCreate,jdbcType=TIMESTAMP}</if>
		<if test="modifier!= null">and modifier = #{modifier,jdbcType=VARCHAR}</if>
		<if test="gmtModified!= null">and gmt_modified = #{gmtModified,jdbcType=TIMESTAMP}</if>
		<if test="isDeleted!= null">and is_deleted = #{isDeleted,jdbcType=INTEGER}</if>
		<if test="spaceCode!= null">and space_code = #{spaceCode,jdbcType=VARCHAR}</if>
		<if test="spaceName!= null">and space_name = #{spaceName,jdbcType=VARCHAR}</if>
		<if test="spaceFunctionId!= null">and space_function_id =
			#{spaceFunctionId,jdbcType=INTEGER}
		</if>
		<if test="mainLength!= null">and main_length = #{mainLength,jdbcType=VARCHAR}</if>
		<if test="mainWidth!= null">and main_width = #{mainWidth,jdbcType=VARCHAR}</if>
		<if test="spaceAreas!= null and spaceAreas!= '' ">and space_areas = #{spaceAreas,jdbcType=VARCHAR}</if>
		<if test="spaceShape!= null and spaceShape != ''">and space_shape = #{spaceShape,jdbcType=VARCHAR}</if>
		<if test="doorLocationType!= null">and door_location_type =
			#{doorLocationType,jdbcType=VARCHAR}
		</if>
		<if test="doorLocationId!= null">and door_location_id = #{doorLocationId,jdbcType=INTEGER}
		</if>
		<if test="windowLocationValue!= null">and window_location_value =
			#{windowLocationValue,jdbcType=INTEGER}</if>
		<if test="standardSpaceType == 1">and pid = 0 and is_standard_space = 1</if>
		<if test="standardSpaceType == 2">and pid != 0 and is_standard_space IN (0,1)</if>
		<if test="standardSpaceType == 3">and pid = 0 and is_standard_space = 0</if>
		<if test="spaceDesc!= null">and space_desc = #{spaceDesc,jdbcType=VARCHAR}</if>
		<if test="locationArrays!= null">and location_arrays = #{locationArrays,jdbcType=VARCHAR}
		</if>
		<if test="isIncludeWay!= null">and is_include_way = #{isIncludeWay,jdbcType=INTEGER}
		</if>
		<if test="wayLocation!= null">and way_location = #{wayLocation,jdbcType=VARCHAR}</if>
		<if test="userNum!= null">and user_num = #{userNum,jdbcType=INTEGER}</if>
		<if test="searchNum!= null">and search_num = #{searchNum,jdbcType=INTEGER}</if>
		<if test="spaceNum!= null">and space_num = #{spaceNum,jdbcType=INTEGER}</if>
		<if test="spacePercent!= null">and space_percent = #{spacePercent,jdbcType=VARCHAR}</if>
		<if test="totalUsageAmount!= null">and total_usage_amount =
			#{totalUsageAmount,jdbcType=INTEGER}</if>
		<if test="isStandardSpace!= null">and is_standard_space =
			#{isStandardSpace,jdbcType=INTEGER}</if>
		<if test="pid!= null">and pid = #{pid,jdbcType=INTEGER}</if>
		<if test="datasourceId!= null">and datasource_id = #{datasourceId,jdbcType=INTEGER}</if>
		<if test="picId!= null">and pic_id = #{picId,jdbcType=INTEGER}</if>
		<if test="modelId!= null">and model_id = #{modelId,jdbcType=INTEGER}</if>
		<if test="status!= null">and status = #{status,jdbcType=INTEGER}</if>
		<if test="model3dId!= null">and model_3d_id = #{model3dId,jdbcType=VARCHAR}</if>
		<if test="modelU3dId!= null">and model_u3d_id = #{modelU3dId,jdbcType=VARCHAR}</if>
		<if test="macBookPcU3dModelId != null">and macBookPc_u3d_model_id =
			#{macBookPcU3dModelId,jdbcType=VARCHAR},
		</if>
		<if test="windowsPcU3dModelId != null">and windowsPc_u3d_model_id =
			#{windowsPcU3dModelId,jdbcType=VARCHAR},
		</if>
		<if test="ipadU3dModelId != null">and ipad_u3d_model_id =
			#{ipadU3dModelId,jdbcType=VARCHAR},</if>
		<if test="androidU3dModelId != null">and android_u3d_model_id =
			#{androidU3dModelId,jdbcType=VARCHAR},</if>
		<if test="iosU3dModelId != null">and ios_u3d_model_id = #{iosU3dModelId,jdbcType=VARCHAR},
		</if>
		<if test="view3dPic!= null">and view3d_pic_id = #{view3dPic,jdbcType=VARCHAR}</if>
		<if test="viewPlanIds!= null">and view_plan_ids = #{viewPlanIds,jdbcType=VARCHAR}</if>
		<if test="att4!= null">and att4 = #{att4,jdbcType=VARCHAR}</if>
		<if test="att5!= null">and att5 = #{att5,jdbcType=VARCHAR}</if>
		<if test="att6!= null">and att6 = #{att6,jdbcType=VARCHAR}</if>
		<if test="publishModified!= null">and publish_modified =
			#{publishModified,jdbcType=TIMESTAMP}</if>
		<if test="dateAtt2!= null">and date_att2 = #{dateAtt2,jdbcType=TIMESTAMP}</if>
		<if test="styleId!= null">and style_id = #{styleId,jdbcType=INTEGER}</if>
		<if test="cadPicId!= null">and cad_pic_id = #{cadPicId,jdbcType=INTEGER}</if>
		<if test="numAtt3!= null">and num_att3 = #{numAtt3,jdbcType=DOUBLE}</if>
		<if test="numAtt4!= null">and num_att4 = #{numAtt4,jdbcType=DOUBLE}</if>
		<if test="remark!= null">and remark = #{remark,jdbcType=VARCHAR}</if>
		<if test="order != null and  order !=''  ">
			order by ${order}
			<if test="orderNum != null and  orderNum !='' ">
				${orderNum}
			</if>
		</if>
		<if test="orders != null and  orders !=''  ">
			order by ${orders}
		</if>
	</select>

	<!-- 分页汇总 -->
	<select id="selectCount" resultType="int"
		parameterType="com.sandu.home.model.search.SpaceCommonSearch">
		select count(*)
		from space_common
		where 1=1
		<if test="sysCode !=  null and sysCode !=  ''   ">and sys_code = #{sysCode,jdbcType=VARCHAR}</if>
		<if test="sch_SysCode_ !=  null and sch_SysCode_ !=  ''   ">
			and sys_code like
			CONCAT(CONCAT('%',#{sch_SysCode_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SysCode !=  null and sch_SysCode !=  ''   ">
			and sys_code like
			CONCAT('%',#{sch_SysCode,jdbcType=VARCHAR})
		</if>
		<if test="schSysCode_ !=  null and schSysCode_ !=  ''   ">
			and sys_code like
			CONCAT(#{schSysCode_,jdbcType=VARCHAR},'%')
		</if>
		<if test="sysCodeStart !=  null and sysCodeEnd!= null  ">
			and sys_code between #{sysCodeStart,jdbcType=VARCHAR} and
			#{sysCodeEnd,jdbcType=VARCHAR}
		</if>
		<if test="creator !=  null and creator !=  ''   ">and creator = #{creator,jdbcType=VARCHAR}</if>
		<if test="sch_Creator_ !=  null and sch_Creator_ !=  ''   ">
			and creator like
			CONCAT(CONCAT('%',#{sch_Creator_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Creator !=  null and sch_Creator !=  ''   ">
			and creator like
			CONCAT('%',#{sch_Creator,jdbcType=VARCHAR})
		</if>
		<if test="schCreator_ !=  null and schCreator_ !=  ''   ">
			and creator like
			CONCAT(#{schCreator_,jdbcType=VARCHAR},'%')
		</if>
		<if test="creatorStart !=  null and creatorEnd!= null  ">
			and creator between #{creatorStart,jdbcType=VARCHAR} and
			#{creatorEnd,jdbcType=VARCHAR}
		</if>
		<if test="gmtCreate !=  null  ">
			and gmt_create = #{gmtCreate,jdbcType=TIMESTAMP}
		</if>
		<if test="gmtCreateStart !=  null and gmtCreateEnd!= null  ">
			and gmt_create between
			#{gmtCreateStart,jdbcType=TIMESTAMP} and
			#{gmtCreateEnd,jdbcType=TIMESTAMP}
		</if>
		<if test="modifier !=  null and modifier !=  ''   ">and modifier = #{modifier,jdbcType=VARCHAR}</if>
		<if test="sch_Modifier_ !=  null and sch_Modifier_ !=  ''   ">
			and modifier like
			CONCAT(CONCAT('%',#{sch_Modifier_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Modifier !=  null and sch_Modifier !=  ''   ">
			and modifier like
			CONCAT('%',#{sch_Modifier,jdbcType=VARCHAR})
		</if>
		<if test="schModifier_ !=  null and schModifier_ !=  ''   ">
			and modifier like
			CONCAT(#{schModifier_,jdbcType=VARCHAR},'%')
		</if>
		<if test="modifierStart !=  null and modifierEnd!= null  ">
			and modifier between #{modifierStart,jdbcType=VARCHAR} and
			#{modifierEnd,jdbcType=VARCHAR}
		</if>
		<if test="gmtModified !=  null  ">
			and gmt_modified = #{gmtModified,jdbcType=TIMESTAMP}
		</if>
		<if test="gmtModifiedStart !=  null and gmtModifiedEnd!= null  ">
			and gmt_modified between
			#{gmtModifiedStart,jdbcType=TIMESTAMP} and
			#{gmtModifiedEnd,jdbcType=TIMESTAMP}
		</if>
		<if test="isDeleted !=  null  ">and is_deleted = #{isDeleted,jdbcType=INTEGER}</if>
		<if test="spaceCode !=  null and spaceCode !=  ''   ">and space_code = #{spaceCode,jdbcType=VARCHAR}</if>
		<if test="sch_SpaceCode_ !=  null and sch_SpaceCode_ !=  ''   ">
			and space_code like
			CONCAT(CONCAT('%',#{sch_SpaceCode_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SpaceCode !=  null and sch_SpaceCode !=  ''   ">
			and space_code like
			CONCAT('%',#{sch_SpaceCode,jdbcType=VARCHAR})
		</if>
		<if test="schSpaceCode_ !=  null and schSpaceCode_ !=  ''   ">
			and space_code like
			CONCAT(#{schSpaceCode_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spaceCodeStart !=  null and spaceCodeEnd!= null  ">
			and space_code between #{spaceCodeStart,jdbcType=VARCHAR}
			and #{spaceCodeEnd,jdbcType=VARCHAR}
		</if>
		<if test="spaceName !=  null and spaceName !=  ''   ">and space_name = #{spaceName,jdbcType=VARCHAR}</if>
		<if test="sch_SpaceName_ !=  null and sch_SpaceName_ !=  ''   ">
			and space_name like
			CONCAT(CONCAT('%',#{sch_SpaceName_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SpaceName !=  null and sch_SpaceName !=  ''   ">
			and space_name like
			CONCAT('%',#{sch_SpaceName,jdbcType=VARCHAR})
		</if>
		<if test="schSpaceName_ !=  null and schSpaceName_ !=  ''   ">
			and space_name like
			CONCAT(#{schSpaceName_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spaceNameStart !=  null and spaceNameEnd!= null  ">
			and space_name between #{spaceNameStart,jdbcType=VARCHAR}
			and #{spaceNameEnd,jdbcType=VARCHAR}
		</if>
		<if test="spaceFunctionId !=  null  ">and space_function_id =
			#{spaceFunctionId,jdbcType=INTEGER}
		</if>
		<if test="mainLength !=  null and mainLength !=  ''   ">and main_length = #{mainLength,jdbcType=VARCHAR}</if>
		<if test="sch_MainLength_ !=  null and sch_MainLength_ !=  ''   ">
			and main_length like
			CONCAT(CONCAT('%',#{sch_MainLength_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_MainLength !=  null and sch_MainLength !=  ''   ">
			and main_length like
			CONCAT('%',#{sch_MainLength,jdbcType=VARCHAR})
		</if>
		<if test="schMainLength_ !=  null and schMainLength_ !=  ''   ">
			and main_length like
			CONCAT(#{schMainLength_,jdbcType=VARCHAR},'%')
		</if>
		<if test="mainLengthStart !=  null and mainLengthEnd!= null  ">
			and main_length between
			#{mainLengthStart,jdbcType=VARCHAR} and
			#{mainLengthEnd,jdbcType=VARCHAR}
		</if>
		<if test="mainWidth !=  null and mainWidth !=  ''   ">and main_width = #{mainWidth,jdbcType=VARCHAR}</if>
		<if test="sch_MainWidth_ !=  null and sch_MainWidth_ !=  ''   ">
			and main_width like
			CONCAT(CONCAT('%',#{sch_MainWidth_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_MainWidth !=  null and sch_MainWidth !=  ''   ">
			and main_width like
			CONCAT('%',#{sch_MainWidth,jdbcType=VARCHAR})
		</if>
		<if test="schMainWidth_ !=  null and schMainWidth_ !=  ''   ">
			and main_width like
			CONCAT(#{schMainWidth_,jdbcType=VARCHAR},'%')
		</if>
		<if test="mainWidthStart !=  null and mainWidthEnd!= null  ">
			and main_width between #{mainWidthStart,jdbcType=VARCHAR}
			and #{mainWidthEnd,jdbcType=VARCHAR}
		</if>
		<if test="spaceAreas !=  null and spaceAreas !=  ''   ">and space_areas = #{spaceAreas,jdbcType=VARCHAR}</if>
		<if test="sch_SpaceAreas_ !=  null and sch_SpaceAreas_ !=  ''   ">
			and space_areas like
			CONCAT(CONCAT('%',#{sch_SpaceAreas_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SpaceAreas !=  null and sch_SpaceAreas !=  ''   ">
			and space_areas like
			CONCAT('%',#{sch_SpaceAreas,jdbcType=VARCHAR})
		</if>
		<if test="schSpaceAreas_ !=  null and schSpaceAreas_ !=  ''   ">
			and space_areas like
			CONCAT(#{schSpaceAreas_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spaceAreasStart !=  null and spaceAreasEnd!= null  ">
			and space_areas between
			#{spaceAreasStart,jdbcType=VARCHAR} and
			#{spaceAreasEnd,jdbcType=VARCHAR}
		</if>
		<if test="spaceShape !=  null and spaceShape !=  ''   ">and space_shape = #{spaceShape,jdbcType=VARCHAR}</if>
		<if test="sch_SpaceShape_ !=  null and sch_SpaceShape_ !=  ''   ">
			and space_shape like
			CONCAT(CONCAT('%',#{sch_SpaceShape_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SpaceShape !=  null and sch_SpaceShape !=  ''   ">
			and space_shape like
			CONCAT('%',#{sch_SpaceShape,jdbcType=VARCHAR})
		</if>
		<if test="schSpaceShape_ !=  null and schSpaceShape_ !=  ''   ">
			and space_shape like
			CONCAT(#{schSpaceShape_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spaceShapeStart !=  null and spaceShapeEnd!= null  ">
			and space_shape between
			#{spaceShapeStart,jdbcType=VARCHAR} and
			#{spaceShapeEnd,jdbcType=VARCHAR}
		</if>
		<if test="doorLocationType !=  null and doorLocationType !=  ''   ">and door_location_type =
			#{doorLocationType,jdbcType=VARCHAR}
		</if>
		<if
			test="sch_DoorLocationType_ !=  null and sch_DoorLocationType_ !=  ''   ">
			and door_location_type like
			CONCAT(CONCAT('%',#{sch_DoorLocationType_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_DoorLocationType !=  null and sch_DoorLocationType !=  ''   ">
			and door_location_type like
			CONCAT('%',#{sch_DoorLocationType,jdbcType=VARCHAR})
		</if>
		<if test="schDoorLocationType_ !=  null and schDoorLocationType_ !=  ''   ">
			and door_location_type like
			CONCAT(#{schDoorLocationType_,jdbcType=VARCHAR},'%')
		</if>
		<if test="doorLocationTypeStart !=  null and doorLocationTypeEnd!= null  ">
			and door_location_type between
			#{doorLocationTypeStart,jdbcType=VARCHAR} and
			#{doorLocationTypeEnd,jdbcType=VARCHAR}
		</if>
		<if test="doorLocationId !=  null  ">and door_location_id = #{doorLocationId,jdbcType=INTEGER}
		</if>
		<if test="windowLocationValue !=  null  ">and window_location_value =
			#{windowLocationValue,jdbcType=INTEGER}
		</if>
		<if test="spaceDesc !=  null and spaceDesc !=  ''   ">and space_desc = #{spaceDesc,jdbcType=VARCHAR}</if>
		<if test="sch_SpaceDesc_ !=  null and sch_SpaceDesc_ !=  ''   ">
			and space_desc like
			CONCAT(CONCAT('%',#{sch_SpaceDesc_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SpaceDesc !=  null and sch_SpaceDesc !=  ''   ">
			and space_desc like
			CONCAT('%',#{sch_SpaceDesc,jdbcType=VARCHAR})
		</if>
		<if test="schSpaceDesc_ !=  null and schSpaceDesc_ !=  ''   ">
			and space_desc like
			CONCAT(#{schSpaceDesc_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spaceDescStart !=  null and spaceDescEnd!= null  ">
			and space_desc between #{spaceDescStart,jdbcType=VARCHAR}
			and #{spaceDescEnd,jdbcType=VARCHAR}
		</if>
		<if test="locationArrays !=  null and locationArrays !=  ''   ">and location_arrays =
			#{locationArrays,jdbcType=VARCHAR}
		</if>
		<if test="sch_LocationArrays_ !=  null and sch_LocationArrays_ !=  ''   ">
			and location_arrays like
			CONCAT(CONCAT('%',#{sch_LocationArrays_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_LocationArrays !=  null and sch_LocationArrays !=  ''   ">
			and location_arrays like
			CONCAT('%',#{sch_LocationArrays,jdbcType=VARCHAR})
		</if>
		<if test="schLocationArrays_ !=  null and schLocationArrays_ !=  ''   ">
			and location_arrays like
			CONCAT(#{schLocationArrays_,jdbcType=VARCHAR},'%')
		</if>
		<if test="locationArraysStart !=  null and locationArraysEnd!= null  ">
			and location_arrays between
			#{locationArraysStart,jdbcType=VARCHAR} and
			#{locationArraysEnd,jdbcType=VARCHAR}
		</if>
		<if test="isIncludeWay !=  null  ">and is_include_way = #{isIncludeWay,jdbcType=INTEGER}
		</if>
		<if test="wayLocation !=  null and wayLocation !=  ''   ">and way_location = #{wayLocation,jdbcType=VARCHAR}
		</if>
		<if test="sch_WayLocation_ !=  null and sch_WayLocation_ !=  ''   ">
			and way_location like
			CONCAT(CONCAT('%',#{sch_WayLocation_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_WayLocation !=  null and sch_WayLocation !=  ''   ">
			and way_location like
			CONCAT('%',#{sch_WayLocation,jdbcType=VARCHAR})
		</if>
		<if test="schWayLocation_ !=  null and schWayLocation_ !=  ''   ">
			and way_location like
			CONCAT(#{schWayLocation_,jdbcType=VARCHAR},'%')
		</if>
		<if test="wayLocationStart !=  null and wayLocationEnd!= null  ">
			and way_location between
			#{wayLocationStart,jdbcType=VARCHAR} and
			#{wayLocationEnd,jdbcType=VARCHAR}
		</if>
		<if test="userNum !=  null  ">and user_num = #{userNum,jdbcType=INTEGER}</if>
		<if test="searchNum !=  null  ">and search_num = #{searchNum,jdbcType=INTEGER}</if>
		<if test="spaceNum !=  null  ">and space_num = #{spaceNum,jdbcType=INTEGER}</if>
		<if test="pid !=  null  ">and pid = #{pid,jdbcType=INTEGER}</if>
		<if test="isStandardSpace !=  null  ">and is_standard_space =
			#{isStandardSpace,jdbcType=INTEGER}</if>
		<if test="totalUsageAmount !=  null  ">and total_usage_amount =
			#{totalUsageAmount,jdbcType=INTEGER}</if>

		<if test="standardSpaceType == 1">and pid = 0 and is_standard_space = 1</if>
		<if test="standardSpaceType == 2">and pid != 0 and is_standard_space IN (0,1)</if>
		<if test="standardSpaceType == 3">and pid = 0 and is_standard_space = 0</if>

		<if test="spacePercent !=  null and spacePercent !=  ''   ">and space_percent =
			#{spacePercent,jdbcType=VARCHAR}
		</if>
		<if test="sch_SpacePercent_ !=  null and sch_SpacePercent_ !=  ''   ">
			and space_percent like
			CONCAT(CONCAT('%',#{sch_SpacePercent_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SpacePercent !=  null and sch_SpacePercent !=  ''   ">
			and space_percent like
			CONCAT('%',#{sch_SpacePercent,jdbcType=VARCHAR})
		</if>
		<if test="schSpacePercent_ !=  null and schSpacePercent_ !=  ''   ">
			and space_percent like
			CONCAT(#{schSpacePercent_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spacePercentStart !=  null and spacePercentEnd!= null  ">
			and space_percent between
			#{spacePercentStart,jdbcType=VARCHAR} and
			#{spacePercentEnd,jdbcType=VARCHAR}
		</if>
		<if test="datasourceId !=  null  ">and datasource_id = #{datasourceId,jdbcType=INTEGER}</if>
		<if test="picId !=  null  ">and pic_id = #{picId,jdbcType=INTEGER}</if>
		<if test="modelId !=  null  ">and model_id = #{modelId,jdbcType=INTEGER}</if>
		<if test="status !=  null  ">and status = #{status,jdbcType=INTEGER}</if>
		<if test="model3dId !=  null and model3dId !=  ''   ">and model_3d_Id = #{model_3d_id,jdbcType=VARCHAR}</if>
		<if test="sch_Att1_ !=  null and sch_Att1_ !=  ''   ">
			and att1 like
			CONCAT(CONCAT('%',#{sch_Att1_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Att1 !=  null and sch_Att1 !=  ''   ">
			and att1 like CONCAT('%',#{sch_Att1,jdbcType=VARCHAR})
		</if>
		<if test="schAtt1_ !=  null and schAtt1_ !=  ''   ">
			and att1 like CONCAT(#{schAtt1_,jdbcType=VARCHAR},'%')
		</if>
		<if test="att1Start !=  null and att1End!= null  ">
			and att1 between #{att1Start,jdbcType=VARCHAR} and
			#{att1End,jdbcType=VARCHAR}
		</if>
		<if test="modelU3dId !=  null and modelU3dId !=  ''   ">and modelU3dId = #{model_u3d_id,jdbcType=VARCHAR}</if>
		<if test="macBookPcU3dModelId != null">and macBookPcU3dModelId =
			#{macBookPc_u3d_model_id,jdbcType=VARCHAR}</if>
		<if test="windowsPcU3dModelId != null">and windowsPcU3dModelId =
			#{windowsPc_u3d_model_id,jdbcType=VARCHAR}</if>
		<if test="ipadU3dModelId != null">and ipadU3dModelId = #{ipad_u3d_model_id,jdbcType=VARCHAR}
		</if>
		<if test="androidU3dModelId != null">and androidU3dModelId =
			#{android_u3d_model_id,jdbcType=VARCHAR}</if>
		<if test="iosU3dModelId != null">and iosU3dModelId = #{ios_u3d_model_id,jdbcType=VARCHAR}
		</if>
		<if test="sch_Att2_ !=  null and sch_Att2_ !=  ''   ">
			and att2 like
			CONCAT(CONCAT('%',#{sch_Att2_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Att2 !=  null and sch_Att2 !=  ''   ">
			and att2 like CONCAT('%',#{sch_Att2,jdbcType=VARCHAR})
		</if>
		<if test="schAtt2_ !=  null and schAtt2_ !=  ''   ">
			and att2 like CONCAT(#{schAtt2_,jdbcType=VARCHAR},'%')
		</if>
		<if test="att2Start !=  null and att2End!= null  ">
			and att2 between #{att2Start,jdbcType=VARCHAR} and
			#{att2End,jdbcType=VARCHAR}
		</if>
		<if test="view3dPic !=  null and view3dPic !=  ''   ">and view3d_pic_id = #{view3dPic,jdbcType=VARCHAR}</if>
		<if test="sch_View3dPic_ !=  null and sch_View3dPic_ !=  ''   ">
			and view3d_pic_id like
			CONCAT(CONCAT('%',#{sch_View3dPic_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_View3dPic !=  null and sch_View3dPic !=  ''   ">
			and view3d_pic_id like
			CONCAT('%',#{sch_View3dPic,jdbcType=VARCHAR})
		</if>
		<if test="schView3dPic_ !=  null and schView3dPic_ !=  ''   ">
			and view3d_pic_id like
			CONCAT(#{schView3dPic_,jdbcType=VARCHAR},'%')
		</if>
		<if test="view3dPicStart !=  null and view3dPicEnd!= null  ">
			and view3d_pic_id between
			#{view3dPicStart,jdbcType=VARCHAR} and
			#{view3dPicEnd,jdbcType=VARCHAR}
		</if>
		<if test="viewPlanIds !=  null and viewPlanIds !=  ''   ">and view_plan_ids = #{viewPlanIds,jdbcType=VARCHAR}
		</if>
		<if test="att4 !=  null and att4 !=  ''   ">and att4 = #{att4,jdbcType=VARCHAR}</if>
		<if test="sch_Att4_ !=  null and sch_Att4_ !=  ''   ">
			and att4 like
			CONCAT(CONCAT('%',#{sch_Att4_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Att4 !=  null and sch_Att4 !=  ''   ">
			and att4 like CONCAT('%',#{sch_Att4,jdbcType=VARCHAR})
		</if>
		<if test="schAtt4_ !=  null and schAtt4_ !=  ''   ">
			and att4 like CONCAT(#{schAtt4_,jdbcType=VARCHAR},'%')
		</if>
		<if test="att4Start !=  null and att4End!= null  ">
			and att4 between #{att4Start,jdbcType=VARCHAR} and
			#{att4End,jdbcType=VARCHAR}
		</if>
		<if test="att5 !=  null and att5 !=  ''   ">and att5 = #{att5,jdbcType=VARCHAR}</if>
		<if test="sch_Att5_ !=  null and sch_Att5_ !=  ''   ">
			and att5 like
			CONCAT(CONCAT('%',#{sch_Att5_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Att5 !=  null and sch_Att5 !=  ''   ">
			and att5 like CONCAT('%',#{sch_Att5,jdbcType=VARCHAR})
		</if>
		<if test="schAtt5_ !=  null and schAtt5_ !=  ''   ">
			and att5 like CONCAT(#{schAtt5_,jdbcType=VARCHAR},'%')
		</if>
		<if test="att5Start !=  null and att5End!= null  ">
			and att5 between #{att5Start,jdbcType=VARCHAR} and
			#{att5End,jdbcType=VARCHAR}
		</if>
		<if test="att6 !=  null and att6 !=  ''   ">and att6 = #{att6,jdbcType=VARCHAR}</if>
		<if test="sch_Att6_ !=  null and sch_Att6_ !=  ''   ">
			and att6 like
			CONCAT(CONCAT('%',#{sch_Att6_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Att6 !=  null and sch_Att6 !=  ''   ">
			and att6 like CONCAT('%',#{sch_Att6,jdbcType=VARCHAR})
		</if>
		<if test="schAtt6_ !=  null and schAtt6_ !=  ''   ">
			and att6 like CONCAT(#{schAtt6_,jdbcType=VARCHAR},'%')
		</if>
		<if test="att6Start !=  null and att6End!= null  ">
			and att6 between #{att6Start,jdbcType=VARCHAR} and
			#{att6End,jdbcType=VARCHAR}
		</if>
		<if test="publishModified !=  null  ">
			and publish_modified = #{publishModified,jdbcType=TIMESTAMP}
		</if>
		<if test="publishModifiedStart !=  null and publishModifiedEnd!= null  ">
			and publish_modified between #{publishModifiedStart,jdbcType=TIMESTAMP}
			and #{publishModifiedEnd,jdbcType=TIMESTAMP}
		</if>
		<if test="dateAtt2 !=  null  ">
			and date_att2 = #{dateAtt2,jdbcType=TIMESTAMP}
		</if>
		<if test="dateAtt2Start !=  null and dateAtt2End!= null  ">
			and date_att2 between #{dateAtt2Start,jdbcType=TIMESTAMP}
			and #{dateAtt2End,jdbcType=TIMESTAMP}
		</if>
		<if test="styleId !=  null  ">and style_id = #{styleId,jdbcType=INTEGER}</if>
		<if test="cadPicId !=  null  ">and cad_pic_id = #{cadPicId,jdbcType=INTEGER}</if>
		<if test="numAtt3 !=  null  ">and num_att3 = #{numAtt3,jdbcType=DOUBLE}</if>
		<if test="numAtt4 !=  null  ">and num_att4 = #{numAtt4,jdbcType=DOUBLE}</if>
		<if test="remark !=  null and remark !=  ''   ">and remark = #{remark,jdbcType=VARCHAR}</if>
		<if test="sch_Remark_ !=  null and sch_Remark_ !=  ''   ">
			and remark like
			CONCAT(CONCAT('%',#{sch_Remark_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Remark !=  null and sch_Remark !=  ''   ">
			and remark like CONCAT('%',#{sch_Remark,jdbcType=VARCHAR})
		</if>
		<if test="schRemark_ !=  null and schRemark_ !=  ''   ">
			and remark like CONCAT(#{schRemark_,jdbcType=VARCHAR},'%')
		</if>
		<if test="remarkStart !=  null and remarkEnd!= null  ">
			and remark between #{remarkStart,jdbcType=VARCHAR} and
			#{remarkEnd,jdbcType=VARCHAR}
		</if>
		<if test="isHasPic ==  1 ">
			and pic_id &gt; 0
		</if>
		<if test="isHasPic ==  2 ">
			and pic_id = 0
		</if>
		<if test="isHasModel ==  1 ">
			and model_3d_id &gt; 0
		</if>
		<if test="isHasModel ==  2 ">
			and model_3d_id = 0
		</if>
	</select>

	<!-- 分页查询 ,可在SpaceCommonSearch中自定义查询条件 -->
	<select id="selectPaginatedList" resultMap="AllResultMap"
		parameterType="com.sandu.home.model.search.SpaceCommonSearch">
		select
		<include refid="All_Column_List" />
		from space_common
		where 1=1
		<if test="sysCode !=  null and sysCode !=  ''   ">and sys_code = #{sysCode,jdbcType=VARCHAR}</if>
		<if test="sch_SysCode_ !=  null and sch_SysCode_ !=  ''   ">
			and sys_code like
			CONCAT(CONCAT('%',#{sch_SysCode_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SysCode !=  null and sch_SysCode !=  ''   ">
			and sys_code like
			CONCAT('%',#{sch_SysCode,jdbcType=VARCHAR})
		</if>
		<if test="schSysCode_ !=  null and schSysCode_ !=  ''   ">
			and sys_code like
			CONCAT(#{schSysCode_,jdbcType=VARCHAR},'%')
		</if>
		<if test="sysCodeStart !=  null and sysCodeEnd!= null  ">
			and sys_code between #{sysCodeStart,jdbcType=VARCHAR} and
			#{sysCodeEnd,jdbcType=VARCHAR}
		</if>
		<if test="creator !=  null and creator !=  ''   ">and creator = #{creator,jdbcType=VARCHAR}</if>
		<if test="sch_Creator_ !=  null and sch_Creator_ !=  ''   ">
			and creator like
			CONCAT(CONCAT('%',#{sch_Creator_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Creator !=  null and sch_Creator !=  ''   ">
			and creator like
			CONCAT('%',#{sch_Creator,jdbcType=VARCHAR})
		</if>
		<if test="schCreator_ !=  null and schCreator_ !=  ''   ">
			and creator like
			CONCAT(#{schCreator_,jdbcType=VARCHAR},'%')
		</if>
		<if test="creatorStart !=  null and creatorEnd!= null  ">
			and creator between #{creatorStart,jdbcType=VARCHAR} and
			#{creatorEnd,jdbcType=VARCHAR}
		</if>
		<if test="gmtCreate !=  null  ">
			and gmt_create = #{gmtCreate,jdbcType=TIMESTAMP}
		</if>
		<if test="gmtCreateStart !=  null and gmtCreateEnd!= null  ">
			and gmt_create between
			#{gmtCreateStart,jdbcType=TIMESTAMP} and
			#{gmtCreateEnd,jdbcType=TIMESTAMP}
		</if>
		<if test="modifier !=  null and modifier !=  ''   ">and modifier = #{modifier,jdbcType=VARCHAR}</if>
		<if test="sch_Modifier_ !=  null and sch_Modifier_ !=  ''   ">
			and modifier like
			CONCAT(CONCAT('%',#{sch_Modifier_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Modifier !=  null and sch_Modifier !=  ''   ">
			and modifier like
			CONCAT('%',#{sch_Modifier,jdbcType=VARCHAR})
		</if>
		<if test="schModifier_ !=  null and schModifier_ !=  ''   ">
			and modifier like
			CONCAT(#{schModifier_,jdbcType=VARCHAR},'%')
		</if>
		<if test="modifierStart !=  null and modifierEnd!= null  ">
			and modifier between #{modifierStart,jdbcType=VARCHAR} and
			#{modifierEnd,jdbcType=VARCHAR}
		</if>
		<if test="gmtModified !=  null  ">
			and gmt_modified = #{gmtModified,jdbcType=TIMESTAMP}
		</if>
		<if test="gmtModifiedStart !=  null and gmtModifiedEnd!= null  ">
			and gmt_modified between
			#{gmtModifiedStart,jdbcType=TIMESTAMP} and
			#{gmtModifiedEnd,jdbcType=TIMESTAMP}
		</if>
		<if test="isDeleted !=  null  ">and is_deleted = #{isDeleted,jdbcType=INTEGER}</if>
		<if test="spaceCode !=  null and spaceCode !=  ''   ">and space_code = #{spaceCode,jdbcType=VARCHAR}</if>
		<if test="sch_SpaceCode_ !=  null and sch_SpaceCode_ !=  ''   ">
			and space_code like
			CONCAT(CONCAT('%',#{sch_SpaceCode_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SpaceCode !=  null and sch_SpaceCode !=  ''   ">
			and space_code like
			CONCAT('%',#{sch_SpaceCode,jdbcType=VARCHAR})
		</if>
		<if test="schSpaceCode_ !=  null and schSpaceCode_ !=  ''   ">
			and space_code like
			CONCAT(#{schSpaceCode_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spaceCodeStart !=  null and spaceCodeEnd!= null  ">
			and space_code between #{spaceCodeStart,jdbcType=VARCHAR}
			and #{spaceCodeEnd,jdbcType=VARCHAR}
		</if>
		<if test="spaceName !=  null and spaceName !=  ''   ">and space_name = #{spaceName,jdbcType=VARCHAR}</if>
		<if test="sch_SpaceName_ !=  null and sch_SpaceName_ !=  ''   ">
			and space_name like
			CONCAT(CONCAT('%',#{sch_SpaceName_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SpaceName !=  null and sch_SpaceName !=  ''   ">
			and space_name like
			CONCAT('%',#{sch_SpaceName,jdbcType=VARCHAR})
		</if>
		<if test="schSpaceName_ !=  null and schSpaceName_ !=  ''   ">
			and space_name like
			CONCAT(#{schSpaceName_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spaceNameStart !=  null and spaceNameEnd!= null  ">
			and space_name between #{spaceNameStart,jdbcType=VARCHAR}
			and #{spaceNameEnd,jdbcType=VARCHAR}
		</if>
		<if test="spaceFunctionId !=  null  ">and space_function_id =
			#{spaceFunctionId,jdbcType=INTEGER}
		</if>
		<if test="mainLength !=  null and mainLength !=  ''   ">and main_length = #{mainLength,jdbcType=VARCHAR}</if>
		<if test="sch_MainLength_ !=  null and sch_MainLength_ !=  ''   ">
			and main_length like
			CONCAT(CONCAT('%',#{sch_MainLength_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_MainLength !=  null and sch_MainLength !=  ''   ">
			and main_length like
			CONCAT('%',#{sch_MainLength,jdbcType=VARCHAR})
		</if>
		<if test="schMainLength_ !=  null and schMainLength_ !=  ''   ">
			and main_length like
			CONCAT(#{schMainLength_,jdbcType=VARCHAR},'%')
		</if>
		<if test="mainLengthStart !=  null and mainLengthEnd!= null  ">
			and main_length between
			#{mainLengthStart,jdbcType=VARCHAR} and
			#{mainLengthEnd,jdbcType=VARCHAR}
		</if>
		<if test="mainWidth !=  null and mainWidth !=  ''   ">and main_width = #{mainWidth,jdbcType=VARCHAR}</if>
		<if test="sch_MainWidth_ !=  null and sch_MainWidth_ !=  ''   ">
			and main_width like
			CONCAT(CONCAT('%',#{sch_MainWidth_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_MainWidth !=  null and sch_MainWidth !=  ''   ">
			and main_width like
			CONCAT('%',#{sch_MainWidth,jdbcType=VARCHAR})
		</if>
		<if test="schMainWidth_ !=  null and schMainWidth_ !=  ''   ">
			and main_width like
			CONCAT(#{schMainWidth_,jdbcType=VARCHAR},'%')
		</if>
		<if test="mainWidthStart !=  null and mainWidthEnd!= null  ">
			and main_width between #{mainWidthStart,jdbcType=VARCHAR}
			and #{mainWidthEnd,jdbcType=VARCHAR}
		</if>
		<if test="spaceAreas !=  null and spaceAreas !=  ''   ">and space_areas = #{spaceAreas,jdbcType=VARCHAR}</if>
		<if test="sch_SpaceAreas_ !=  null and sch_SpaceAreas_ !=  ''   ">
			and space_areas like
			CONCAT(CONCAT('%',#{sch_SpaceAreas_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SpaceAreas !=  null and sch_SpaceAreas !=  ''   ">
			and space_areas like
			CONCAT('%',#{sch_SpaceAreas,jdbcType=VARCHAR})
		</if>
		<if test="schSpaceAreas_ !=  null and schSpaceAreas_ !=  ''   ">
			and space_areas like
			CONCAT(#{schSpaceAreas_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spaceAreasStart !=  null and spaceAreasEnd!= null  ">
			and space_areas between
			#{spaceAreasStart,jdbcType=VARCHAR} and
			#{spaceAreasEnd,jdbcType=VARCHAR}
		</if>
		<if test="spaceShape !=  null and spaceShape !=  ''   ">and space_shape = #{spaceShape,jdbcType=VARCHAR}</if>
		<if test="sch_SpaceShape_ !=  null and sch_SpaceShape_ !=  ''   ">
			and space_shape like
			CONCAT(CONCAT('%',#{sch_SpaceShape_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SpaceShape !=  null and sch_SpaceShape !=  ''   ">
			and space_shape like
			CONCAT('%',#{sch_SpaceShape,jdbcType=VARCHAR})
		</if>
		<if test="schSpaceShape_ !=  null and schSpaceShape_ !=  ''   ">
			and space_shape like
			CONCAT(#{schSpaceShape_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spaceShapeStart !=  null and spaceShapeEnd!= null  ">
			and space_shape between
			#{spaceShapeStart,jdbcType=VARCHAR} and
			#{spaceShapeEnd,jdbcType=VARCHAR}
		</if>
		<if test="doorLocationType !=  null and doorLocationType !=  ''   ">and door_location_type =
			#{doorLocationType,jdbcType=VARCHAR}
		</if>
		<if
			test="sch_DoorLocationType_ !=  null and sch_DoorLocationType_ !=  ''   ">
			and door_location_type like
			CONCAT(CONCAT('%',#{sch_DoorLocationType_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_DoorLocationType !=  null and sch_DoorLocationType !=  ''   ">
			and door_location_type like
			CONCAT('%',#{sch_DoorLocationType,jdbcType=VARCHAR})
		</if>
		<if test="schDoorLocationType_ !=  null and schDoorLocationType_ !=  ''   ">
			and door_location_type like
			CONCAT(#{schDoorLocationType_,jdbcType=VARCHAR},'%')
		</if>
		<if test="doorLocationTypeStart !=  null and doorLocationTypeEnd!= null  ">
			and door_location_type between
			#{doorLocationTypeStart,jdbcType=VARCHAR} and
			#{doorLocationTypeEnd,jdbcType=VARCHAR}
		</if>
		<if test="doorLocationId !=  null  ">and door_location_id = #{doorLocationId,jdbcType=INTEGER}
		</if>
		<if test="windowLocationValue !=  null  ">and window_location_value =
			#{windowLocationValue,jdbcType=INTEGER}
		</if>
		<if test="spaceDesc !=  null and spaceDesc !=  ''   ">and space_desc = #{spaceDesc,jdbcType=VARCHAR}</if>
		<if test="sch_SpaceDesc_ !=  null and sch_SpaceDesc_ !=  ''   ">
			and space_desc like
			CONCAT(CONCAT('%',#{sch_SpaceDesc_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SpaceDesc !=  null and sch_SpaceDesc !=  ''   ">
			and space_desc like
			CONCAT('%',#{sch_SpaceDesc,jdbcType=VARCHAR})
		</if>
		<if test="schSpaceDesc_ !=  null and schSpaceDesc_ !=  ''   ">
			and space_desc like
			CONCAT(#{schSpaceDesc_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spaceDescStart !=  null and spaceDescEnd!= null  ">
			and space_desc between #{spaceDescStart,jdbcType=VARCHAR}
			and #{spaceDescEnd,jdbcType=VARCHAR}
		</if>
		<if test="locationArrays !=  null and locationArrays !=  ''   ">and location_arrays =
			#{locationArrays,jdbcType=VARCHAR}
		</if>
		<if test="sch_LocationArrays_ !=  null and sch_LocationArrays_ !=  ''   ">
			and location_arrays like
			CONCAT(CONCAT('%',#{sch_LocationArrays_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_LocationArrays !=  null and sch_LocationArrays !=  ''   ">
			and location_arrays like
			CONCAT('%',#{sch_LocationArrays,jdbcType=VARCHAR})
		</if>
		<if test="schLocationArrays_ !=  null and schLocationArrays_ !=  ''   ">
			and location_arrays like
			CONCAT(#{schLocationArrays_,jdbcType=VARCHAR},'%')
		</if>
		<if test="locationArraysStart !=  null and locationArraysEnd!= null  ">
			and location_arrays between
			#{locationArraysStart,jdbcType=VARCHAR} and
			#{locationArraysEnd,jdbcType=VARCHAR}
		</if>
		<if test="isIncludeWay !=  null  ">and is_include_way = #{isIncludeWay,jdbcType=INTEGER}
		</if>
		<if test="wayLocation !=  null and wayLocation !=  ''   ">and way_location = #{wayLocation,jdbcType=VARCHAR}
		</if>
		<if test="sch_WayLocation_ !=  null and sch_WayLocation_ !=  ''   ">
			and way_location like
			CONCAT(CONCAT('%',#{sch_WayLocation_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_WayLocation !=  null and sch_WayLocation !=  ''   ">
			and way_location like
			CONCAT('%',#{sch_WayLocation,jdbcType=VARCHAR})
		</if>
		<if test="schWayLocation_ !=  null and schWayLocation_ !=  ''   ">
			and way_location like
			CONCAT(#{schWayLocation_,jdbcType=VARCHAR},'%')
		</if>
		<if test="wayLocationStart !=  null and wayLocationEnd!= null  ">
			and way_location between
			#{wayLocationStart,jdbcType=VARCHAR} and
			#{wayLocationEnd,jdbcType=VARCHAR}
		</if>
		<if test="userNum !=  null  ">and user_num = #{userNum,jdbcType=INTEGER}</if>
		<if test="searchNum !=  null  ">and search_num = #{searchNum,jdbcType=INTEGER}</if>
		<if test="spaceNum !=  null  ">and space_num = #{spaceNum,jdbcType=INTEGER}</if>
		<if test="isStandardSpace !=  null  ">and is_standard_space =
			#{isStandardSpace,jdbcType=INTEGER}</if>
		<if test="totalUsageAmount !=  null  ">and total_usage_amount =
			#{totalUsageAmount,jdbcType=INTEGER}</if>
		<if test="pid !=  null  ">and pid = #{pid,jdbcType=INTEGER}</if>

		<if test="standardSpaceType == 1">and pid = 0 and is_standard_space = 1</if>
		<if test="standardSpaceType == 2">and pid != 0 and is_standard_space IN (0,1)</if>
		<if test="standardSpaceType == 3">and pid = 0 and is_standard_space = 0</if>

		<if test="spacePercent !=  null and spacePercent !=  ''   ">and space_percent =
			#{spacePercent,jdbcType=VARCHAR}
		</if>
		<if test="sch_SpacePercent_ !=  null and sch_SpacePercent_ !=  ''   ">
			and space_percent like
			CONCAT(CONCAT('%',#{sch_SpacePercent_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SpacePercent !=  null and sch_SpacePercent !=  ''   ">
			and space_percent like
			CONCAT('%',#{sch_SpacePercent,jdbcType=VARCHAR})
		</if>
		<if test="schSpacePercent_ !=  null and schSpacePercent_ !=  ''   ">
			and space_percent like
			CONCAT(#{schSpacePercent_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spacePercentStart !=  null and spacePercentEnd!= null  ">
			and space_percent between
			#{spacePercentStart,jdbcType=VARCHAR} and
			#{spacePercentEnd,jdbcType=VARCHAR}
		</if>
		<if test="datasourceId !=  null  ">and datasource_id = #{datasourceId,jdbcType=INTEGER}</if>
		<if test="picId !=  null  ">and pic_id = #{picId,jdbcType=INTEGER}</if>
		<if test="modelId !=  null  ">and model_id = #{modelId,jdbcType=INTEGER}</if>
		<if test="status !=  null  ">and status = #{status,jdbcType=INTEGER}</if>
		<if test="model3dId !=  null and model3dId !=  ''   ">and model_3d_Id = #{model_3d_id,jdbcType=VARCHAR}</if>
		<if test="sch_Att1_ !=  null and sch_Att1_ !=  ''   ">
			and att1 like
			CONCAT(CONCAT('%',#{sch_Att1_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Att1 !=  null and sch_Att1 !=  ''   ">
			and att1 like CONCAT('%',#{sch_Att1,jdbcType=VARCHAR})
		</if>
		<if test="schAtt1_ !=  null and schAtt1_ !=  ''   ">
			and att1 like CONCAT(#{schAtt1_,jdbcType=VARCHAR},'%')
		</if>
		<if test="att1Start !=  null and att1End!= null  ">
			and att1 between #{att1Start,jdbcType=VARCHAR} and
			#{att1End,jdbcType=VARCHAR}
		</if>
		<if test="modelU3dId !=  null and modelU3dId !=  ''   ">and modelU3dId = #{model_u3d_id,jdbcType=VARCHAR}</if>
		<if test="macBookPcU3dModelId != null">and macBookPcU3dModelId =
			#{macBookPc_u3d_model_id,jdbcType=VARCHAR}</if>
		<if test="windowsPcU3dModelId != null">and windowsPcU3dModelId =
			#{windowsPc_u3d_model_id,jdbcType=VARCHAR}</if>
		<if test="ipadU3dModelId != null">and ipadU3dModelId = #{ipad_u3d_model_id,jdbcType=VARCHAR}
		</if>
		<if test="androidU3dModelId != null">and androidU3dModelId =
			#{android_u3d_model_id,jdbcType=VARCHAR}</if>
		<if test="iosU3dModelId != null">and iosU3dModelId = #{ios_u3d_model_id,jdbcType=VARCHAR}
		</if>
		<if test="sch_Att2_ !=  null and sch_Att2_ !=  ''   ">
			and att2 like
			CONCAT(CONCAT('%',#{sch_Att2_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Att2 !=  null and sch_Att2 !=  ''   ">
			and att2 like CONCAT('%',#{sch_Att2,jdbcType=VARCHAR})
		</if>
		<if test="schAtt2_ !=  null and schAtt2_ !=  ''   ">
			and att2 like CONCAT(#{schAtt2_,jdbcType=VARCHAR},'%')
		</if>
		<if test="att2Start !=  null and att2End!= null  ">
			and att2 between #{att2Start,jdbcType=VARCHAR} and
			#{att2End,jdbcType=VARCHAR}
		</if>
		<if test="view3dPic !=  null and view3dPic !=  ''   ">and view3d_pic_id = #{view3dPic,jdbcType=VARCHAR}</if>
		<if test="sch_View3dPic_ !=  null and sch_View3dPic_ !=  ''   ">
			and view3d_pic_id like
			CONCAT(CONCAT('%',#{sch_View3dPic_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_View3dPic !=  null and sch_View3dPic !=  ''   ">
			and view3d_pic_id like
			CONCAT('%',#{sch_View3dPic,jdbcType=VARCHAR})
		</if>
		<if test="schView3dPic_ !=  null and schView3dPic_ !=  ''   ">
			and view3d_pic_id like
			CONCAT(#{schView3dPic_,jdbcType=VARCHAR},'%')
		</if>
		<if test="view3dPicStart !=  null and view3dPicEnd!= null  ">
			and view3d_pic_id between
			#{view3dPicStart,jdbcType=VARCHAR} and
			#{view3dPicEnd,jdbcType=VARCHAR}
		</if>
		<if test="viewPlanIds !=  null and viewPlanIds !=  ''   ">and view_plan_ids = #{viewPlanIds,jdbcType=VARCHAR}
		</if>
		<if test="att4 !=  null and att4 !=  ''   ">and att4 = #{att4,jdbcType=VARCHAR}</if>
		<if test="sch_Att4_ !=  null and sch_Att4_ !=  ''   ">
			and att4 like
			CONCAT(CONCAT('%',#{sch_Att4_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Att4 !=  null and sch_Att4 !=  ''   ">
			and att4 like CONCAT('%',#{sch_Att4,jdbcType=VARCHAR})
		</if>
		<if test="schAtt4_ !=  null and schAtt4_ !=  ''   ">
			and att4 like CONCAT(#{schAtt4_,jdbcType=VARCHAR},'%')
		</if>
		<if test="att4Start !=  null and att4End!= null  ">
			and att4 between #{att4Start,jdbcType=VARCHAR} and
			#{att4End,jdbcType=VARCHAR}
		</if>
		<if test="att5 !=  null and att5 !=  ''   ">and att5 = #{att5,jdbcType=VARCHAR}</if>
		<if test="sch_Att5_ !=  null and sch_Att5_ !=  ''   ">
			and att5 like
			CONCAT(CONCAT('%',#{sch_Att5_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Att5 !=  null and sch_Att5 !=  ''   ">
			and att5 like CONCAT('%',#{sch_Att5,jdbcType=VARCHAR})
		</if>
		<if test="schAtt5_ !=  null and schAtt5_ !=  ''   ">
			and att5 like CONCAT(#{schAtt5_,jdbcType=VARCHAR},'%')
		</if>
		<if test="att5Start !=  null and att5End!= null  ">
			and att5 between #{att5Start,jdbcType=VARCHAR} and
			#{att5End,jdbcType=VARCHAR}
		</if>
		<if test="att6 !=  null and att6 !=  ''   ">and att6 = #{att6,jdbcType=VARCHAR}</if>
		<if test="sch_Att6_ !=  null and sch_Att6_ !=  ''   ">
			and att6 like
			CONCAT(CONCAT('%',#{sch_Att6_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Att6 !=  null and sch_Att6 !=  ''   ">
			and att6 like CONCAT('%',#{sch_Att6,jdbcType=VARCHAR})
		</if>
		<if test="schAtt6_ !=  null and schAtt6_ !=  ''   ">
			and att6 like CONCAT(#{schAtt6_,jdbcType=VARCHAR},'%')
		</if>
		<if test="att6Start !=  null and att6End!= null  ">
			and att6 between #{att6Start,jdbcType=VARCHAR} and
			#{att6End,jdbcType=VARCHAR}
		</if>
		<if test="publishModified !=  null  ">
			and publish_modified = #{publishModified,jdbcType=TIMESTAMP}
		</if>
		<if test="publishModifiedStart !=  null and publishModifiedEnd!= null  ">
			and publish_modified between #{publishModifiedStart,jdbcType=TIMESTAMP}
			and #{publishModifiedEnd,jdbcType=TIMESTAMP}
		</if>
		<if test="dateAtt2 !=  null  ">
			and date_att2 = #{dateAtt2,jdbcType=TIMESTAMP}
		</if>
		<if test="dateAtt2Start !=  null and dateAtt2End!= null  ">
			and date_att2 between #{dateAtt2Start,jdbcType=TIMESTAMP}
			and #{dateAtt2End,jdbcType=TIMESTAMP}
		</if>
		<if test="styleId !=  null  ">and style_id = #{styleId,jdbcType=INTEGER}</if>
		<if test="cadPicId !=  null  ">and cad_pic_id = #{cadPicId,jdbcType=INTEGER}</if>
		<if test="numAtt3 !=  null  ">and num_att3 = #{numAtt3,jdbcType=DOUBLE}</if>
		<if test="numAtt4 !=  null  ">and num_att4 = #{numAtt4,jdbcType=DOUBLE}</if>
		<if test="remark !=  null and remark !=  ''   ">and remark = #{remark,jdbcType=VARCHAR}</if>
		<if test="sch_Remark_ !=  null and sch_Remark_ !=  ''   ">
			and remark like
			CONCAT(CONCAT('%',#{sch_Remark_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_Remark !=  null and sch_Remark !=  ''   ">
			and remark like CONCAT('%',#{sch_Remark,jdbcType=VARCHAR})
		</if>
		<if test="schRemark_ !=  null and schRemark_ !=  ''   ">
			and remark like CONCAT(#{schRemark_,jdbcType=VARCHAR},'%')
		</if>
		<if test="remarkStart !=  null and remarkEnd!= null  ">
			and remark between #{remarkStart,jdbcType=VARCHAR} and
			#{remarkEnd,jdbcType=VARCHAR}
		</if>
		<if test="isHasPic ==  1 ">
			and pic_id &gt; 0
		</if>
		<if test="isHasPic ==  2 ">
			and (pic_id = 0 or pic_id is null or pic_id='')
		</if>
		<if test="isHasModel ==  1 ">
			and model_3d_id &gt; 0
		</if>
		<if test="isHasModel ==  2 ">
			and (model_3d_id = 0 or model_3d_id is null or model_3d_id=''
			or model_u3d_id = 0 or model_u3d_id is null or model_u3d_id=''
			)
		</if>
		<if test="order != null and  order !=''  ">
			order by ${order}
			<if test="orderNum != null and  orderNum !='' ">${orderNum}</if>
		</if>
		<if test="orders != null and  orders !=''  ">order by ${orders}</if>
		<!-- <if test="order == null and orders == null "> order by space_function_id 
			asc,space_num desc</if> -->
		<if test="start !=-1 and limit !=-1">LIMIT #{start}, #{limit}</if>
	</select>


	<!-- **结果定义** -->
	<resultMap id="spaceCommonListResultMap" type="com.sandu.home.model.SpaceCommon">
		<id column="id" property="id" jdbcType="INTEGER" />
		<result column="sys_code" property="sysCode" jdbcType="VARCHAR" />
		<result column="creator" property="creator" jdbcType="VARCHAR" />
		<result column="gmt_create" property="gmtCreate" jdbcType="TIMESTAMP" />
		<result column="modifier" property="modifier" jdbcType="VARCHAR" />
		<result column="gmt_modified" property="gmtModified" jdbcType="TIMESTAMP" />
		<result column="is_deleted" property="isDeleted" jdbcType="INTEGER" />
		<result column="space_code" property="spaceCode" jdbcType="VARCHAR" />
		<result column="space_name" property="spaceName" jdbcType="VARCHAR" />
		<result column="space_function_id" property="spaceFunctionId"
			jdbcType="INTEGER" />
		<result column="main_length" property="mainLength" jdbcType="VARCHAR" />
		<result column="main_width" property="mainWidth" jdbcType="VARCHAR" />
		<result column="space_areas" property="spaceAreas" jdbcType="VARCHAR" />
		<result column="space_shape" property="spaceShape" jdbcType="VARCHAR" />
		<result column="door_location_type" property="doorLocationType"
			jdbcType="VARCHAR" />
		<result column="door_location_id" property="doorLocationId"
			jdbcType="INTEGER" />
		<result column="window_location_value" property="windowLocationValue"
			jdbcType="INTEGER" />
		<result column="space_desc" property="spaceDesc" jdbcType="VARCHAR" />
		<result column="location_arrays" property="locationArrays"
			jdbcType="VARCHAR" />
		<result column="is_include_way" property="isIncludeWay"
			jdbcType="INTEGER" />
		<result column="way_location" property="wayLocation" jdbcType="VARCHAR" />
		<result column="user_num" property="userNum" jdbcType="INTEGER" />
		<result column="search_num" property="searchNum" jdbcType="INTEGER" />
		<result column="space_num" property="spaceNum" jdbcType="INTEGER" />
		<result column="space_percent" property="spacePercent"
			jdbcType="VARCHAR" />
		<result column="total_usage_amount" property="totalUsageAmount"
			jdbcType="INTEGER" />
		<result column="is_standard_space" property="isStandardSpace"
			jdbcType="INTEGER" />
		<result column="pid" property="pid" jdbcType="INTEGER" />
		<result column="datasource_id" property="datasourceId"
			jdbcType="INTEGER" />
		<result column="pic_id" property="picId" jdbcType="INTEGER" />
		<result column="model_id" property="modelId" jdbcType="INTEGER" />
		<result column="status" property="status" jdbcType="INTEGER" />
		<result column="model_3d_id" property="model3dId" jdbcType="VARCHAR" />
		<result column="model_u3d_id" property="modelU3dId" jdbcType="VARCHAR" />
		<result column="macBookPc_u3d_model_id" property="macBookPcU3dModelId"
			jdbcType="VARCHAR" />
		<result column="windowsPc_u3d_model_id" property="windowsPcU3dModelId"
			jdbcType="VARCHAR" />
		<result column="ipad_u3d_model_id" property="ipadU3dModelId"
			jdbcType="VARCHAR" />
		<result column="android_u3d_model_id" property="androidU3dModelId"
			jdbcType="VARCHAR" />
		<result column="ios_u3d_model_id" property="iosU3dModelId"
			jdbcType="VARCHAR" />
		<result column="view3d_pic_id" property="view3dPic" jdbcType="VARCHAR" />
		<result column="view_plan_ids" property="viewPlanIds" jdbcType="VARCHAR" />
		<result column="att4" property="att4" jdbcType="VARCHAR" />
		<result column="att5" property="att5" jdbcType="VARCHAR" />
		<result column="att6" property="att6" jdbcType="VARCHAR" />
		<result column="publish_modified" property="publishModified"
			jdbcType="TIMESTAMP" />
		<result column="date_att2" property="dateAtt2" jdbcType="TIMESTAMP" />
		<result column="style_id" property="styleId" jdbcType="INTEGER" />
		<result column="cad_pic_id" property="cadPicId" jdbcType="INTEGER" />
		<result column="num_att3" property="numAtt3" jdbcType="DOUBLE" />
		<result column="num_att4" property="numAtt4" jdbcType="DOUBLE" />
		<result column="remark" property="remark" jdbcType="VARCHAR" />
		<result column="area_range" property="areaRange" jdbcType="VARCHAR" />
		<result column="scene3d_id" property="scene3dId" jdbcType="INTEGER" />
		<result column="space_analyze_code" property="spaceAnalyzeCode"
			jdbcType="VARCHAR" />
		<result column="space_u3d_code" property="spaceU3dCode"
			jdbcType="VARCHAR" />
	</resultMap>

	<select id="selectPageSelectList" resultMap="spaceCommonListResultMap"
		parameterType="com.sandu.home.model.search.SpaceCommonSearch">
		SELECT
		c.id,c.space_code,c.space_name,c.space_function_id,c.pic_id,sd_area.houseTypeName
		AS t,sd_area.areaRange
		FROM space_common c,(SELECT * FROM sys_dictionary WHERE 1=1
		<if test="type != null and type != ''">
			and att1 = #{type,jdbcType=VARCHAR}
		</if>
		AND TYPE='houseType' ) sd_houseTpye
		<if test="areaCount !=  null and  areaCount !='' ">
			,(SELECT sd1.name houseTypeName,sd1.value houseType,sd2.name
			areaRange,sd2.value areaValue FROM
			sys_dictionary sd2,(
			SELECT * FROM sys_dictionary sd WHERE sd.type = 'houseType'
			<if test="type != null and type != ''">
				and sd.att1 = #{type,jdbcType=VARCHAR}
			</if>
			) sd1
			WHERE sd1.valuekey = sd2.type
			AND (
			((sd2.att1 IS NULL OR sd2.att1 = '')
			AND #{areaCount,jdbcType=NUMERIC} BETWEEN SUBSTRING_INDEX(sd2.name, '~',
			1)*1 AND
			REVERSE(SUBSTRING_INDEX(REVERSE(sd2.name), '~', 1))+1
			AND #{areaCount,jdbcType=NUMERIC} !=
			REVERSE(SUBSTRING_INDEX(REVERSE(sd2.name), '~', 1))+1)
			OR (SUBSTRING(sd2.att1, 1, 1) = '~' AND #{areaCount,jdbcType=NUMERIC} >
			REVERSE(SUBSTRING_INDEX(REVERSE(sd2.att1), '~', 1))*1)
			)) sd_area
		</if>
		WHERE 1=1
		<if test="areaCount !=  null and  areaCount !='' ">
			AND c.space_function_id = sd_houseTpye.value
			AND c.space_function_id = sd_area.houseType
			AND c.space_areas = sd_area.areaValue
		</if>
		<if test="isDeleted !=  null  ">and c.is_deleted = #{isDeleted,jdbcType=INTEGER}</if>
		<if test="spaceCode !=  null and spaceCode !=  ''   ">and c.space_code = #{spaceCode,jdbcType=VARCHAR}</if>
		<if test="sch_SpaceCode_ !=  null and sch_SpaceCode_ !=  ''   ">
			and c.space_code like
			CONCAT(CONCAT('%',#{sch_SpaceCode_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SpaceCode !=  null and sch_SpaceCode !=  ''   ">
			and c.space_code like
			CONCAT('%',#{sch_SpaceCode,jdbcType=VARCHAR})
		</if>
		<if test="schSpaceCode_ !=  null and schSpaceCode_ !=  ''   ">
			and c.space_code like
			CONCAT(#{schSpaceCode_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spaceCodeStart !=  null and spaceCodeEnd!= null  ">
			and c.space_code between #{spaceCodeStart,jdbcType=VARCHAR}
			and #{spaceCodeEnd,jdbcType=VARCHAR}
		</if>
		<if test="spaceName !=  null and spaceName !=  ''   ">and c.space_name = #{spaceName,jdbcType=VARCHAR}</if>
		<if test="sch_SpaceName_ !=  null and sch_SpaceName_ !=  ''   ">
			and c.space_name like
			CONCAT(CONCAT('%',#{sch_SpaceName_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="spaceShape !=  null and spaceShape !=  ''   ">and c.space_shape = #{spaceShape,jdbcType=VARCHAR}</if>
		<if test="doorLocationId !=  null ">and c.door_location_id =
			#{doorLocationId,jdbcType=INTEGER}</if>
		<if test="windowLocationValue !=  null    ">and c.window_location_value =
			#{windowLocationValue,jdbcType=INTEGER}
		</if>
		<if test="sch_SpaceName !=  null and sch_SpaceName !=  ''   ">
			and c.space_name like
			CONCAT('%',#{sch_SpaceName,jdbcType=VARCHAR})
		</if>
		<if test="schSpaceName_ !=  null and schSpaceName_ !=  ''   ">
			and c.space_name like
			CONCAT(#{schSpaceName_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spaceNameStart !=  null and spaceNameEnd!= null  ">
			and c.space_name between #{spaceNameStart,jdbcType=VARCHAR}
			and #{spaceNameEnd,jdbcType=VARCHAR}
		</if>
		<if test="spaceFunctionId !=  null  ">
			AND c.`space_function_id` =#{spaceFunctionId,jdbcType=INTEGER}
		</if>
		<if test="pid !=  null  ">
			AND c.`pid` =#{pid,jdbcType=INTEGER}
		</if>
		<if test="isStandardSpace !=  null  ">
			AND c.is_standard_space =#{isStandardSpace,jdbcType=INTEGER}
		</if>

		<if test="order != null and order !='' ">
			order by ${order}
			<if test="orderNum != null and orderNum !='' ">${orderNum}</if>
		</if>
		<if test="orders != null  and orders !='' ">order by ${orders}</if>
		<if test="order == null and orders == null ">order by c.space_function_id asc,c.space_num desc</if>
		<if test="start !=-1 and limit !=-1">LIMIT #{start}, #{limit}</if>
	</select>

	<select id="selectPageSelectCount" resultType="int"
		parameterType="com.sandu.home.model.search.SpaceCommonSearch">
		SELECT count(c.id)
		FROM space_common c,(SELECT * FROM sys_dictionary WHERE 1=1
		<if test="type != null and type != ''">
			and att1 = #{type,jdbcType=VARCHAR}
		</if>
		AND TYPE='houseType' ) sd_houseTpye
		<if test="areaCount !=  null and  areaCount !='' ">
			,(SELECT sd1.name houseTypeName,sd1.value houseType,sd2.name
			areaRange,sd2.value areaValue FROM
			sys_dictionary sd2,(
			SELECT * FROM sys_dictionary sd WHERE sd.type = 'houseType'
			<if test="type != null and type != ''">
				and sd.att1 = #{type,jdbcType=VARCHAR}
			</if>
			) sd1
			WHERE sd1.valuekey = sd2.type
			AND (
			((sd2.att1 IS NULL OR sd2.att1 = '')
			AND #{areaCount,jdbcType=NUMERIC} BETWEEN SUBSTRING_INDEX(sd2.name, '~',
			1)*1 AND
			REVERSE(SUBSTRING_INDEX(REVERSE(sd2.name), '~', 1))+1
			AND #{areaCount,jdbcType=NUMERIC} !=
			REVERSE(SUBSTRING_INDEX(REVERSE(sd2.name), '~', 1))+1)
			OR (SUBSTRING(sd2.att1, 1, 1) = '~' AND #{areaCount,jdbcType=NUMERIC} >
			REVERSE(SUBSTRING_INDEX(REVERSE(sd2.att1), '~', 1))*1)
			)) sd_area
		</if>
		WHERE 1=1
		<if test="areaCount !=  null and  areaCount !='' ">
			AND c.space_function_id = sd_houseTpye.value
			AND c.space_function_id = sd_area.houseType
			AND c.space_areas = sd_area.areaValue
		</if>
		<if test="isDeleted !=  null  ">and c.is_deleted = #{isDeleted,jdbcType=INTEGER}</if>
		<if test="spaceCode !=  null and spaceCode !=  ''   ">and c.space_code = #{spaceCode,jdbcType=VARCHAR}</if>
		<if test="sch_SpaceCode_ !=  null and sch_SpaceCode_ !=  ''   ">
			and c.space_code like
			CONCAT(CONCAT('%',#{sch_SpaceCode_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="sch_SpaceCode !=  null and sch_SpaceCode !=  ''   ">
			and c.space_code like
			CONCAT('%',#{sch_SpaceCode,jdbcType=VARCHAR})
		</if>
		<if test="schSpaceCode_ !=  null and schSpaceCode_ !=  ''   ">
			and c.space_code like
			CONCAT(#{schSpaceCode_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spaceCodeStart !=  null and spaceCodeEnd!= null  ">
			and c.space_code between #{spaceCodeStart,jdbcType=VARCHAR}
			and #{spaceCodeEnd,jdbcType=VARCHAR}
		</if>
		<if test="spaceName !=  null and spaceName !=  ''   ">and c.space_name = #{spaceName,jdbcType=VARCHAR}</if>
		<if test="sch_SpaceName_ !=  null and sch_SpaceName_ !=  ''   ">
			and c.space_name like
			CONCAT(CONCAT('%',#{sch_SpaceName_,jdbcType=VARCHAR}),'%')
		</if>
		<if test="spaceShape !=  null and spaceShape !=  ''   ">and c.space_shape = #{spaceShape,jdbcType=VARCHAR}</if>
		<if test="doorLocationId !=  null ">and c.door_location_id =
			#{doorLocationId,jdbcType=INTEGER}</if>
		<if test="windowLocationValue !=  null    ">and c.window_location_value =
			#{windowLocationValue,jdbcType=INTEGER}
		</if>
		<if test="sch_SpaceName !=  null and sch_SpaceName !=  ''   ">
			and c.space_name like
			CONCAT('%',#{sch_SpaceName,jdbcType=VARCHAR})
		</if>
		<if test="schSpaceName_ !=  null and schSpaceName_ !=  ''   ">
			and c.space_name like
			CONCAT(#{schSpaceName_,jdbcType=VARCHAR},'%')
		</if>
		<if test="spaceNameStart !=  null and spaceNameEnd!= null  ">
			and c.space_name between #{spaceNameStart,jdbcType=VARCHAR}
			and #{spaceNameEnd,jdbcType=VARCHAR}
		</if>
		<if test="spaceFunctionId !=  null  ">
			AND c.`space_function_id` =#{spaceFunctionId,jdbcType=INTEGER}
		</if>
		<if test="pid !=  null  ">
			AND c.`pid` =#{pid,jdbcType=INTEGER}
		</if>
		<if test="isStandardSpace !=  null  ">
			AND c.is_standard_space =#{isStandardSpace,jdbcType=INTEGER}
		</if>

		<!-- <if test="order != null and order !='' "> order by ${order} <if test="orderNum 
			!= null and orderNum !='' ">${orderNum}</if> </if> <if test="orders != null 
			and orders !='' "> order by ${orders}</if> <if test="order == null and orders 
			== null "> order by space_function_id asc,space_num desc</if> <if test="start 
			!=-1 and limit !=-1"> LIMIT #{start}, #{limit}</if> -->
	</select>

	<!-- 户型搜索结果 -->
	<resultMap id="houseSpaceResultMap" type="com.sandu.home.model.HouseSpaceResult">
		<id column="id" property="spaceId" jdbcType="INTEGER" />
		<result column="space_function_id" property="spaceFunctionId" jdbcType="INTEGER" />
		<result column="living_id" property="livingId" jdbcType="INTEGER" />
		<result column="living_name" property="livingName" jdbcType="VARCHAR" />
		<result column="house_name" property="houseName" jdbcType="VARCHAR" />
		<result column="house_common_code" property="houseCommonCode" jdbcType="VARCHAR" />
		<result column="space_name" property="spaceName" jdbcType="VARCHAR" />
		<result column="space_areas" property="spaceAreas" jdbcType="VARCHAR" />
		<result column="view3d_pic_id" property="view3dPicId" jdbcType="VARCHAR" />
		<result column="view_plan_ids" property="viewPlanIds" jdbcType="VARCHAR" />
		<result column="space_shape" property="spaceShape" jdbcType="VARCHAR" />
		<result column="templateId" property="templateId" jdbcType="INTEGER" />
		<result column="dictionaryName" property="dictionaryName" jdbcType="VARCHAR" />
	</resultMap>
	<select id="houseSpaceList" resultMap="houseSpaceResultMap"
		parameterType="java.lang.Integer">
		SELECT DISTINCT
		c.id,c.space_function_id,h.house_name,l.living_name,h.house_common_code,c.space_name,c.space_areas,c.view3d_pic_id,c.view_plan_ids
		FROM space_common c
		<!-- LEFT JOIN house_space_new s ON s.space_id = c.id -->
		JOIN house_space_new s ON s.standard_space_id = c.id
		JOIN base_house h ON h.id= s.house_id
		JOIN base_living l ON l.id = h.living_id
		JOIN design_templet dt ON dt.space_common_id = c.id
		WHERE 1=1
		AND s.house_id = #{houseId}

		<!-- AND dt.putaway_state = 1 以前已经上架显示，现在是已发布的显示 -->
		AND dt.putaway_state = 3
	</select>

	<select id="getHouseSpaceListCount" resultType="int"
		parameterType="com.sandu.home.model.SpaceCommon">
		SELECT count(DISTINCT c.id)
		from space_common c
		JOIN design_templet dt ON dt.space_common_id = c.id
		JOIN house_space_new s ON s.standard_space_id = c.id
		JOIN base_house h ON h.id= s.house_id
		JOIN base_living l ON l.id = h.living_id
		WHERE 1=1
		and dt.is_deleted = 0
		and dt.putaway_state = 3
		<if test="houseId!= null">
			AND s.house_id = #{houseId,jdbcType=INTEGER}
		</if>
		<if test="livingId!= null">
			AND h.living_id = #{livingId,jdbcType=INTEGER}
		</if>
		<!-- and c.status != 2 以前已经上架显示，现在是已发布的显示 内部用户能看到 发布3 上架1 测试5，并且要是内网 -->
		<if
			test="userType!= null and userType == 1 and versionType !=null and versionType !=''   and  versionType == 2">
			and c.status = 3
		</if>
		<if
			test="userType ==null or userType != 1 or versionType == null or versionType !=2 ">
			and c.status = 3
		</if>
		<if test="spaceFunctionId != null and spaceFunctionId != '' ">
			and c.space_function_id = #{spaceFunctionId,jdbcType=INTEGER}
		</if>
		<!-- <if test="blackList !=  null and  blackList.size > 0  ">
			and c.space_function_id not in
			<foreach collection="blackList" index="index" item="item"
				open="(" separator="," close=")">
				#{item}
			</foreach>
		</if> -->
	</select>

	<select id="getHouseSpaceListCount2" resultType="int"
		parameterType="com.sandu.home.model.SpaceCommon">
		SELECT count(DISTINCT c.id)
		<if test="levelLimitCount>=0"> (select * from space_common limit #{levelLimitCount}) c
		</if>
		<if test=" levelLimitCount &lt; 0 ">from space_common c</if>
		JOIN house_space_new s ON s.standard_space_id = c.id
		JOIN base_house h ON h.id= s.house_id
		JOIN base_living l ON l.id = h.living_id
		WHERE 1=1
		<if test="houseId!= null">
			AND s.house_id = #{houseId,jdbcType=INTEGER}
		</if>
		<if test="livingId!= null">
			AND h.living_id = #{livingId,jdbcType=integer}
		</if>
		<!-- and c.status != 2 以前已经上架显示，现在是已发布的显示 内部用户能看到 发布3 上架1 测试5,并且要是内网环境 -->
		<if
			test="userType!= null and userType == 1 and versionType !=null and versionType !=''   and  versionType == 2">
			and c.status = 3
		</if>
		<if
			test="userType ==null or userType != 1 or versionType == null or versionType !=2 ">
			and c.status = 3
		</if>
		<if test="blackList !=  null and  blackList.size > 0  ">
			and c.space_function_id not in
			<foreach collection="blackList" index="index" item="item"
				open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>
	</select>

	<select id="getPaginatedHouseSpaceList" resultMap="houseSpaceResultMap"
		parameterType="com.sandu.home.model.SpaceCommon">
		SELECT DISTINCT
		c.id,c.space_function_id,h.house_name,h.living_id,l.living_name,h.house_common_code,c.space_name,
		c.space_areas,c.view3d_pic_id,c.view_plan_ids,c.view_plan_ids,c.space_shape,dt.id as templateId,
		sd.name as dictionaryName
		FROM space_common c
		JOIN design_templet dt ON dt.space_common_id = c.id
		JOIN house_space_new s ON s.standard_space_id = c.id
		JOIN base_house h ON h.id= s.house_id
		JOIN base_living l ON l.id = h.living_id
		JOIN sys_dictionary sd ON sd.value = c.space_function_id
		WHERE 1=1
		and dt.is_deleted = 0
		and sd.type ='houseType'
		and dt.putaway_state = 3
		<if test="houseId!= null">
			AND s.house_id = #{houseId,jdbcType=INTEGER}
		</if>
		<if test="livingId!= null">
			AND h.living_id = #{livingId,jdbcType=INTEGER}
		</if>
		and c.pid = 0
		and c.is_standard_space = 1
		and c.status = 3
		<if test="spaceFunctionId != null and spaceFunctionId != '' ">
			and c.space_function_id = #{spaceFunctionId,jdbcType=INTEGER}
		</if>
		<!-- <if test="blackList !=  null and  blackList.size > 0  ">
			and c.space_function_id not in
			<foreach collection="blackList" index="index" item="item"
				open="(" separator="," close=")">
				#{item}
			</foreach>
		</if> -->
		order by sd.ordering,c.space_areas asc,c.id
		<if test="start !=-1 and limit !=-1">LIMIT #{start,jdbcType=INTEGER}, #{limit,jdbcType=INTEGER}
		</if>
	</select>

	<select id="getPaginatedHouseSpaceList2" resultMap="houseSpaceResultMap"
		parameterType="com.sandu.home.model.SpaceCommon">
		SELECT DISTINCT
		c.id,c.space_function_id,h.house_name,l.living_name,h.house_common_code,c.space_name,c.space_areas,c.view3d_pic_id,c.view_plan_ids,c.view_plan_ids

		<if test="levelLimitCount>=0">FROM (SELECT * FROM space_common LIMIT #{levelLimitCount})
			c</if>
		<if test=" levelLimitCount &lt; 0 ">FROM space_common c</if>
		JOIN house_space_new s ON s.standard_space_id = c.id
		JOIN base_house h ON h.id= s.house_id
		JOIN base_living l ON l.id = h.living_id
		JOIN sys_dictionary sd ON sd.value = c.space_function_id
		WHERE 1=1
		and sd.type ='houseType'
		<if test="houseId!= null">
			AND s.house_id = #{houseId,jdbcType=INTEGER}
		</if>
		<if test="livingId!= null">
			AND h.living_id = #{livingId,jdbcType=INTEGER}
		</if>
		and c.pid = 0
		and c.is_standard_space = 1
		<!-- and c.status != 2 以前已经上架显示，现在是已发布的显示 内部用户能看到 发布3 上架1 测试5，并且要是内网 -->
		<if
			test="userType!= null and userType == 1 and versionType !=null and versionType !=''   and  versionType == 2">
			and c.status = 3
		</if>
		<if
			test="userType ==null or userType != 1 or versionType == null or versionType !=2 ">
			and c.status = 3
		</if>

		<if test="blackList !=  null and  blackList.size > 0  ">
			and c.space_function_id not in
			<foreach collection="blackList" index="index" item="item"
				open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>

		order by sd.ordering,c.space_areas,c.id
		<if test="start !=-1 and limit !=-1">LIMIT #{start,jdbcType=INTEGER}, #{limit,jdbcType=INTEGER}
		</if>
	</select>

	<!-- 空间搜索 -->
	<select id="spaceSearchList" resultMap="AllResultMap"
		parameterType="com.sandu.home.model.SpaceCommon">
		select
		DISTINCT
		sc.id,sc.space_code,sc.space_name,sc.space_function_id,sc.main_length,sc.main_width,sc.space_areas,sc.space_shape,
		sc.door_location_type,sc.door_location_id,sc.window_location_value,sc.space_desc,sc.location_arrays,sc.is_include_way,sc.way_location,sc.user_num,sc.search_num,
		sc.space_num,sc.space_percent,sc.total_usage_amount,sc.pid,sc.is_standard_space,sc.datasource_id,sc.pic_id,sc.model_id,sc.status,
		sc.model_3d_id,sc.model_u3d_id,sc.macBookPc_u3d_model_id,sc.windowsPc_u3d_model_id,sc.ipad_u3d_model_id,sc.android_u3d_model_id,sc.ios_u3d_model_id,sc.view3d_pic_id,sc.view_plan_ids
		from space_common sc
		JOIN design_templet dt ON sc.id = dt.space_common_id
		where sc.is_deleted = 0 and dt.is_deleted = 0
		<if test="spaceFunctionId!= null">and sc.space_function_id =
			#{spaceFunctionId,jdbcType=INTEGER}</if>
		<if test="spaceShape!= null and spaceShape!= '' ">and sc.space_shape = #{spaceShape,jdbcType=VARCHAR}</if>
		<if test="spaceAreas!= null and spaceAreas!= '' ">and sc.space_areas = #{spaceAreas,jdbcType=VARCHAR}</if>
		<if test="isStandardSpace!= null">and sc.is_standard_space =
			#{isStandardSpace,jdbcType=INTEGER}</if>
		<if test="pid!= null">and sc.pid = #{pid,jdbcType=INTEGER}</if>
		<if test="openStatus!= null">and sc.open_status = #{openStatus,jdbcType=INTEGER}</if>
		<if test="status!= null">and sc.status = #{status,jdbcType=INTEGER}</if>
		<!-- and dt.putaway_state= 1 以前已经上架显示，现在是已发布的显示 -->
		and dt.putaway_state= 3
		ORDER BY (SUBSTRING(space_code,INSTR(space_code,'_') + 1))+0 ASC 
		<if test="start !=-1 and limit !=-1">LIMIT
			#{start,jdbcType=INTEGER}, #{limit,jdbcType=INTEGER}
		</if>
	</select>

	<select id="geVaildTotalNum" resultType="int">
		SELECT COUNT(1) FROM space_common WHERE is_deleted =0 AND status!=4
	</select>
	<select id="spaceSearchCount" resultType="int"
		parameterType="com.sandu.home.model.SpaceCommon">
		select
		count(DISTINCT sc.id)
		from space_common sc
		JOIN design_templet dt ON sc.id = dt.space_common_id
		where sc.is_deleted = 0 and dt.is_deleted = 0
		<if test="spaceFunctionId!= null">and sc.space_function_id =
			#{spaceFunctionId,jdbcType=INTEGER}</if>
		<if test="spaceAreas!= null and spaceAreas!= '' ">and sc.space_areas = #{spaceAreas,jdbcType=VARCHAR}</if>
		<if test="spaceShape!= null and spaceShape!= '' ">and sc.space_shape = #{spaceShape,jdbcType=VARCHAR}</if>
		<if test="isStandardSpace!= null">and sc.is_standard_space =
			#{isStandardSpace,jdbcType=INTEGER}</if>
		<if test="pid!= null">and sc.pid = #{pid,jdbcType=INTEGER}</if>
		<if test="openStatus!= null">and sc.open_status = #{openStatus,jdbcType=INTEGER}</if>
		<if test="status!= null">and sc.status = #{status,jdbcType=INTEGER}</if>
		<!-- and dt.putaway_state=1 以前已经上架显示，现在是已发布的显示 -->
		and dt.putaway_state=3
	</select>

	<!-- findAllName -->
	<select id="findAllName" resultType="java.lang.String">
		select
		s.space_name
		from space_common s
	</select>

	<select id="findAllCode" resultType="int"
		parameterType="com.sandu.home.model.search.SpaceCommonSearch">
		SELECT COUNT(*) FROM space_common where 1=1
		<if test="schSpaceCode_ !=  null and schSpaceCode_ !=  ''   ">
			and space_code like
			CONCAT(#{schSpaceCode_,jdbcType=VARCHAR},'%')
		</if>
	</select>

	<!-- getSpaceIdsByHouseIds -->
	<select id="getSpaceIdsByHouseIds" resultType="java.lang.Integer">
		SELECT DISTINCT c.id FROM space_common c JOIN house_space_new s ON
		s.standard_space_id = c.id JOIN base_house h
		ON h.id= s.house_id JOIN base_living l ON l.id = h.living_id JOIN
		design_templet dt ON dt.space_common_id = c.id
		WHERE 1=1 AND s.house_id in
		<foreach collection="houseIds" index="index" item="item" open="("
			separator="," close=")">
			#{item}
		</foreach>
		and c.pid = 0 and c.is_standard_space = 1 <!-- and dt.putaway_state in (1,2) -->
	</select>

	<select id="getSpaceCommonIds" resultMap="AllResultMap">
		SELECT * from space_common WHERE 1=1 AND id in
		<foreach collection="spaceCommonIds" index="index" item="item"
			open="(" separator="," close=")">
			#{item}
		</foreach>
	</select>

	<!-- findIdListByStatus -->
	<select id="findIdListByStatus" resultType="java.lang.Integer">
		select id from space_common where status = #{status,jdbcType=INTEGER};
	</select>

	<!-- updateStatus -->
	<update id="updateStatus">
		update space_common set status = #{newStatus,jdbcType=INTEGER}
		where status = #{oldStatus,jdbcType=INTEGER};
	</update>


	<!-- 空间智能搜索 -->
	<select id="spaceCapacityCount" resultType="int"
		parameterType="com.sandu.home.model.SpaceCommon">
		select
		count(DISTINCT sc.id)
		from space_common sc
		JOIN design_templet dt ON sc.id = dt.space_common_id
		LEFT JOIN house_space_new hs ON sc.id = hs.space_id LEFT JOIN base_house
		bh ON hs.house_id = bh.id
		where sc.is_deleted = 0 and dt.is_deleted = 0
		<if test="spaceU3dCode!= null">and sc.space_u3d_code like
			CONCAT(#{spaceU3dCode,jdbcType=VARCHAR},'%')</if>
		<if test="spaceShapeInt!= null and spaceShapeInt!= '' ">and sc.space_shape = #{spaceShapeInt,jdbcType=INTEGER}
		</if>
		<if test="isStandardSpace!= null">and sc.is_standard_space =
			#{isStandardSpace,jdbcType=INTEGER}</if>
		<if test="pid!= null">and sc.pid = #{pid,jdbcType=INTEGER}</if>
		<if test="openStatus!= null">and sc.open_status = #{openStatus,jdbcType=INTEGER}</if>
		<if test="status!= null">and sc.status = #{status,jdbcType=INTEGER}</if>
		<if test="statusList!= null  and  statusList.size > 0 ">
			and sc.status in
			<foreach collection="statusList" index="index" item="item"
				open="(" separator="," close=")">
				#{item}
			</foreach>

		</if>
		<!-- 黑名单过滤 -->
		<if test="blackList !=  null and  blackList.size > 0  ">
			and sc.space_function_id not in
			<foreach collection="blackList" index="index" item="item"
				open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>
	</select>

	<!-- 空间智能搜索 -->
	<select id="spaceCapacityList" resultMap="AllResultMap"
		parameterType="com.sandu.home.model.SpaceCommon">
		select
		DISTINCT
		sc.id,sc.space_code,sc.space_name,sc.space_function_id,sc.main_length,sc.main_width,sc.space_areas,sc.space_shape,
		sc.door_location_type,sc.door_location_id,sc.window_location_value,sc.space_desc,sc.location_arrays,sc.is_include_way,sc.way_location,sc.user_num,sc.search_num,
		sc.space_num,sc.space_percent,sc.total_usage_amount,sc.pid,sc.is_standard_space,sc.datasource_id,sc.pic_id,sc.model_id,sc.status,
		sc.model_3d_id,sc.model_u3d_id,sc.macBookPc_u3d_model_id,sc.windowsPc_u3d_model_id,sc.ipad_u3d_model_id,sc.android_u3d_model_id,sc.ios_u3d_model_id,sc.view3d_pic_id,sc.view_plan_ids,
		sc.space_analyze_code,sc.space_u3d_code from space_common sc
		JOIN design_templet dt ON sc.id = dt.space_common_id LEFT JOIN
		house_space_new hs ON sc.id = hs.space_id LEFT
		JOIN base_house bh ON hs.house_id = bh.id
		where sc.is_deleted = 0 and dt.is_deleted = 0
		<if test="spaceU3dCode!= null">and sc.space_u3d_code like
			CONCAT(#{spaceU3dCode,jdbcType=VARCHAR},'%')</if>
		<if test="spaceShapeInt!= null and spaceShapeInt!= '' ">and sc.space_shape = #{spaceShapeInt,jdbcType=INTEGER}
		</if>
		<if test="isStandardSpace!= null">and sc.is_standard_space =
			#{isStandardSpace,jdbcType=INTEGER}</if>
		<if test="pid!= null">and sc.pid = #{pid,jdbcType=INTEGER}</if>
		<if test="openStatus!= null">and sc.open_status = #{openStatus,jdbcType=INTEGER}</if>
		<if test="status!= null">and sc.status = #{status,jdbcType=INTEGER}</if>
		<if test="statusList!= null  and  statusList.size > 0 ">
			and sc.status in
			<foreach collection="statusList" index="index" item="item"
				open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>
		<!-- 黑名单过滤 -->
		<if test="blackList !=  null and  blackList.size > 0  ">
			and sc.space_function_id not in
			<foreach collection="blackList" index="index" item="item"
				open="(" separator="," close=")">
				#{item}
			</foreach>
		</if>
		<if test="order != null and  order !=''  ">
			order by ${order}
			<if test="orderNum != null and  orderNum !='' ">
				${orderNum}
			</if>
		</if>
		<if test="orders == null and  orders ==''  ">
			order by ${orders}
		</if>
		<if test="start !=-1 and limit !=-1">ORDER BY RIGHT(space_code,4) ASC LIMIT
			#{start,jdbcType=INTEGER},
			#{limit,jdbcType=INTEGER}
		</if>
	</select>
</mapper>
