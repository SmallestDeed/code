<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sandu.service.imallOrderShipment.dao.ImallOrderShipmentDao">

    <!--保存发货单-->
    <insert id="insertOrderShipment" parameterType="com.sandu.api.imallOrderShipment.model.ImallOrderShipment" keyProperty="id" useGeneratedKeys="true">
        INSERT INTO `imall_order_shipment`
        (`shipment_no`,`platform_type`,order_id,order_no,buyer_id,buyer_nick_name,seller_id
        ,seller_nick_name,total_weight,total_qty,shipping_amount,status,remark
        ,carrier_code,creator,gmt_create,modifier,gmt_modified,is_deleted,sys_code)
        VALUES (#{shipmentNo},#{platformType},#{orderId},#{orderNo},#{buyerId},#{buyerNickName},#{sellerId}
        ,#{sellerNickName},#{totalWeight},#{totalQty},#{shippingAmount},#{status},#{remark}
        ,#{carrierCode},#{creator},CURRENT_TIMESTAMP,#{modifier},CURRENT_TIMESTAMP,#{isDeleted},#{sysCode})
    </insert>

    <!--通过id获取发货单信息-->
    <select id="getImallOrderShipment" resultType="com.sandu.api.imallOrderShipment.model.ImallOrderShipment">
      select `shipment_no`,`platform_type`,order_id,order_no,buyer_id,buyer_nick_name,seller_id
        ,seller_nick_name,total_weight,total_qty,shipping_amount,status,remark
        ,carrier_code,creator,gmt_create,modifier,gmt_modified,is_deleted
      from imall_order_shipment
      where id=#{id}
    </select>

    <!--通过order_id获取发货单列表-->
    <select id="getImallOrderShipmentList" resultType="com.sandu.api.imallOrderShipment.model.ImallOrderShipment">
      select `shipment_no`,`platform_type`,order_id,order_no,buyer_id,buyer_nick_name,seller_id
        ,seller_nick_name,total_weight,total_qty,shipping_amount,status,remark
        ,carrier_code,creator,gmt_create,modifier,gmt_modified,is_deleted
      from imall_order_shipment
      where order_id=#{orderId}
    </select>

</mapper>