<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sandu.service.designplan.dao.DesignPlanRenderSceneMapper">
    <resultMap id="BaseResultMap" type="com.sandu.api.designplan.model.DesignPlanRenderScene">
        <id column="id" property="id" jdbcType="BIGINT"/>
        <result column="render_type" property="renderType" jdbcType="INTEGER"/>
        <result column="plan_code" property="planCode" jdbcType="VARCHAR"/>
        <result column="plan_name" property="planName" jdbcType="VARCHAR"/>
        <result column="user_id" property="userId" jdbcType="INTEGER"/>
        <result column="design_source_type" property="designSourceType" jdbcType="INTEGER"/>
        <result column="design_id" property="designId" jdbcType="INTEGER"/>
        <result column="design_style_id" property="designStyleId" jdbcType="INTEGER"/>
        <result column="pic_id" property="picId" jdbcType="INTEGER"/>
        <result column="model_3d_id" property="model3dId" jdbcType="INTEGER"/>
        <result column="model_u3d_id" property="modelU3dId" jdbcType="INTEGER"/>
        <result column="model_id" property="modelId" jdbcType="INTEGER"/>
        <result column="config_file_id" property="configFileId" jdbcType="INTEGER"/>
        <result column="space_common_id" property="spaceCommonId" jdbcType="INTEGER"/>
        <result column="plan_desc" property="planDesc" jdbcType="VARCHAR"/>
        <result column="sys_code" property="sysCode" jdbcType="VARCHAR"/>
        <result column="creator" property="creator" jdbcType="VARCHAR"/>
        <result column="gmt_create" property="gmtCreate" jdbcType="TIMESTAMP"/>
        <result column="modifier" property="modifier" jdbcType="VARCHAR"/>
        <result column="gmt_modified" property="gmtModified" jdbcType="TIMESTAMP"/>
        <result column="is_deleted" property="isDeleted" jdbcType="INTEGER"/>
        <result column="remark" property="remark" jdbcType="VARCHAR"/>
        <result column="design_template_id" property="designTemplateId" jdbcType="VARCHAR"/>
        <result column="ipad_model_u3d_id" property="ipadModelU3dId" jdbcType="INTEGER"/>
        <result column="ios_model_u3d_id" property="iosModelU3dId" jdbcType="INTEGER"/>
        <result column="android_model_u3d_id" property="androidModelU3dId" jdbcType="INTEGER"/>
        <result column="macBookpc_model_u3d_id" property="macbookpcModelU3dId" jdbcType="INTEGER"/>
        <result column="pc_model_u3d_id" property="pcModelU3dId" jdbcType="INTEGER"/>
        <result column="web_model_u3d_id" property="webModelU3dId" jdbcType="INTEGER"/>
        <result column="media_type" property="mediaType" jdbcType="INTEGER"/>
        <result column="evening_file_id" property="eveningFileId" jdbcType="INTEGER"/>
        <result column="dawn_file_id" property="dawnFileId" jdbcType="INTEGER"/>
        <result column="night_file_id" property="nightFileId" jdbcType="INTEGER"/>
        <result column="share_total" property="shareTotal" jdbcType="INTEGER"/>
        <result column="is_open" property="isOpen" jdbcType="INTEGER"/>
        <result column="draft_state" property="draftState" jdbcType="INTEGER"/>
        <result column="baiMo_state" property="baimoState" jdbcType="INTEGER"/>
        <result column="stuff_finish_state" property="stuffFinishState" jdbcType="INTEGER"/>
        <result column="decorate_finish_state" property="decorateFinishState" jdbcType="INTEGER"/>
        <result column="is_change" property="isChange" jdbcType="INTEGER"/>
        <result column="is_decorated" property="isDecorated" jdbcType="INTEGER"/>
        <result column="plan_source" property="planSource" jdbcType="VARCHAR"/>
        <result column="residential_units_name" property="residentialUnitsName" jdbcType="VARCHAR"/>
        <result column="house_id" property="houseId" jdbcType="INTEGER"/>
        <result column="living_id" property="livingId" jdbcType="INTEGER"/>
        <result column="cover_pic_id" property="coverPicId" jdbcType="INTEGER"/>
        <result column="is_release" property="isRelease" jdbcType="INTEGER"/>
        <result column="design_recommended_style_id" property="designRecommendedStyleId" jdbcType="INTEGER"/>
        <result column="release_time" property="releaseTime" jdbcType="TIMESTAMP"/>
        <result column="effects_config" property="effectsConfig" jdbcType="VARCHAR"/>
        <result column="is_recommended" property="isRecommended" jdbcType="INTEGER"/>
        <result column="is_default_decorate" property="isDefaultDecorate" jdbcType="INTEGER"/>
        <result column="plan_number" property="planNumber" jdbcType="VARCHAR"/>
        <result column="design_plan_id" property="designPlanId" jdbcType="INTEGER"/>
        <result column="scene_modified" property="sceneModified" jdbcType="BIGINT"/>
        <result column="check_user_name" property="checkUserName" jdbcType="VARCHAR"/>
        <result column="fail_cause" property="failCause" jdbcType="VARCHAR"/>
        <result column="spelling_flower_file_id" property="spellingFlowerFileId" jdbcType="INTEGER"/>
        <result column="spelling_flower_product" property="spellingFlowerProduct" jdbcType="VARCHAR"/>
        <result column="platform_id" property="platformId" jdbcType="BIGINT"/>
        <result column="contains_not_open_product" property="containsNotOpenProduct" jdbcType="VARCHAR"/>
        <result column="shelf_status" property="shelfStatus" jdbcType="VARCHAR"/>
        <result column="waterjet_info" property="waterjetInfo" jdbcType="VARCHAR"/>
        <result column="apply_space_areas" property="applySpaceAreas" jdbcType="VARCHAR"/>
        <result column="group_primary_id" property="groupPrimaryId" jdbcType="INTEGER"/>
        <result column="designPlan_render_pic_ids" property="designplanRenderPicIds" jdbcType="VARCHAR"/>
    </resultMap>
    <sql id="Base_Column_List">
    id, render_type, plan_code, plan_name, user_id, design_source_type, design_id, design_style_id,
    pic_id, model_3d_id, model_u3d_id, model_id, config_file_id, space_common_id, plan_desc,
    sys_code, creator, gmt_create, modifier, gmt_modified, is_deleted, remark, design_template_id,
    ipad_model_u3d_id, ios_model_u3d_id, android_model_u3d_id, macBookpc_model_u3d_id,
    pc_model_u3d_id, web_model_u3d_id, media_type, evening_file_id, dawn_file_id, night_file_id,
    share_total, is_open, draft_state, baiMo_state, stuff_finish_state, decorate_finish_state,
    is_change, is_decorated, plan_source, residential_units_name, house_id, living_id,
    cover_pic_id, is_release, design_recommended_style_id, release_time, effects_config,
    is_recommended, is_default_decorate, plan_number, design_plan_id, scene_modified,
    check_user_name, fail_cause, spelling_flower_file_id, spelling_flower_product, platform_id,
    contains_not_open_product, shelf_status, waterjet_info, apply_space_areas, group_primary_id,designPlan_render_pic_ids
  </sql>
    <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long">
        select
        <include refid="Base_Column_List"/>
        from design_plan_render_scene
        where id = #{id,jdbcType=BIGINT}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    delete from design_plan_render_scene
    where id = #{id,jdbcType=BIGINT}
  </delete>
    <insert id="insert" parameterType="com.sandu.api.designplan.model.DesignPlanRenderScene">
    insert into design_plan_render_scene (id, render_type, plan_code,
      plan_name, user_id, design_source_type,
      design_id, design_style_id, pic_id,
      model_3d_id, model_u3d_id, model_id,
      config_file_id, space_common_id, plan_desc,
      sys_code, creator, gmt_create,
      modifier, gmt_modified, is_deleted,
      remark, design_template_id, ipad_model_u3d_id,
      ios_model_u3d_id, android_model_u3d_id, macBookpc_model_u3d_id,
      pc_model_u3d_id, web_model_u3d_id, media_type,
      evening_file_id, dawn_file_id, night_file_id,
      share_total, is_open, draft_state,
      baiMo_state, stuff_finish_state, decorate_finish_state,
      is_change, is_decorated, plan_source,
      residential_units_name, house_id, living_id,
      cover_pic_id, is_release, design_recommended_style_id,
      release_time, effects_config, is_recommended,
      is_default_decorate, plan_number, design_plan_id,
      scene_modified, check_user_name, fail_cause,
      spelling_flower_file_id, spelling_flower_product,
      platform_id, contains_not_open_product, shelf_status,
      waterjet_info, apply_space_areas, group_primary_id,
      designPlan_render_pic_ids)
    values (#{id,jdbcType=BIGINT}, #{renderType,jdbcType=INTEGER}, #{planCode,jdbcType=VARCHAR},
      #{planName,jdbcType=VARCHAR}, #{userId,jdbcType=INTEGER}, #{designSourceType,jdbcType=INTEGER},
      #{designId,jdbcType=INTEGER}, #{designStyleId,jdbcType=INTEGER}, #{picId,jdbcType=INTEGER},
      #{model3dId,jdbcType=INTEGER}, #{modelU3dId,jdbcType=INTEGER}, #{modelId,jdbcType=INTEGER},
      #{configFileId,jdbcType=INTEGER}, #{spaceCommonId,jdbcType=INTEGER}, #{planDesc,jdbcType=VARCHAR},
      #{sysCode,jdbcType=VARCHAR}, #{creator,jdbcType=VARCHAR}, #{gmtCreate,jdbcType=TIMESTAMP},
      #{modifier,jdbcType=VARCHAR}, #{gmtModified,jdbcType=TIMESTAMP}, #{isDeleted,jdbcType=INTEGER},
      #{remark,jdbcType=VARCHAR}, #{designTemplateId,jdbcType=VARCHAR}, #{ipadModelU3dId,jdbcType=INTEGER},
      #{iosModelU3dId,jdbcType=INTEGER}, #{androidModelU3dId,jdbcType=INTEGER}, #{macbookpcModelU3dId,jdbcType=INTEGER},
      #{pcModelU3dId,jdbcType=INTEGER}, #{webModelU3dId,jdbcType=INTEGER}, #{mediaType,jdbcType=INTEGER},
      #{eveningFileId,jdbcType=INTEGER}, #{dawnFileId,jdbcType=INTEGER}, #{nightFileId,jdbcType=INTEGER},
      #{shareTotal,jdbcType=INTEGER}, #{isOpen,jdbcType=INTEGER}, #{draftState,jdbcType=INTEGER},
      #{baimoState,jdbcType=INTEGER}, #{stuffFinishState,jdbcType=INTEGER}, #{decorateFinishState,jdbcType=INTEGER},
      #{isChange,jdbcType=INTEGER}, #{isDecorated,jdbcType=INTEGER}, #{planSource,jdbcType=VARCHAR},
      #{residentialUnitsName,jdbcType=VARCHAR}, #{houseId,jdbcType=INTEGER}, #{livingId,jdbcType=INTEGER},
      #{coverPicId,jdbcType=INTEGER}, #{isRelease,jdbcType=INTEGER}, #{designRecommendedStyleId,jdbcType=INTEGER},
      #{releaseTime,jdbcType=TIMESTAMP}, #{effectsConfig,jdbcType=VARCHAR}, #{isRecommended,jdbcType=INTEGER},
      #{isDefaultDecorate,jdbcType=INTEGER}, #{planNumber,jdbcType=VARCHAR}, #{designPlanId,jdbcType=INTEGER},
      #{sceneModified,jdbcType=BIGINT}, #{checkUserName,jdbcType=VARCHAR}, #{failCause,jdbcType=VARCHAR},
      #{spellingFlowerFileId,jdbcType=INTEGER}, #{spellingFlowerProduct,jdbcType=VARCHAR},
      #{platformId,jdbcType=BIGINT}, #{containsNotOpenProduct,jdbcType=VARCHAR}, #{shelfStatus,jdbcType=VARCHAR},
      #{waterjetInfo,jdbcType=VARCHAR}, #{applySpaceAreas,jdbcType=VARCHAR}, #{groupPrimaryId,jdbcType=INTEGER},
      #{designplanRenderPicIds,jdbcType=VARCHAR})
  </insert>
    <insert id="insertSelective" parameterType="com.sandu.api.designplan.model.DesignPlanRenderScene">
        insert into design_plan_render_scene
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="renderType != null">
                render_type,
            </if>
            <if test="planCode != null">
                plan_code,
            </if>
            <if test="planName != null">
                plan_name,
            </if>
            <if test="userId != null">
                user_id,
            </if>
            <if test="designSourceType != null">
                design_source_type,
            </if>
            <if test="designId != null">
                design_id,
            </if>
            <if test="designStyleId != null">
                design_style_id,
            </if>
            <if test="picId != null">
                pic_id,
            </if>
            <if test="model3dId != null">
                model_3d_id,
            </if>
            <if test="modelU3dId != null">
                model_u3d_id,
            </if>
            <if test="modelId != null">
                model_id,
            </if>
            <if test="configFileId != null">
                config_file_id,
            </if>
            <if test="spaceCommonId != null">
                space_common_id,
            </if>
            <if test="planDesc != null">
                plan_desc,
            </if>
            <if test="sysCode != null">
                sys_code,
            </if>
            <if test="creator != null">
                creator,
            </if>
            <if test="gmtCreate != null">
                gmt_create,
            </if>
            <if test="modifier != null">
                modifier,
            </if>
            <if test="gmtModified != null">
                gmt_modified,
            </if>
            <if test="isDeleted != null">
                is_deleted,
            </if>
            <if test="remark != null">
                remark,
            </if>
            <if test="designTemplateId != null">
                design_template_id,
            </if>
            <if test="ipadModelU3dId != null">
                ipad_model_u3d_id,
            </if>
            <if test="iosModelU3dId != null">
                ios_model_u3d_id,
            </if>
            <if test="androidModelU3dId != null">
                android_model_u3d_id,
            </if>
            <if test="macbookpcModelU3dId != null">
                macBookpc_model_u3d_id,
            </if>
            <if test="pcModelU3dId != null">
                pc_model_u3d_id,
            </if>
            <if test="webModelU3dId != null">
                web_model_u3d_id,
            </if>
            <if test="mediaType != null">
                media_type,
            </if>
            <if test="eveningFileId != null">
                evening_file_id,
            </if>
            <if test="dawnFileId != null">
                dawn_file_id,
            </if>
            <if test="nightFileId != null">
                night_file_id,
            </if>
            <if test="shareTotal != null">
                share_total,
            </if>
            <if test="isOpen != null">
                is_open,
            </if>
            <if test="draftState != null">
                draft_state,
            </if>
            <if test="baimoState != null">
                baiMo_state,
            </if>
            <if test="stuffFinishState != null">
                stuff_finish_state,
            </if>
            <if test="decorateFinishState != null">
                decorate_finish_state,
            </if>
            <if test="isChange != null">
                is_change,
            </if>
            <if test="isDecorated != null">
                is_decorated,
            </if>
            <if test="planSource != null">
                plan_source,
            </if>
            <if test="residentialUnitsName != null">
                residential_units_name,
            </if>
            <if test="houseId != null">
                house_id,
            </if>
            <if test="livingId != null">
                living_id,
            </if>
            <if test="coverPicId != null">
                cover_pic_id,
            </if>
            <if test="isRelease != null">
                is_release,
            </if>
            <if test="designRecommendedStyleId != null">
                design_recommended_style_id,
            </if>
            <if test="releaseTime != null">
                release_time,
            </if>
            <if test="effectsConfig != null">
                effects_config,
            </if>
            <if test="isRecommended != null">
                is_recommended,
            </if>
            <if test="isDefaultDecorate != null">
                is_default_decorate,
            </if>
            <if test="planNumber != null">
                plan_number,
            </if>
            <if test="designPlanId != null">
                design_plan_id,
            </if>
            <if test="sceneModified != null">
                scene_modified,
            </if>
            <if test="checkUserName != null">
                check_user_name,
            </if>
            <if test="failCause != null">
                fail_cause,
            </if>
            <if test="spellingFlowerFileId != null">
                spelling_flower_file_id,
            </if>
            <if test="spellingFlowerProduct != null">
                spelling_flower_product,
            </if>
            <if test="platformId != null">
                platform_id,
            </if>
            <if test="containsNotOpenProduct != null">
                contains_not_open_product,
            </if>
            <if test="shelfStatus != null">
                shelf_status,
            </if>
            <if test="waterjetInfo != null">
                waterjet_info,
            </if>
            <if test="applySpaceAreas != null">
                apply_space_areas,
            </if>
            <if test="groupPrimaryId != null">
                group_primary_id,
            </if>
            <if test="designplanRenderPicIds != null">
                designPlan_render_pic_ids,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id,jdbcType=BIGINT},
            </if>
            <if test="renderType != null">
                #{renderType,jdbcType=INTEGER},
            </if>
            <if test="planCode != null">
                #{planCode,jdbcType=VARCHAR},
            </if>
            <if test="planName != null">
                #{planName,jdbcType=VARCHAR},
            </if>
            <if test="userId != null">
                #{userId,jdbcType=INTEGER},
            </if>
            <if test="designSourceType != null">
                #{designSourceType,jdbcType=INTEGER},
            </if>
            <if test="designId != null">
                #{designId,jdbcType=INTEGER},
            </if>
            <if test="designStyleId != null">
                #{designStyleId,jdbcType=INTEGER},
            </if>
            <if test="picId != null">
                #{picId,jdbcType=INTEGER},
            </if>
            <if test="model3dId != null">
                #{model3dId,jdbcType=INTEGER},
            </if>
            <if test="modelU3dId != null">
                #{modelU3dId,jdbcType=INTEGER},
            </if>
            <if test="modelId != null">
                #{modelId,jdbcType=INTEGER},
            </if>
            <if test="configFileId != null">
                #{configFileId,jdbcType=INTEGER},
            </if>
            <if test="spaceCommonId != null">
                #{spaceCommonId,jdbcType=INTEGER},
            </if>
            <if test="planDesc != null">
                #{planDesc,jdbcType=VARCHAR},
            </if>
            <if test="sysCode != null">
                #{sysCode,jdbcType=VARCHAR},
            </if>
            <if test="creator != null">
                #{creator,jdbcType=VARCHAR},
            </if>
            <if test="gmtCreate != null">
                #{gmtCreate,jdbcType=TIMESTAMP},
            </if>
            <if test="modifier != null">
                #{modifier,jdbcType=VARCHAR},
            </if>
            <if test="gmtModified != null">
                #{gmtModified,jdbcType=TIMESTAMP},
            </if>
            <if test="isDeleted != null">
                #{isDeleted,jdbcType=INTEGER},
            </if>
            <if test="remark != null">
                #{remark,jdbcType=VARCHAR},
            </if>
            <if test="designTemplateId != null">
                #{designTemplateId,jdbcType=VARCHAR},
            </if>
            <if test="ipadModelU3dId != null">
                #{ipadModelU3dId,jdbcType=INTEGER},
            </if>
            <if test="iosModelU3dId != null">
                #{iosModelU3dId,jdbcType=INTEGER},
            </if>
            <if test="androidModelU3dId != null">
                #{androidModelU3dId,jdbcType=INTEGER},
            </if>
            <if test="macbookpcModelU3dId != null">
                #{macbookpcModelU3dId,jdbcType=INTEGER},
            </if>
            <if test="pcModelU3dId != null">
                #{pcModelU3dId,jdbcType=INTEGER},
            </if>
            <if test="webModelU3dId != null">
                #{webModelU3dId,jdbcType=INTEGER},
            </if>
            <if test="mediaType != null">
                #{mediaType,jdbcType=INTEGER},
            </if>
            <if test="eveningFileId != null">
                #{eveningFileId,jdbcType=INTEGER},
            </if>
            <if test="dawnFileId != null">
                #{dawnFileId,jdbcType=INTEGER},
            </if>
            <if test="nightFileId != null">
                #{nightFileId,jdbcType=INTEGER},
            </if>
            <if test="shareTotal != null">
                #{shareTotal,jdbcType=INTEGER},
            </if>
            <if test="isOpen != null">
                #{isOpen,jdbcType=INTEGER},
            </if>
            <if test="draftState != null">
                #{draftState,jdbcType=INTEGER},
            </if>
            <if test="baimoState != null">
                #{baimoState,jdbcType=INTEGER},
            </if>
            <if test="stuffFinishState != null">
                #{stuffFinishState,jdbcType=INTEGER},
            </if>
            <if test="decorateFinishState != null">
                #{decorateFinishState,jdbcType=INTEGER},
            </if>
            <if test="isChange != null">
                #{isChange,jdbcType=INTEGER},
            </if>
            <if test="isDecorated != null">
                #{isDecorated,jdbcType=INTEGER},
            </if>
            <if test="planSource != null">
                #{planSource,jdbcType=VARCHAR},
            </if>
            <if test="residentialUnitsName != null">
                #{residentialUnitsName,jdbcType=VARCHAR},
            </if>
            <if test="houseId != null">
                #{houseId,jdbcType=INTEGER},
            </if>
            <if test="livingId != null">
                #{livingId,jdbcType=INTEGER},
            </if>
            <if test="coverPicId != null">
                #{coverPicId,jdbcType=INTEGER},
            </if>
            <if test="isRelease != null">
                #{isRelease,jdbcType=INTEGER},
            </if>
            <if test="designRecommendedStyleId != null">
                #{designRecommendedStyleId,jdbcType=INTEGER},
            </if>
            <if test="releaseTime != null">
                #{releaseTime,jdbcType=TIMESTAMP},
            </if>
            <if test="effectsConfig != null">
                #{effectsConfig,jdbcType=VARCHAR},
            </if>
            <if test="isRecommended != null">
                #{isRecommended,jdbcType=INTEGER},
            </if>
            <if test="isDefaultDecorate != null">
                #{isDefaultDecorate,jdbcType=INTEGER},
            </if>
            <if test="planNumber != null">
                #{planNumber,jdbcType=VARCHAR},
            </if>
            <if test="designPlanId != null">
                #{designPlanId,jdbcType=INTEGER},
            </if>
            <if test="sceneModified != null">
                #{sceneModified,jdbcType=BIGINT},
            </if>
            <if test="checkUserName != null">
                #{checkUserName,jdbcType=VARCHAR},
            </if>
            <if test="failCause != null">
                #{failCause,jdbcType=VARCHAR},
            </if>
            <if test="spellingFlowerFileId != null">
                #{spellingFlowerFileId,jdbcType=INTEGER},
            </if>
            <if test="spellingFlowerProduct != null">
                #{spellingFlowerProduct,jdbcType=VARCHAR},
            </if>
            <if test="platformId != null">
                #{platformId,jdbcType=BIGINT},
            </if>
            <if test="containsNotOpenProduct != null">
                #{containsNotOpenProduct,jdbcType=VARCHAR},
            </if>
            <if test="shelfStatus != null">
                #{shelfStatus,jdbcType=VARCHAR},
            </if>
            <if test="waterjetInfo != null">
                #{waterjetInfo,jdbcType=VARCHAR},
            </if>
            <if test="applySpaceAreas != null">
                #{applySpaceAreas,jdbcType=VARCHAR},
            </if>
            <if test="groupPrimaryId != null">
                #{groupPrimaryId,jdbcType=INTEGER},
            </if>
            <if test="designplanRenderPicIds != null">
                #{designplanRenderPicIds,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="com.sandu.api.designplan.model.DesignPlanRenderScene">
        update design_plan_render_scene
        <set>
            <if test="renderType != null">
                render_type = #{renderType,jdbcType=INTEGER},
            </if>
            <if test="planCode != null">
                plan_code = #{planCode,jdbcType=VARCHAR},
            </if>
            <if test="planName != null">
                plan_name = #{planName,jdbcType=VARCHAR},
            </if>
            <if test="userId != null">
                user_id = #{userId,jdbcType=INTEGER},
            </if>
            <if test="designSourceType != null">
                design_source_type = #{designSourceType,jdbcType=INTEGER},
            </if>
            <if test="designId != null">
                design_id = #{designId,jdbcType=INTEGER},
            </if>
            <if test="designStyleId != null">
                design_style_id = #{designStyleId,jdbcType=INTEGER},
            </if>
            <if test="picId != null">
                pic_id = #{picId,jdbcType=INTEGER},
            </if>
            <if test="model3dId != null">
                model_3d_id = #{model3dId,jdbcType=INTEGER},
            </if>
            <if test="modelU3dId != null">
                model_u3d_id = #{modelU3dId,jdbcType=INTEGER},
            </if>
            <if test="modelId != null">
                model_id = #{modelId,jdbcType=INTEGER},
            </if>
            <if test="configFileId != null">
                config_file_id = #{configFileId,jdbcType=INTEGER},
            </if>
            <if test="spaceCommonId != null">
                space_common_id = #{spaceCommonId,jdbcType=INTEGER},
            </if>
            <if test="planDesc != null">
                plan_desc = #{planDesc,jdbcType=VARCHAR},
            </if>
            <if test="sysCode != null">
                sys_code = #{sysCode,jdbcType=VARCHAR},
            </if>
            <if test="creator != null">
                creator = #{creator,jdbcType=VARCHAR},
            </if>
            <if test="gmtCreate != null">
                gmt_create = #{gmtCreate,jdbcType=TIMESTAMP},
            </if>
            <if test="modifier != null">
                modifier = #{modifier,jdbcType=VARCHAR},
            </if>
            <if test="gmtModified != null">
                gmt_modified = #{gmtModified,jdbcType=TIMESTAMP},
            </if>
            <if test="isDeleted != null">
                is_deleted = #{isDeleted,jdbcType=INTEGER},
            </if>
            <if test="remark != null">
                remark = #{remark,jdbcType=VARCHAR},
            </if>
            <if test="designTemplateId != null">
                design_template_id = #{designTemplateId,jdbcType=VARCHAR},
            </if>
            <if test="ipadModelU3dId != null">
                ipad_model_u3d_id = #{ipadModelU3dId,jdbcType=INTEGER},
            </if>
            <if test="iosModelU3dId != null">
                ios_model_u3d_id = #{iosModelU3dId,jdbcType=INTEGER},
            </if>
            <if test="androidModelU3dId != null">
                android_model_u3d_id = #{androidModelU3dId,jdbcType=INTEGER},
            </if>
            <if test="macbookpcModelU3dId != null">
                macBookpc_model_u3d_id = #{macbookpcModelU3dId,jdbcType=INTEGER},
            </if>
            <if test="pcModelU3dId != null">
                pc_model_u3d_id = #{pcModelU3dId,jdbcType=INTEGER},
            </if>
            <if test="webModelU3dId != null">
                web_model_u3d_id = #{webModelU3dId,jdbcType=INTEGER},
            </if>
            <if test="mediaType != null">
                media_type = #{mediaType,jdbcType=INTEGER},
            </if>
            <if test="eveningFileId != null">
                evening_file_id = #{eveningFileId,jdbcType=INTEGER},
            </if>
            <if test="dawnFileId != null">
                dawn_file_id = #{dawnFileId,jdbcType=INTEGER},
            </if>
            <if test="nightFileId != null">
                night_file_id = #{nightFileId,jdbcType=INTEGER},
            </if>
            <if test="shareTotal != null">
                share_total = #{shareTotal,jdbcType=INTEGER},
            </if>
            <if test="isOpen != null">
                is_open = #{isOpen,jdbcType=INTEGER},
            </if>
            <if test="draftState != null">
                draft_state = #{draftState,jdbcType=INTEGER},
            </if>
            <if test="baimoState != null">
                baiMo_state = #{baimoState,jdbcType=INTEGER},
            </if>
            <if test="stuffFinishState != null">
                stuff_finish_state = #{stuffFinishState,jdbcType=INTEGER},
            </if>
            <if test="decorateFinishState != null">
                decorate_finish_state = #{decorateFinishState,jdbcType=INTEGER},
            </if>
            <if test="isChange != null">
                is_change = #{isChange,jdbcType=INTEGER},
            </if>
            <if test="isDecorated != null">
                is_decorated = #{isDecorated,jdbcType=INTEGER},
            </if>
            <if test="planSource != null">
                plan_source = #{planSource,jdbcType=VARCHAR},
            </if>
            <if test="residentialUnitsName != null">
                residential_units_name = #{residentialUnitsName,jdbcType=VARCHAR},
            </if>
            <if test="houseId != null">
                house_id = #{houseId,jdbcType=INTEGER},
            </if>
            <if test="livingId != null">
                living_id = #{livingId,jdbcType=INTEGER},
            </if>
            <if test="coverPicId != null">
                cover_pic_id = #{coverPicId,jdbcType=INTEGER},
            </if>
            <if test="isRelease != null">
                is_release = #{isRelease,jdbcType=INTEGER},
            </if>
            <if test="designRecommendedStyleId != null">
                design_recommended_style_id = #{designRecommendedStyleId,jdbcType=INTEGER},
            </if>
            <if test="releaseTime != null">
                release_time = #{releaseTime,jdbcType=TIMESTAMP},
            </if>
            <if test="effectsConfig != null">
                effects_config = #{effectsConfig,jdbcType=VARCHAR},
            </if>
            <if test="isRecommended != null">
                is_recommended = #{isRecommended,jdbcType=INTEGER},
            </if>
            <if test="isDefaultDecorate != null">
                is_default_decorate = #{isDefaultDecorate,jdbcType=INTEGER},
            </if>
            <if test="planNumber != null">
                plan_number = #{planNumber,jdbcType=VARCHAR},
            </if>
            <if test="designPlanId != null">
                design_plan_id = #{designPlanId,jdbcType=INTEGER},
            </if>
            <if test="sceneModified != null">
                scene_modified = #{sceneModified,jdbcType=BIGINT},
            </if>
            <if test="checkUserName != null">
                check_user_name = #{checkUserName,jdbcType=VARCHAR},
            </if>
            <if test="failCause != null">
                fail_cause = #{failCause,jdbcType=VARCHAR},
            </if>
            <if test="spellingFlowerFileId != null">
                spelling_flower_file_id = #{spellingFlowerFileId,jdbcType=INTEGER},
            </if>
            <if test="spellingFlowerProduct != null">
                spelling_flower_product = #{spellingFlowerProduct,jdbcType=VARCHAR},
            </if>
            <if test="platformId != null">
                platform_id = #{platformId,jdbcType=BIGINT},
            </if>
            <if test="containsNotOpenProduct != null">
                contains_not_open_product = #{containsNotOpenProduct,jdbcType=VARCHAR},
            </if>
            <if test="shelfStatus != null">
                shelf_status = #{shelfStatus,jdbcType=VARCHAR},
            </if>
            <if test="waterjetInfo != null">
                waterjet_info = #{waterjetInfo,jdbcType=VARCHAR},
            </if>
            <if test="applySpaceAreas != null">
                apply_space_areas = #{applySpaceAreas,jdbcType=VARCHAR},
            </if>
            <if test="groupPrimaryId != null">
                group_primary_id = #{groupPrimaryId,jdbcType=INTEGER},
            </if>
            <if test="designplanRenderPicIds != null">
                designPlan_render_pic_ids = #{designplanRenderPicIds,jdbcType=VARCHAR},
            </if>
        </set>
        where id = #{id,jdbcType=BIGINT}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.sandu.api.designplan.model.DesignPlanRenderScene">
    update design_plan_render_scene
    set render_type = #{renderType,jdbcType=INTEGER},
      plan_code = #{planCode,jdbcType=VARCHAR},
      plan_name = #{planName,jdbcType=VARCHAR},
      user_id = #{userId,jdbcType=INTEGER},
      design_source_type = #{designSourceType,jdbcType=INTEGER},
      design_id = #{designId,jdbcType=INTEGER},
      design_style_id = #{designStyleId,jdbcType=INTEGER},
      pic_id = #{picId,jdbcType=INTEGER},
      model_3d_id = #{model3dId,jdbcType=INTEGER},
      model_u3d_id = #{modelU3dId,jdbcType=INTEGER},
      model_id = #{modelId,jdbcType=INTEGER},
      config_file_id = #{configFileId,jdbcType=INTEGER},
      space_common_id = #{spaceCommonId,jdbcType=INTEGER},
      plan_desc = #{planDesc,jdbcType=VARCHAR},
      sys_code = #{sysCode,jdbcType=VARCHAR},
      creator = #{creator,jdbcType=VARCHAR},
      gmt_create = #{gmtCreate,jdbcType=TIMESTAMP},
      modifier = #{modifier,jdbcType=VARCHAR},
      gmt_modified = #{gmtModified,jdbcType=TIMESTAMP},
      is_deleted = #{isDeleted,jdbcType=INTEGER},
      remark = #{remark,jdbcType=VARCHAR},
      design_template_id = #{designTemplateId,jdbcType=VARCHAR},
      ipad_model_u3d_id = #{ipadModelU3dId,jdbcType=INTEGER},
      ios_model_u3d_id = #{iosModelU3dId,jdbcType=INTEGER},
      android_model_u3d_id = #{androidModelU3dId,jdbcType=INTEGER},
      macBookpc_model_u3d_id = #{macbookpcModelU3dId,jdbcType=INTEGER},
      pc_model_u3d_id = #{pcModelU3dId,jdbcType=INTEGER},
      web_model_u3d_id = #{webModelU3dId,jdbcType=INTEGER},
      media_type = #{mediaType,jdbcType=INTEGER},
      evening_file_id = #{eveningFileId,jdbcType=INTEGER},
      dawn_file_id = #{dawnFileId,jdbcType=INTEGER},
      night_file_id = #{nightFileId,jdbcType=INTEGER},
      share_total = #{shareTotal,jdbcType=INTEGER},
      is_open = #{isOpen,jdbcType=INTEGER},
      draft_state = #{draftState,jdbcType=INTEGER},
      baiMo_state = #{baimoState,jdbcType=INTEGER},
      stuff_finish_state = #{stuffFinishState,jdbcType=INTEGER},
      decorate_finish_state = #{decorateFinishState,jdbcType=INTEGER},
      is_change = #{isChange,jdbcType=INTEGER},
      is_decorated = #{isDecorated,jdbcType=INTEGER},
      plan_source = #{planSource,jdbcType=VARCHAR},
      residential_units_name = #{residentialUnitsName,jdbcType=VARCHAR},
      house_id = #{houseId,jdbcType=INTEGER},
      living_id = #{livingId,jdbcType=INTEGER},
      cover_pic_id = #{coverPicId,jdbcType=INTEGER},
      is_release = #{isRelease,jdbcType=INTEGER},
      design_recommended_style_id = #{designRecommendedStyleId,jdbcType=INTEGER},
      release_time = #{releaseTime,jdbcType=TIMESTAMP},
      effects_config = #{effectsConfig,jdbcType=VARCHAR},
      is_recommended = #{isRecommended,jdbcType=INTEGER},
      is_default_decorate = #{isDefaultDecorate,jdbcType=INTEGER},
      plan_number = #{planNumber,jdbcType=VARCHAR},
      design_plan_id = #{designPlanId,jdbcType=INTEGER},
      scene_modified = #{sceneModified,jdbcType=BIGINT},
      check_user_name = #{checkUserName,jdbcType=VARCHAR},
      fail_cause = #{failCause,jdbcType=VARCHAR},
      spelling_flower_file_id = #{spellingFlowerFileId,jdbcType=INTEGER},
      spelling_flower_product = #{spellingFlowerProduct,jdbcType=VARCHAR},
      platform_id = #{platformId,jdbcType=BIGINT},
      contains_not_open_product = #{containsNotOpenProduct,jdbcType=VARCHAR},
      shelf_status = #{shelfStatus,jdbcType=VARCHAR},
      waterjet_info = #{waterjetInfo,jdbcType=VARCHAR},
      apply_space_areas = #{applySpaceAreas,jdbcType=VARCHAR},
      group_primary_id = #{groupPrimaryId,jdbcType=INTEGER},
      designPlan_render_pic_ids = #{designplanRenderPicIds,jdbcType=VARCHAR}
    where id = #{id,jdbcType=BIGINT}
  </update>


    <select id="selectDesignPlanRenderSceneListByfullHousePlanId" parameterType="java.lang.Integer"
            resultMap="DetailResultMap">
        SELECT
        fhdpd.full_house_plan_id AS fullHousePlanId,
        fhdp.plan_name AS fullHousePlanName,
        fhdpd.space_type AS spaceType,
        t.name AS spaceName,
        fhdpd.render_scene_plan_id AS designPlanRenderSceneId,
        fhdpd.plan_render_resource_id AS planRenderResourceId,
        d.pic_path AS planResourcPicPath,
        sc.space_areas AS spaceAreas,
        dprs.plan_name AS planName,
        d.id AS resRenderPicId,
        fhdpd.gmt_create AS gmtCreateTime,
        fhdpd.gmt_modified AS gmtModifiedTime,
        IFNULL(bps.name,'') AS designPlanStyleName,
        dprs.design_template_id AS designTemplateId,
        IFNULL(dpsr.house_id,0) AS houseId,
        IFNULL(bh.living_id,0) AS livingId,
        dprs.design_style_id AS designPlanStyleId
        FROM
        full_house_design_plan_detail fhdpd
        LEFT JOIN full_house_design_plan fhdp on fhdp.id = fhdpd.full_house_plan_id
        left join design_plan_store_release dpsr on dpsr.uuid = fhdp.vr_resource_uuid
        LEFT JOIN base_house bh on bh.id = dpsr.house_id
        LEFT JOIN (SELECT value,name,ordering from sys_dictionary where type = 'houseType') t ON t.value = fhdpd.space_type
        LEFT JOIN (SELECT pic_path,id,design_scene_id from res_render_pic where file_key =
        'design.designPlan.render.small.pic' and is_deleted = 0) d ON
        fhdpd.render_scene_plan_id = d.design_scene_id
        LEFT JOIN (SELECT design_template_id,id,plan_name,design_style_id from design_plan_render_scene WHERE is_deleted
        = 0) dprs ON dprs.id = fhdpd.render_scene_plan_id
        LEFT JOIN design_templet AS dt ON dprs.design_template_id = dt.id
        LEFT JOIN (SELECT id,space_function_id,space_areas,space_shape from space_common where is_deleted = 0) AS sc ON
        sc.id = dt.space_common_id
        left join base_product_style bps ON bps.id = dprs.design_style_id
        WHERE
        fhdpd.full_house_plan_id = #{fullHousePlanId}
        AND (fhdp.source_type = 2 or fhdp.source_type = 5)
        AND fhdp.is_deleted = 0
        <if test="designTemplateId != null and designTemplateId > 0">
            AND dt.id = #{designTemplateId}
        </if>
        GROUP BY fhdpd.id
        order by t.ordering asc,fhdpd.gmt_modified desc;
    </select>

    <resultMap id="DetailResultMap" type="com.sandu.api.designplan.output.DesignPlanRenderSceneVo">
        <id column="fullHousePlanId" property="fullHousePlanId" jdbcType="INTEGER"/>
        <result column="fullHousePlanName" property="fullHousePlanName" jdbcType="VARCHAR"/>
        <collection property="singlePlanRenderSceneList"
                    ofType="com.sandu.api.designplan.output.SinglePlanRenderSceneVo">
            <result column="spaceType" property="spaceType" jdbcType="INTEGER"/>
            <result column="houseId" property="houseId" jdbcType="INTEGER"/>
            <result column="livingId" property="livingId" jdbcType="INTEGER"/>
            <result column="designPlanStyleId" property="designPlanStyleId" jdbcType="INTEGER"/>
            <result column="designTemplateId" property="designTemplateId" jdbcType="INTEGER"/>
            <result column="spaceName" property="spaceName" jdbcType="VARCHAR"/>
            <result column="designPlanRenderSceneId" property="designPlanRenderSceneId" jdbcType="INTEGER"/>
            <result column="planResourcPicPath" property="planResourcPicPath" jdbcType="VARCHAR"/>
            <result column="planRenderResourceId" property="planRenderResourceId" jdbcType="INTEGER"/>
            <result column="spaceAreas" property="spaceAreas" jdbcType="VARCHAR"/>
            <result column="planName" property="planName" jdbcType="VARCHAR"/>
            <result column="designPlanStyleName" property="designPlanStyleName" jdbcType="VARCHAR"/>
            <result column="resRenderPicId" property="resRenderPicId" jdbcType="INTEGER"/>
            <result column="gmtCreateTime" property="gmtCreateTime" jdbcType="TIMESTAMP"/>
            <result column="gmtModifiedTime" property="gmtModifiedTime" jdbcType="TIMESTAMP"/>
        </collection>
    </resultMap>


    <!--AND plan.visible = 0-->
    <select id="selectDesignPlanListByDemandId" parameterType="object"
            resultType="com.sandu.api.designplan.output.SingleDesignPlanVo">
      SELECT
          plan.id AS designPlanId,
          plan.plan_name AS planName,
          CONCAT(sc.space_areas,'m²') AS spaceAreas,
          t.name AS spaceName,
          sc.space_function_id AS spaceFunctionId,
          bps.name AS designPlanStyleName,
          rrp.pic_path AS renderPicPath,
          rp.pic_path AS planCoverPicPath,
          plan.gmt_create AS gmtCreateTime,
          plan.gmt_modified AS gmtModifiedTime,
          plan.design_template_id AS designTemplateId,
          plan.supply_demand_id AS supplyDemandId
      FROM
          design_plan plan
      LEFT JOIN (SELECT id,space_function_id,space_areas,space_shape,space_name from space_common where is_deleted = 0) AS sc ON sc.id = plan.space_common_id
      LEFT JOIN (SELECT value,name,ordering from sys_dictionary where type =  'houseType') t ON t.value = sc.space_function_id
      LEFT JOIN base_product_style AS bps ON bps.id = plan.design_style_id
      LEFT JOIN (SELECT pic_path,id,business_id from res_render_pic  where file_key = 'design.designPlan.render.small.pic'
      and is_deleted = 0 ) rrp on rrp.business_id = plan.id
      LEFT JOIN res_render_pic rp ON rp.id = plan.cover_pic_id
      WHERE
          1 = 1
      AND plan.is_deleted = 0
      AND plan.platform_id IN (SELECT id FROM base_platform WHERE	platform_bussiness_type = '2b')
      AND plan.supply_demand_id = #{demandId}
      AND plan.user_id = #{userId}
      GROUP BY plan.id
     order by t.ordering asc,plan.gmt_modified desc;

  </select>


    <select id="getDesignPlan" parameterType="list" resultType="com.sandu.api.designplan.model.DesignPlan">
        select
        dp.*,
        sc.space_function_id AS spaceType
        from design_plan dp
        LEFT JOIN space_common sc on sc.id = dp.space_common_id
        where dp.id in
        <foreach collection="list" index="index" item="item"
                 open="(" separator="," close=")">
            #{item.designPlanId}
        </foreach>
    </select>


    <select id="getResModelByPlanModelId" resultType="com.sandu.system.model.ResModel"
            parameterType="list">
        select
        *
        from res_model
        where id in
        <foreach collection="list" index="index" item="item"
                 open="(" separator="," close=")">
            #{item.modelId}
        </foreach>
    </select>


    <select id="getResDesignByConfigFileId" resultType="com.sandu.system.model.ResDesign"
            parameterType="list">
        select
        *
        from res_design
        where id in
        <foreach collection="list" index="index" item="item"
                 open="(" separator="," close=")">
            #{item.configFileId}
        </foreach>
    </select>


    <select id="getDesignPlanProductByPlanId" resultType="com.sandu.api.designplan.model.DesignPlanProduct"
            parameterType="list">
        select
        *
        from design_plan_product
        where is_deleted = 0 and plan_id in
        <foreach collection="list" index="index" item="item"
                 open="(" separator="," close=")">
            #{item.id}
        </foreach>
    </select>


    <select id="selectRender720ResourceByPlanId" resultType="java.lang.Integer" parameterType="list">
        select
        business_id
        from res_render_pic
        where rendering_type = 4 and is_deleted = 0 and file_key ='design.designPlan.render.pic' AND business_id in
        <foreach collection="list" index="index" item="item"
                 open="(" separator="," close=")">
            #{item.designPlanId}
        </foreach>
        GROUP BY business_id
    </select>


    <select id="selectDesignPlanRenderSceneList" parameterType="java.lang.Integer" resultMap="DetailResultMap">
    SELECT
    dprs.id AS designPlanRenderSceneId,
    d.pic_path AS planResourcPicPath,
    sc.space_areas AS spaceAreas,
    dprs.plan_name AS planName,
    d.id AS resRenderPicId,
    dprs.gmt_create AS gmtCreateTime,
    dprs.gmt_modified AS gmtModifiedTime,
    IFNULL(bps.name,'') AS designPlanStyleName,
    dprs.design_template_id AS designTemplateId,
    IFNULL(arts.house_id,0) AS houseId,
    IFNULL(bh.living_id,0) AS livingId,
    sc.space_function_id AS spaceType,
    t.name as spaceName
    FROM
    design_plan_render_scene dprs
    left join auto_render_task_state arts on arts.business_id = dprs.id
    LEFT JOIN base_house bh on bh.id = arts.house_id
    LEFT JOIN (SELECT pic_path,id,design_scene_id from res_render_pic where  file_key = 'design.designPlan.render.small.pic' and is_deleted = 0) d ON
    dprs.id = d.design_scene_id
    LEFT JOIN design_templet AS dt ON dprs.design_template_id = dt.id
    LEFT JOIN (SELECT id,space_function_id,space_areas,space_shape from space_common where is_deleted = 0) AS sc ON sc.id = dt.space_common_id
    left join base_product_style bps ON bps.id = dprs.design_style_id
    LEFT JOIN (SELECT value,name,ordering from sys_dictionary where type =  'houseType') t ON t.value = sc.space_function_id
    WHERE
    dprs.id = #{planId}
    AND dprs.is_deleted = 0
    GROUP BY  dprs.id
  </select>


    <select id="selectDesignPlanRenderSceneListByIds" parameterType="java.util.List"
            resultType="com.sandu.api.designplan.input.PlanRenderSceneInput">
        SELECT
        dprs.id AS designRenderSceneId,
        dprs.plan_name AS fullHousePlanName,
        IFNULL(arts.house_id,0) AS houseId,
        dprs.user_id AS userId,
        dprs.design_style_id AS designPlanStyleId,
        sc.space_function_id AS spaceType,
        sc.space_name AS spaceName,
        d.pic_path AS planResourcPicPath,
        sc.space_areas AS spaceAreas,
        bps.name AS designPlanStyleName
        FROM
        design_plan_render_scene dprs
        left join auto_render_task_state arts on arts.business_id = dprs.id
        LEFT JOIN design_templet AS dt ON dprs.design_template_id = dt.id
        LEFT JOIN (SELECT id,space_function_id,space_areas,space_shape,space_name from space_common where is_deleted =
        0) AS sc ON sc.id = dt.space_common_id
        LEFT JOIN (SELECT pic_path,id,design_scene_id from res_render_pic where file_key =
        'design.designPlan.render.small.pic' and is_deleted = 0) d ON
        dprs.id = d.design_scene_id
        left join base_product_style bps ON bps.id = dprs.design_style_id
        WHERE
        dprs.id in
        <foreach collection="list" index="index" item="item"
                 open="(" separator="," close=")">
            #{item}
        </foreach>
        AND dprs.is_deleted = 0
        GROUP BY dprs.id
    </select>


    <insert id="insertDesignPlanRenderSceneList" parameterType="java.util.List" useGeneratedKeys="true"
            keyProperty="id">
        insert into design_plan_render_scene (render_type, plan_code,
        plan_name, user_id, design_source_type,
        design_id, design_style_id, pic_id,
        model_3d_id, model_u3d_id, model_id,
        config_file_id, space_common_id, plan_desc,
        sys_code, creator, gmt_create,
        modifier, gmt_modified, is_deleted,
        remark, design_template_id, ipad_model_u3d_id,
        ios_model_u3d_id, android_model_u3d_id, macBookpc_model_u3d_id,
        pc_model_u3d_id, web_model_u3d_id, media_type,
        evening_file_id, dawn_file_id, night_file_id,
        share_total, is_open, draft_state,
        baiMo_state, stuff_finish_state, decorate_finish_state,
        is_change, is_decorated, plan_source,
        residential_units_name, house_id, living_id,
        cover_pic_id, is_release, design_recommended_style_id,
        release_time, effects_config, is_recommended,
        is_default_decorate, plan_number, design_plan_id,
        scene_modified, check_user_name, fail_cause,
        spelling_flower_file_id, spelling_flower_product,
        platform_id, contains_not_open_product, shelf_status,
        waterjet_info, apply_space_areas, group_primary_id,
        designPlan_render_pic_ids)
        values
        <foreach collection="list" item="item" index="index" separator=",">
        ( #{item.renderType,jdbcType=INTEGER}, #{item.planCode,jdbcType=VARCHAR},
        #{item.planName,jdbcType=VARCHAR}, #{item.userId,jdbcType=INTEGER}, #{item.designSourceType,jdbcType=INTEGER},
        #{item.designId,jdbcType=INTEGER}, #{item.designStyleId,jdbcType=INTEGER}, #{item.picId,jdbcType=INTEGER},
        #{item.model3dId,jdbcType=INTEGER}, #{item.modelU3dId,jdbcType=INTEGER}, #{item.modelId,jdbcType=INTEGER},
        #{item.configFileId,jdbcType=INTEGER}, #{item.spaceCommonId,jdbcType=INTEGER}, #{item.planDesc,jdbcType=VARCHAR},
        #{item.sysCode,jdbcType=VARCHAR}, #{item.creator,jdbcType=VARCHAR}, #{item.gmtCreate,jdbcType=TIMESTAMP},
        #{item.modifier,jdbcType=VARCHAR}, #{item.gmtModified,jdbcType=TIMESTAMP}, #{item.isDeleted,jdbcType=INTEGER},
        #{item.remark,jdbcType=VARCHAR}, #{item.designTemplateId,jdbcType=VARCHAR}, #{item.ipadModelU3dId,jdbcType=INTEGER},
        #{item.iosModelU3dId,jdbcType=INTEGER}, #{item.androidModelU3dId,jdbcType=INTEGER}, #{item.macbookpcModelU3dId,jdbcType=INTEGER},
        #{item.pcModelU3dId,jdbcType=INTEGER}, #{item.webModelU3dId,jdbcType=INTEGER}, #{item.mediaType,jdbcType=INTEGER},
        #{item.eveningFileId,jdbcType=INTEGER}, #{item.dawnFileId,jdbcType=INTEGER}, #{item.nightFileId,jdbcType=INTEGER},
        #{item.shareTotal,jdbcType=INTEGER}, #{item.isOpen,jdbcType=INTEGER}, #{item.draftState,jdbcType=INTEGER},
        #{item.baimoState,jdbcType=INTEGER}, #{item.stuffFinishState,jdbcType=INTEGER}, #{item.decorateFinishState,jdbcType=INTEGER},
        #{item.isChange,jdbcType=INTEGER}, #{item.isDecorated,jdbcType=INTEGER}, #{item.planSource,jdbcType=VARCHAR},
        #{item.residentialUnitsName,jdbcType=VARCHAR}, #{item.houseId,jdbcType=INTEGER}, #{item.livingId,jdbcType=INTEGER},
        #{item.coverPicId,jdbcType=INTEGER}, #{item.isRelease,jdbcType=INTEGER}, #{item.designRecommendedStyleId,jdbcType=INTEGER},
        #{item.releaseTime,jdbcType=TIMESTAMP}, #{item.effectsConfig,jdbcType=VARCHAR}, #{item.isRecommended,jdbcType=INTEGER},
        #{item.isDefaultDecorate,jdbcType=INTEGER}, #{item.planNumber,jdbcType=VARCHAR}, #{item.designPlanId,jdbcType=INTEGER},
        #{item.sceneModified,jdbcType=BIGINT}, #{item.checkUserName,jdbcType=VARCHAR}, #{item.failCause,jdbcType=VARCHAR},
        #{item.spellingFlowerFileId,jdbcType=INTEGER}, #{item.spellingFlowerProduct,jdbcType=VARCHAR},
        #{item.platformId,jdbcType=BIGINT}, #{item.containsNotOpenProduct,jdbcType=VARCHAR}, #{item.shelfStatus,jdbcType=VARCHAR},
        #{item.waterjetInfo,jdbcType=VARCHAR}, #{item.applySpaceAreas,jdbcType=VARCHAR}, #{item.groupPrimaryId,jdbcType=INTEGER},
        #{item.designplanRenderPicIds,jdbcType=VARCHAR})
        </foreach>

    </insert>


    <delete id="deleteList" parameterType="java.util.List">
        <!--delete from design_plan_render_scene where id = #{id}-->
        UPDATE design_plan_render_scene SET is_deleted = 1,gmt_modified = NOW() WHERE id IN
        <foreach collection="list" index="index" item="item"
                 open="(" separator="," close=")">
            #{item}
        </foreach>
    </delete>


    <update id="updateList" parameterType="java.util.List">
        <if test="list != null and list.size > 0">
        <foreach collection="list" item="item" index="index" open="" close="" separator=";">
            update design_plan_render_scene
            <set>
                <if test="item.spellingFlowerFileId!= null">spelling_flower_file_id =
                    #{item.spellingFlowerFileId,jdbcType=INTEGER},
                </if>
                <if test="item.spellingFlowerProduct!= null">spelling_flower_product =
                    #{item.spellingFlowerProduct,jdbcType=VARCHAR},
                </if>
                <if test="item.checkUserName!= null">check_user_name = #{item.checkUserName,jdbcType=VARCHAR},</if>
                <if test="item.failCause!= null">fail_cause = #{item.failCause,jdbcType=VARCHAR},</if>
                <if test="item.planCode!= null">plan_code = #{item.planCode,jdbcType=VARCHAR},</if>
                <if test="item.planName!= null">plan_name = #{item.planName,jdbcType=VARCHAR},</if>
                <if test="item.userId!= null">user_id = #{item.userId,jdbcType=INTEGER},</if>
                <if test="item.mediaType!= null">media_type = #{item.mediaType,jdbcType=INTEGER},</if>
                <if test="item.designSourceType!= null">design_source_type = #{item.designSourceType,jdbcType=INTEGER},</if>
                <if test="item.designId!= null">design_id = #{item.designId,jdbcType=INTEGER},</if>
                <if test="item.designTemplateId!= null">design_template_id = #{item.designTemplateId,jdbcType=INTEGER},</if>
                <if test="item.designStyleId!= null">design_style_id = #{item.designStyleId,jdbcType=INTEGER},</if>
                <if test="item.picId!= null">pic_id = #{item.picId,jdbcType=INTEGER},</if>
                <if test="item.modelId!= null">model_id = #{item.modelId,jdbcType=INTEGER},</if>
                <if test="item.model3dId!= null">model_3d_id = #{item.model3dId,jdbcType=INTEGER},</if>
                <if test="item.modelU3dId!= null">model_u3d_id = #{item.modelU3dId,jdbcType=INTEGER},</if>
                <if test="item.webModelU3dId!= null">web_model_u3d_id = #{item.webModelU3dId,jdbcType=INTEGER},</if>
                <if test="item.iosModelU3dId!= null">ios_model_u3d_id = #{item.iosModelU3dId,jdbcType=INTEGER},</if>
                <if test="item.pcModelU3dId!= null">pc_model_u3d_id = #{item.pcModelU3dId,jdbcType=INTEGER},</if>
                <if test="item.ipadModelU3dId!= null">ipad_model_u3d_id = #{item.ipadModelU3dId,jdbcType=INTEGER},</if>
                <if test="item.androidModelU3dId!= null">android_model_u3d_id = #{item.androidModelU3dId,jdbcType=INTEGER},</if>
                <if test="item.macBookpcModelU3dId!= null">macBookpc_model_u3d_id =
                    #{item.macBookpcModelU3dId,jdbcType=INTEGER},
                </if>
                <if test="item.configFileId!= null">config_file_id = #{item.configFileId,jdbcType=INTEGER},</if>
                <if test="item.spaceCommonId!= null">space_common_id = #{item.spaceCommonId,jdbcType=INTEGER},</if>
                <if test="item.planDesc!= null">plan_desc = #{item.planDesc,jdbcType=VARCHAR},</if>
                <if test="item.sysCode!= null">sys_code = #{item.sysCode,jdbcType=VARCHAR},</if>
                <if test="item.creator!= null">creator = #{item.creator,jdbcType=VARCHAR},</if>
                <if test="item.gmtCreate!= null">gmt_create = #{item.gmtCreate,jdbcType=TIMESTAMP},</if>
                <if test="item.modifier!= null">modifier = #{item.modifier,jdbcType=VARCHAR},</if>
                <if test="item.gmtModified!= null">gmt_modified = #{item.gmtModified,jdbcType=TIMESTAMP},</if>
                <if test="item.isDeleted!= null">is_deleted = #{item.isDeleted,jdbcType=INTEGER},</if>
                <if test="item.remark!= null">remark = #{item.remark,jdbcType=VARCHAR},</if>
                <if test="item.shareTotal!= null">share_total = #{item.shareTotal,jdbcType=INTEGER},</if>
                <if test="item.isOpen!= null">is_open = #{item.isOpen,jdbcType=INTEGER},</if>
                <if test="item.isChange!= null">is_change = #{item.isChange,jdbcType=INTEGER},</if>
                <if test="item.isDecorated!= null">is_decorated = #{item.isDecorated,jdbcType=INTEGER},</if>
                <if test="item.isDecorated!= null">is_decorated = #{item.isDecorated,jdbcType=INTEGER},</if>
                <if test="item.draftState!= null">draft_state = #{item.draftState,jdbcType=INTEGER},</if>
                <if test="item.baiMoState!= null">baiMo_state = #{item.baiMoState,jdbcType=INTEGER},</if>
                <if test="item.stuffFinishState!= null">stuff_finish_state = #{item.stuffFinishState,jdbcType=INTEGER},</if>
                <if test="item.decorateFinishState!= null">decorate_finish_state = #{item.decorateFinishState,jdbcType=INTEGER},
                </if>
                <if test="item.coverPicId!= null">cover_pic_id = #{item.coverPicId,jdbcType=INTEGER},</if>
                <if test="item.releaseTime!= null">release_time =#{item.releaseTime,jdbcType=TIMESTAMP},</if>
                <if test="item.designRecommendedStyleId!= null">design_recommended_style_id =
                    #{item.designRecommendedStyleId,jdbcType=INTEGER},
                </if>
                <if test="item.effectsConfig!= null">effects_config = #{item.effectsConfig,jdbcType=VARCHAR},</if>
                <if test="item.isRecommended!= null">is_recommended = #{item.isRecommended,jdbcType=INTEGER},</if>
                <if test="item.isDefaultDecorate!= null">is_default_decorate = #{item.isDefaultDecorate,jdbcType=INTEGER},</if>
                <if test="item.planNumber!= null">plan_number = #{item.planNumber,jdbcType=VARCHAR},</if>
                <if test="item.renderType!= null">render_type = #{item.renderType,jdbcType=INTEGER},</if>
                <if test="item.applySpaceAreas!= null">apply_space_areas = #{item.applySpaceAreas,jdbcType=VARCHAR},</if>
                <if test="item.groupPrimaryId!= null">group_primary_id = #{item.groupPrimaryId,jdbcType=INTEGER},</if>
            </set>
            where id = #{item.id,jdbcType=INTEGER}
        </foreach>
        </if>
    </update>


    <insert id="addDesignPlanProductRenderSceneList" parameterType="java.util.List">
        <if test="designPlanProductRenderSceneList != null and designPlanProductRenderSceneList.size > 0">
            insert into design_plan_product_render_scene
            (
            sys_code,
            split_textures_choose_info,
            plan_group_id,
            creator,
            gmt_create,
            modifier,
            gmt_modified,
            is_deleted,
            group_type,
            model_product_id,
            plan_id,
            is_dirty,
            product_id,
            init_product_id,
            location_file_id,
            product_sequence,
            material_pic_id,
            planProduct_id,
            display_status,
            remark,
            is_hide,
            pos_index_path,
            product_group_id,
            is_main_product,
            pos_name,
            bind_parent_productId,
            same_product_type_index,
            is_standard,
            center,
            region_mark,
            style_id,
            measure_code,
            describe_info,
            product_index,
            is_main_structure_product,
            is_group_replace_way,
            wall_orientation,
            wall_type,
            group_product_uniqueId,
            is_replace_texture
            )
            values
            <foreach collection="designPlanProductRenderSceneList" item="item" index="index" separator=",">
                (
                #{item.sysCode,jdbcType=VARCHAR},
                #{item.splitTexturesChooseInfo,jdbcType=VARCHAR},
                #{item.planGroupId,jdbcType=VARCHAR},
                #{item.creator,jdbcType=VARCHAR},
                #{item.gmtCreate,jdbcType=TIMESTAMP},
                #{item.modifier,jdbcType=VARCHAR},
                #{item.gmtModified,jdbcType=TIMESTAMP},
                #{item.isDeleted,jdbcType=INTEGER},
                #{item.groupType,jdbcType=INTEGER},
                #{item.modelProductId,jdbcType=INTEGER},
                #{item.planId,jdbcType=INTEGER},
                #{item.isDirty,jdbcType=INTEGER},
                #{item.productId,jdbcType=INTEGER},
                #{item.initProductId,jdbcType=INTEGER},
                #{item.locationFileId,jdbcType=INTEGER},
                #{item.productSequence,jdbcType=VARCHAR},
                #{item.materialPicId,jdbcType=VARCHAR},
                #{item.planProductId,jdbcType=INTEGER},
                #{item.displayStatus,jdbcType=INTEGER},
                #{item.remark,jdbcType=VARCHAR},
                #{item.isHide,jdbcType=INTEGER},
                #{item.posIndexPath,jdbcType=VARCHAR},
                #{item.productGroupId,jdbcType=INTEGER},
                #{item.isMainProduct,jdbcType=INTEGER},
                #{item.posName,jdbcType=VARCHAR},
                #{item.bindParentProductId,jdbcType=VARCHAR},
                #{item.sameProductTypeIndex,jdbcType=INTEGER},
                #{item.isStandard,jdbcType=INTEGER},
                #{item.center,jdbcType=VARCHAR},
                #{item.regionMark,jdbcType=VARCHAR},
                #{item.styleId,jdbcType=INTEGER},
                #{item.measureCode,jdbcType=VARCHAR},
                #{item.describeInfo,jdbcType=VARCHAR},
                #{item.productIndex,jdbcType=INTEGER},
                #{item.isMainStructureProduct,jdbcType=INTEGER},
                #{item.isGroupReplaceWay,jdbcType=INTEGER},
                #{item.wallOrientation,jdbcType=VARCHAR},
                #{item.wallType,jdbcType=VARCHAR},
                #{item.groupProductUniqueId,jdbcType=VARCHAR},
                #{item.isReplaceTexture,jdbcType=INTEGER}
                )
            </foreach>
        </if>
    </insert>


    <insert id="insertResdesignRenderScene" parameterType="com.sandu.system.model.ResDesignRenderScene"
            useGeneratedKeys="true" keyProperty="id">
        insert into res_design_render_scene
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="oldId!= null ">old_id,</if>
            <if test="fileCode!= null  and  fileCode!=''">file_code,</if>
            <if test="fileName!= null and fileName!='' ">file_name,</if>
            <if test="fileOriginalName!= null and fileOriginalName!='' ">file_original_name,</if>
            <if test="fileType!= null and fileType!='' ">file_type,</if>
            <if test="fileSize!= null and fileSize!='' ">file_size,</if>
            <if test="fileWeight!= null and fileWeight!='' ">file_weight,</if>
            <if test="fileHigh!= null and  fileHigh!='' ">file_high,</if>
            <if test="fileLength!= null">file_length,</if>
            <if test="fileSuffix!= null and fileSuffix!=''  ">file_suffix,</if>
            <if test="fileFormat!= null and fileFormat!='' ">file_format,</if>
            <if test="fileLevel!= null and fileLevel!='' ">file_level,</if>
            <if test="filePath!= null and filePath!='' ">file_path,</if>
            <if test="fileDesc!= null and  fileDesc!='' ">file_desc,</if>
            <if test="fileOrdering!= null">file_ordering,</if>
            <if test="sysCode!= null and sysCode!='' ">sys_code,</if>
            <if test="creator!= null and creator!='' ">creator,</if>
            <if test="gmtCreate!= null">gmt_create,</if>
            <if test="modifier!= null and modifier!='' ">modifier,</if>
            <if test="gmtModified!= null">gmt_modified,</if>
            <if test="isDeleted!= null">is_deleted,</if>
            <if test="fileKey!= null and  fileKey!='' ">file_key,</if>
            <if test="businessId!= null">business_id,</if>
            <if test="smallPicInfo!= null and smallPicInfo!='' ">small_pic_info,</if>
            <if test="viewPoint!= null">view_point,</if>
            <if test="scene!= null">scene,</if>
            <if test="sequence!= null">sequence,</if>
            <if test="renderingType!= null">rendering_type,</if>
            <if test="panoPath!= null and  panoPath!='' ">pano_path,</if>
            <if test="minHeight!= null">min_height,</if>
            <if test="isModelShare!= null">is_model_share,</if>
            <if test="remark!= null">remark,</if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="oldId!= null">#{oldId,jdbcType=INTEGER},</if>
            <if test="fileCode!= null and fileCode!='' ">#{fileCode,jdbcType=VARCHAR},</if>
            <if test="fileName!= null and fileName!= '' ">#{fileName,jdbcType=VARCHAR},</if>
            <if test="fileOriginalName!= null and fileOriginalName!= '' ">#{fileOriginalName,jdbcType=VARCHAR},</if>
            <if test="fileType!= null and fileType!='' ">#{fileType,jdbcType=VARCHAR},</if>
            <if test="fileSize!= null and fileSize!= '' ">#{fileSize,jdbcType=VARCHAR},</if>
            <if test="fileWeight!= null and fileWeight!='' ">#{fileWeight,jdbcType=VARCHAR},</if>
            <if test="fileHigh!= null and fileHigh!= '' ">#{fileHigh,jdbcType=VARCHAR},</if>
            <if test="fileLength!= null">#{fileLength,jdbcType=INTEGER},</if>
            <if test="fileSuffix!= null and fileSuffix!= '' ">#{fileSuffix,jdbcType=VARCHAR},</if>
            <if test="fileFormat!= null and fileFormat!= '' ">#{fileFormat,jdbcType=VARCHAR},</if>
            <if test="fileLevel!= null and fileLevel!= '' ">#{fileLevel,jdbcType=VARCHAR},</if>
            <if test="filePath!= null and filePath!= '' ">#{filePath,jdbcType=VARCHAR},</if>
            <if test="fileDesc!= null and fileDesc!='' ">#{fileDesc,jdbcType=VARCHAR},</if>
            <if test="fileOrdering!= null">#{fileOrdering,jdbcType=INTEGER},</if>
            <if test="sysCode!= null  and sysCode!='' ">#{sysCode,jdbcType=VARCHAR},</if>
            <if test="creator!= null and creator!= '' ">#{creator,jdbcType=VARCHAR},</if>
            <if test="gmtCreate!= null">#{gmtCreate,jdbcType=TIMESTAMP},</if>
            <if test="modifier!= null and modifier!= '' ">#{modifier,jdbcType=VARCHAR},</if>
            <if test="gmtModified!= null">#{gmtModified,jdbcType=TIMESTAMP},</if>
            <if test="isDeleted!= null">#{isDeleted,jdbcType=VARCHAR},</if>
            <if test="fileKey!= null and fileKey!= '' ">#{fileKey,jdbcType=VARCHAR},</if>
            <if test="businessId!= null">#{businessId,jdbcType=INTEGER},</if>
            <if test="smallPicInfo!= null and smallPicInfo!= '' ">#{smallPicInfo,jdbcType=VARCHAR},</if>
            <if test="viewPoint!= null">#{viewPoint,jdbcType=INTEGER},</if>
            <if test="scene!= null">#{scene,jdbcType=INTEGER},</if>
            <if test="sequence!= null">#{sequence,jdbcType=INTEGER},</if>
            <if test="renderingType!= null">#{renderingType,jdbcType=INTEGER},</if>
            <if test="panoPath!= null and panoPath!= '' ">#{panoPath,jdbcType=VARCHAR},</if>
            <if test="minHeight!= null">#{minHeight,jdbcType=INTEGER},</if>
            <if test="isModelShare!= null">#{isModelShare,jdbcType=INTEGER},</if>
            <if test="remark!= null">#{remark,jdbcType=VARCHAR},</if>
        </trim>
    </insert>


    <select id="getResDesignByspellingFlowerFileId" resultType="com.sandu.system.model.ResDesign"
            parameterType="java.lang.Integer">
    select
    *
    from res_design
    where id = #{id,jdbcType=INTEGER}
    and is_deleted = 0
  </select>


    <!-- update -->
    <update id="updateDesignPlanRenderScene" parameterType="com.sandu.api.designplan.model.DesignPlanRenderScene">
        update design_plan_render_scene
        <set>
            <if test="spellingFlowerFileId!= null">spelling_flower_file_id = #{spellingFlowerFileId,jdbcType=INTEGER},
            </if>
            <if test="spellingFlowerProduct!= null">spelling_flower_product =
                #{spellingFlowerProduct,jdbcType=VARCHAR},
            </if>
            <if test="checkUserName!= null">check_user_name = #{checkUserName,jdbcType=VARCHAR},</if>
            <if test="failCause!= null">fail_cause = #{failCause,jdbcType=VARCHAR},</if>
            <if test="planCode!= null">plan_code = #{planCode,jdbcType=VARCHAR},</if>
            <if test="planName!= null">plan_name = #{planName,jdbcType=VARCHAR},</if>
            <if test="userId!= null">user_id = #{userId,jdbcType=INTEGER},</if>
            <if test="mediaType!= null">media_type = #{mediaType,jdbcType=INTEGER},</if>
            <if test="designSourceType!= null">design_source_type = #{designSourceType,jdbcType=INTEGER},</if>
            <if test="designId!= null">design_id = #{designId,jdbcType=INTEGER},</if>
            <if test="designTemplateId!= null">design_template_id = #{designTemplateId,jdbcType=INTEGER},</if>
            <if test="designStyleId!= null">design_style_id = #{designStyleId,jdbcType=INTEGER},</if>
            <if test="picId!= null">pic_id = #{picId,jdbcType=INTEGER},</if>
            <if test="modelId!= null">model_id = #{modelId,jdbcType=INTEGER},</if>
            <if test="model3dId!= null">model_3d_id = #{model3dId,jdbcType=INTEGER},</if>
            <if test="modelU3dId!= null">model_u3d_id = #{modelU3dId,jdbcType=INTEGER},</if>
            <if test="webModelU3dId!= null">web_model_u3d_id = #{webModelU3dId,jdbcType=INTEGER},</if>
            <if test="iosModelU3dId!= null">ios_model_u3d_id = #{iosModelU3dId,jdbcType=INTEGER},</if>
            <if test="pcModelU3dId!= null">pc_model_u3d_id = #{pcModelU3dId,jdbcType=INTEGER},</if>
            <if test="ipadModelU3dId!= null">ipad_model_u3d_id = #{ipadModelU3dId,jdbcType=INTEGER},</if>
            <if test="androidModelU3dId!= null">android_model_u3d_id = #{androidModelU3dId,jdbcType=INTEGER},</if>
            <if test="macBookpcModelU3dId!= null">macBookpc_model_u3d_id = #{macBookpcModelU3dId,jdbcType=INTEGER},</if>
            <if test="configFileId!= null">config_file_id = #{configFileId,jdbcType=INTEGER},</if>
            <if test="spaceCommonId!= null">space_common_id = #{spaceCommonId,jdbcType=INTEGER},</if>
            <if test="planDesc!= null">plan_desc = #{planDesc,jdbcType=VARCHAR},</if>
            <if test="sysCode!= null">sys_code = #{sysCode,jdbcType=VARCHAR},</if>
            <if test="creator!= null">creator = #{creator,jdbcType=VARCHAR},</if>
            <if test="gmtCreate!= null">gmt_create = #{gmtCreate,jdbcType=TIMESTAMP},</if>
            <if test="modifier!= null">modifier = #{modifier,jdbcType=VARCHAR},</if>
            <if test="gmtModified!= null">gmt_modified = #{gmtModified,jdbcType=TIMESTAMP},</if>
            <if test="isDeleted!= null">is_deleted = #{isDeleted,jdbcType=INTEGER},</if>
            <if test="remark!= null">remark = #{remark,jdbcType=VARCHAR},</if>
            <if test="shareTotal!= null">share_total = #{shareTotal,jdbcType=INTEGER},</if>
            <if test="isOpen!= null">is_open = #{isOpen,jdbcType=INTEGER},</if>
            <if test="isChange!= null">is_change = #{isChange,jdbcType=INTEGER},</if>
            <if test="isDecorated!= null">is_decorated = #{isDecorated,jdbcType=INTEGER},</if>
            <if test="isDecorated!= null">is_decorated = #{isDecorated,jdbcType=INTEGER},</if>
            <if test="draftState!= null">draft_state = #{draftState,jdbcType=INTEGER},</if>
            <if test="baiMoState!= null">baiMo_state = #{baiMoState,jdbcType=INTEGER},</if>
            <if test="stuffFinishState!= null">stuff_finish_state = #{stuffFinishState,jdbcType=INTEGER},</if>
            <if test="decorateFinishState!= null">decorate_finish_state = #{decorateFinishState,jdbcType=INTEGER},</if>
            <if test="coverPicId!= null">cover_pic_id = #{coverPicId,jdbcType=INTEGER},</if>
            <if test="releaseTime!= null">release_time =#{releaseTime,jdbcType=TIMESTAMP},</if>
            <if test="designRecommendedStyleId!= null">design_recommended_style_id =
                #{designRecommendedStyleId,jdbcType=INTEGER},
            </if>
            <if test="effectsConfig!= null">effects_config = #{effectsConfig,jdbcType=VARCHAR},</if>
            <if test="isRecommended!= null">is_recommended = #{isRecommended,jdbcType=INTEGER},</if>
            <if test="isDefaultDecorate!= null">is_default_decorate = #{isDefaultDecorate,jdbcType=INTEGER},</if>
            <if test="planNumber!= null">plan_number = #{planNumber,jdbcType=VARCHAR},</if>
            <if test="renderType!= null">render_type = #{renderType,jdbcType=INTEGER},</if>
            <if test="applySpaceAreas!= null">apply_space_areas = #{applySpaceAreas,jdbcType=VARCHAR},</if>
            <if test="groupPrimaryId!= null">group_primary_id = #{groupPrimaryId,jdbcType=INTEGER},</if>
        </set>
        where id = #{id,jdbcType=INTEGER}
    </update>

    <select id="selectSpaceCommonInfo" resultType="com.sandu.home.model.SpaceCommon"
            parameterType="java.lang.Integer">
    select
    *
    from space_common
    where id = #{id,jdbcType=INTEGER}
  </select>


    <insert id="insertResRenderPic" parameterType="com.sandu.api.designplan.model.ResRenderPic" useGeneratedKeys="true"
            keyProperty="id">
        insert into res_render_pic
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="businessId!= null">business_id,</if>
            <if test="picCode!= null">pic_code,</if>
            <if test="picName!= null">pic_name,</if>
            <if test="sysTaskPicId!= null">sys_task_pic_id,</if>
            <if test="picFileName!= null">pic_file_name,</if>
            <if test="picType!= null">pic_type,</if>
            <if test="picSize!= null">pic_size,</if>
            <if test="picWeight!= null">pic_weight,</if>
            <if test="picHigh!= null">pic_high,</if>
            <if test="picSuffix!= null">pic_suffix,</if>
            <if test="picLevel!= null">pic_level,</if>
            <if test="picFormat!= null">pic_format,</if>
            <if test="picPath!= null">pic_path,</if>
            <if test="picDesc!= null">pic_desc,</if>
            <if test="picOrdering!= null">pic_ordering,</if>
            <if test="fileKey!= null">file_key,</if>
            <if test="fileKeys!= null">file_keys,</if>
            <if test="smallPicInfo!= null">small_pic_info,</if>
            <if test="viewPoint!= null">view_point,</if>
            <if test="scene!= null">scene,</if>
            <if test="renderingType!= null">rendering_type,</if>
            <if test="sequence!= null">sequence,</if>
            <if test="panoPath!= null">pano_path,</if>
            <if test="taskCreateTime!= null">task_create_time,</if>
            <if test="pid!= null">pid,</if>
            <if test="sysCode!= null">sys_code,</if>
            <if test="creator!= null">creator,</if>
            <if test="gmtCreate!= null">gmt_create,</if>
            <if test="modifier!= null">modifier,</if>
            <if test="gmtModified!= null">gmt_modified,</if>
            <if test="isDeleted!= null">is_deleted,</if>
            <if test="att1!= null">att1,</if>
            <if test="att2!= null">att2,</if>
            <if test="numa1!= null">numa1,</if>
            <if test="numa2!= null">numa2,</if>
            <if test="remark!= null">remark,</if>
            <if test="panoLevel!= null">pano_level,</if>
            <if test="roam!= null">roam,</if>
            <if test="sourcePlanId!= null">source_plan_id,</if>
            <if test="templateId!= null">source_template_id,</if>
            <if test="designPlanName!= null">design_plan_name,</if>
            <if test="spaceType!= null">space_type,</if>
            <if test="createUserId!= null">create_user_id,</if>
            <if test="area!= null">area,</if>
            <if test="designSceneId!= null">design_scene_id,</if>
            <if test="planRecommendedId!= null">plan_recommended_id,</if>
            <if test="platformId != null">platform_id,</if>
            <if test="cameraLocation != null">camera_location</if>
        </trim>

        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="businessId!= null">#{businessId,jdbcType=INTEGER},</if>
            <if test="picCode!= null">#{picCode,jdbcType=VARCHAR},</if>
            <if test="picName!= null">#{picName,jdbcType=VARCHAR},</if>
            <if test="sysTaskPicId!= null">#{sysTaskPicId,jdbcType=INTEGER},</if>
            <if test="picFileName!= null">#{picFileName,jdbcType=VARCHAR},</if>
            <if test="picType!= null">#{picType,jdbcType=VARCHAR},</if>
            <if test="picSize!= null">#{picSize,jdbcType=INTEGER},</if>
            <if test="picWeight!= null">#{picWeight,jdbcType=INTEGER},</if>
            <if test="picHigh!= null">#{picHigh,jdbcType=INTEGER},</if>
            <if test="picSuffix!= null">#{picSuffix,jdbcType=VARCHAR},</if>
            <if test="picLevel!= null">#{picLevel,jdbcType=INTEGER},</if>
            <if test="picFormat!= null">#{picFormat,jdbcType=VARCHAR},</if>
            <if test="picPath!= null">#{picPath,jdbcType=VARCHAR},</if>
            <if test="picDesc!= null">#{picDesc,jdbcType=VARCHAR},</if>
            <if test="picOrdering!= null">#{picOrdering,jdbcType=INTEGER},</if>
            <if test="fileKey!= null">#{fileKey,jdbcType=VARCHAR},</if>
            <if test="fileKeys!= null">#{fileKeys,jdbcType=VARCHAR},</if>
            <if test="smallPicInfo!= null">#{smallPicInfo,jdbcType=VARCHAR},</if>
            <if test="viewPoint!= null">#{viewPoint,jdbcType=INTEGER},</if>
            <if test="scene!= null">#{scene,jdbcType=INTEGER},</if>
            <if test="renderingType!= null">#{renderingType,jdbcType=INTEGER},</if>
            <if test="sequence!= null">#{sequence,jdbcType=INTEGER},</if>
            <if test="panoPath!= null">#{panoPath,jdbcType=VARCHAR},</if>
            <if test="taskCreateTime!= null">#{taskCreateTime,jdbcType=TIMESTAMP},</if>
            <if test="pid!= null">#{pid,jdbcType=INTEGER},</if>
            <if test="sysCode!= null">#{sysCode,jdbcType=VARCHAR},</if>
            <if test="creator!= null">#{creator,jdbcType=VARCHAR},</if>
            <if test="gmtCreate!= null">#{gmtCreate,jdbcType=TIMESTAMP},</if>
            <if test="modifier!= null">#{modifier,jdbcType=VARCHAR},</if>
            <if test="gmtModified!= null">#{gmtModified,jdbcType=TIMESTAMP},</if>
            <if test="isDeleted!= null">#{isDeleted,jdbcType=INTEGER},</if>
            <if test="att1!= null">#{att1,jdbcType=VARCHAR},</if>
            <if test="att2!= null">#{att2,jdbcType=VARCHAR},</if>
            <if test="numa1!= null">#{numa1,jdbcType=INTEGER},</if>
            <if test="numa2!= null">#{numa2,jdbcType=INTEGER},</if>
            <if test="remark!= null">#{remark,jdbcType=VARCHAR},</if>
            <if test="panoLevel!= null">#{panoLevel,jdbcType=INTEGER},</if>
            <if test="roam!= null">#{roam,jdbcType=VARCHAR},</if>
            <if test="sourcePlanId!= null">#{sourcePlanId,jdbcType=INTEGER},</if>
            <if test="templateId!= null">#{templateId,jdbcType=INTEGER},</if>
            <if test="designPlanName!= null">#{designPlanName},</if>
            <if test="spaceType!= null">#{spaceType},</if>
            <if test="createUserId!= null">#{createUserId},</if>
            <if test="area!= null">#{area},</if>
            <if test="designSceneId!= null">#{designSceneId,jdbcType=INTEGER},</if>
            <if test="planRecommendedId!= null">#{planRecommendedId,jdbcType=INTEGER},</if>
            <if test="platformId != null">#{platformId,jdbcType=INTEGER},</if>
            <if test="cameraLocation != null">#{cameraLocation,jdbcType=VARCHAR}</if>
        </trim>
    </insert>

    <select id="selectResRenderPicList" resultType="com.sandu.api.designplan.model.ResRenderPic"
            parameterType="com.sandu.api.designplan.model.ResRenderPic">
        select
        *
        from res_render_pic
        where 1=1
        <if test="fileKeyList != null and fileKeyList.size() >0">
            and file_key in
            <foreach collection="fileKeyList" index="index" item="item" open="(" separator="," close=")">
                #{item}
            </foreach>
        </if>
        <if test="planRecommendedId!= null">and plan_recommended_id = #{planRecommendedId,jdbcType=INTEGER}</if>
        <if test="designSceneId!= null">and design_scene_id = #{designSceneId,jdbcType=INTEGER}</if>
        <if test="businessId!= null">and business_id = #{businessId,jdbcType=INTEGER}</if>
        <if test="picCode!= null">and pic_code = #{picCode,jdbcType=VARCHAR}</if>
        <if test="picName!= null">and pic_name = #{picName,jdbcType=VARCHAR}</if>
        <if test="sysTaskPicId!= null">and sys_task_pic_id = #{sysTaskPicId,jdbcType=INTEGER}</if>
        <if test="picFileName!= null">and pic_file_name = #{picFileName,jdbcType=VARCHAR}</if>
        <if test="picType!= null">and pic_type = #{picType,jdbcType=VARCHAR}</if>
        <if test="picSize!= null">and pic_size = #{picSize,jdbcType=INTEGER}</if>
        <if test="picWeight!= null">and pic_weight = #{picWeight,jdbcType=INTEGER}</if>
        <if test="picHigh!= null">and pic_high = #{picHigh,jdbcType=INTEGER}</if>
        <if test="picSuffix!= null">and pic_suffix = #{picSuffix,jdbcType=VARCHAR}</if>
        <if test="picLevel!= null">and pic_level = #{picLevel,jdbcType=INTEGER}</if>
        <if test="picFormat!= null">and pic_format = #{picFormat,jdbcType=VARCHAR}</if>
        <if test="picPath!= null">and pic_path = #{picPath,jdbcType=VARCHAR}</if>
        <if test="picDesc!= null">and pic_desc = #{picDesc,jdbcType=VARCHAR}</if>
        <if test="picOrdering!= null">and pic_ordering = #{picOrdering,jdbcType=INTEGER}</if>
        <if test="fileKey!= null">and file_key = #{fileKey,jdbcType=VARCHAR}</if>
        <if test="fileKeys!= null">and file_keys = #{fileKeys,jdbcType=VARCHAR}</if>
        <if test="smallPicInfo!= null">and small_pic_info = #{smallPicInfo,jdbcType=VARCHAR}</if>
        <if test="viewPoint!= null">and view_point = #{viewPoint,jdbcType=INTEGER}</if>
        <if test="scene!= null">and scene = #{scene,jdbcType=INTEGER}</if>
        <if test="renderingType!= null">and rendering_type = #{renderingType,jdbcType=INTEGER}</if>
        <if test="sequence!= null">and sequence = #{sequence,jdbcType=INTEGER}</if>
        <if test="panoPath!= null">and pano_path = #{panoPath,jdbcType=VARCHAR}</if>
        <if test="taskCreateTime!= null">and task_create_time = #{taskCreateTime,jdbcType=TIMESTAMP}</if>
        <if test="pid!= null">and pid = #{pid,jdbcType=INTEGER}</if>
        <if test="sysCode!= null">and sys_code = #{sysCode,jdbcType=VARCHAR}</if>
        <if test="creator!= null">and creator = #{creator,jdbcType=VARCHAR}</if>
        <if test="gmtCreate!= null">and gmt_create = #{gmtCreate,jdbcType=TIMESTAMP}</if>
        <if test="modifier!= null">and modifier = #{modifier,jdbcType=VARCHAR}</if>
        <if test="gmtModified!= null">and gmt_modified = #{gmtModified,jdbcType=TIMESTAMP}</if>
        <if test="isDeleted!= null">and is_deleted = #{isDeleted,jdbcType=INTEGER}</if>
        <if test="att1!= null">and att1 = #{att1,jdbcType=VARCHAR}</if>
        <if test="att2!= null">and att2 = #{att2,jdbcType=VARCHAR}</if>
        <if test="numa1!= null">and numa1 = #{numa1,jdbcType=INTEGER}</if>
        <if test="numa2!= null">and numa2 = #{numa2,jdbcType=INTEGER}</if>
        <if test="remark!= null">and remark = #{remark,jdbcType=VARCHAR}</if>
        <if test="sourcePlanId!= null">and source_plan_id = #{sourcePlanId,jdbcType=INTEGER}</if>
        <if test="templateId!= null">and source_template_id = #{templateId,jdbcType=INTEGER}</if>
        <if test="platformId != null">and platform_id = #{platformId,jdbcType =INTEGER}</if>
        <if test="noIdList != null and noIdList.size() >0">
            AND id NOT IN
            <foreach collection="noIdList" index="index" item="item" open="(" separator="," close=")">
                #{item}
            </foreach>
        </if>
        <if test="order != null and  order !=''  ">
            order by ${order}
            <if test="orderNum != null and  orderNum !='' ">
                ${orderNum}
            </if>
        </if>
        <if test="orders != null and  orders !=''  ">
            order by ${orders}
        </if>
    </select>

    <select id="selectResRenderPic" resultType="com.sandu.api.designplan.model.ResRenderPic"
            parameterType="java.lang.Integer">
        select
        *
        from res_render_pic
        where
        <!-- is_deleted=0 and -->
        id = #{id,jdbcType=INTEGER}
    </select>


    <!-- **更新定义** -->
    <update id="updateResRenderPic" parameterType="com.sandu.api.designplan.model.ResRenderPic">
        update res_render_pic
        <set>
            <if test="businessId!= null">business_id = #{businessId,jdbcType=INTEGER},</if>
            <if test="picCode!= null">pic_code = #{picCode,jdbcType=VARCHAR},</if>
            <if test="sysTaskPicId!= null">sys_task_pic_id = #{sysTaskPicId,jdbcType=INTEGER},</if>
            <if test="picName!= null">pic_name = #{picName,jdbcType=VARCHAR},</if>
            <if test="picFileName!= null">pic_file_name = #{picFileName,jdbcType=VARCHAR},</if>
            <if test="picType!= null">pic_type = #{picType,jdbcType=VARCHAR},</if>
            <if test="picSize!= null">pic_size = #{picSize,jdbcType=INTEGER},</if>
            <if test="picWeight!= null">pic_weight = #{picWeight,jdbcType=INTEGER},</if>
            <if test="picHigh!= null">pic_high = #{picHigh,jdbcType=INTEGER},</if>
            <if test="picSuffix!= null">pic_suffix = #{picSuffix,jdbcType=VARCHAR},</if>
            <if test="picLevel!= null">pic_level = #{picLevel,jdbcType=INTEGER},</if>
            <if test="picFormat!= null">pic_format = #{picFormat,jdbcType=VARCHAR},</if>
            <if test="picPath!= null">pic_path = #{picPath,jdbcType=VARCHAR},</if>
            <if test="picDesc!= null">pic_desc = #{picDesc,jdbcType=VARCHAR},</if>
            <if test="picOrdering!= null">pic_ordering = #{picOrdering,jdbcType=INTEGER},</if>
            <if test="fileKey!= null">file_key = #{fileKey,jdbcType=VARCHAR},</if>
            <if test="fileKeys!= null">file_keys = #{fileKeys,jdbcType=VARCHAR},</if>
            <if test="smallPicInfo!= null">small_pic_info = #{smallPicInfo,jdbcType=VARCHAR},</if>
            <if test="viewPoint!= null">view_point = #{viewPoint,jdbcType=INTEGER},</if>
            <if test="scene!= null">scene = #{scene,jdbcType=INTEGER},</if>
            <if test="renderingType!= null">rendering_type = #{renderingType,jdbcType=INTEGER},</if>
            <if test="sequence!= null">sequence = #{sequence,jdbcType=INTEGER},</if>
            <if test="panoPath!= null">pano_path = #{panoPath,jdbcType=VARCHAR},</if>
            <if test="taskCreateTime!= null">task_create_time = #{taskCreateTime,jdbcType=TIMESTAMP},</if>
            <if test="pid!= null">pid = #{pid,jdbcType=INTEGER},</if>
            <if test="sysCode!= null">sys_code = #{sysCode,jdbcType=VARCHAR},</if>
            <if test="creator!= null">creator = #{creator,jdbcType=VARCHAR},</if>
            <if test="gmtCreate!= null">gmt_create = #{gmtCreate,jdbcType=TIMESTAMP},</if>
            <if test="modifier!= null">modifier = #{modifier,jdbcType=VARCHAR},</if>
            <if test="gmtModified!= null">gmt_modified = #{gmtModified,jdbcType=TIMESTAMP},</if>
            <if test="isDeleted!= null">is_deleted = #{isDeleted,jdbcType=INTEGER},</if>
            <if test="att1!= null">att1 = #{att1,jdbcType=VARCHAR},</if>
            <if test="att2!= null">att2 = #{att2,jdbcType=VARCHAR},</if>
            <if test="numa1!= null">numa1 = #{numa1,jdbcType=INTEGER},</if>
            <if test="numa2!= null">numa2 = #{numa2,jdbcType=INTEGER},</if>
            <if test="remark!= null">remark = CONCAT(remark,#{remark,jdbcType=VARCHAR}),</if>
            <if test="panoLevel!= null">pano_level = #{panoLevel,jdbcType=INTEGER},</if>
            <if test="roam!= null">roam = #{roam,jdbcType=VARCHAR},</if>
            <if test="designSceneId!= null">design_scene_id = #{designSceneId,jdbcType=INTEGER},</if>
            <if test="sourcePlanId!= null">source_plan_id = #{sourcePlanId,jdbcType=INTEGER},</if>
            <if test="templateId!= null">source_template_id = #{templateId,jdbcType=INTEGER},</if>
            <if test="planRecommendedId!= null">plan_recommended_id = #{planRecommendedId,jdbcType=INTEGER},</if>
            <if test="platformId != null">platform_id = #{platformId,jdbcType=INTEGER},</if>
        </set>
        where id = #{id,jdbcType=INTEGER}
    </update>


    <select id="selectResRenderVideoList" resultType="com.sandu.api.designplan.model.ResRenderVideo"
            parameterType="com.sandu.api.designplan.model.ResRenderVideo">
        select
        *
        from res_render_video
        where 1=1
        <if test="businessId!= null">and business_id = #{businessId,jdbcType=INTEGER}</if>
        <if test="videoCode!= null">and video_code = #{videoCode,jdbcType=VARCHAR}</if>
        <if test="videoName!= null">and video_name = #{videoName,jdbcType=VARCHAR}</if>
        <if test="videoFileName!= null">and video_file_name = #{videoFileName,jdbcType=VARCHAR}</if>
        <if test="videoType!= null">and video_type = #{videoType,jdbcType=VARCHAR}</if>
        <if test="videoSize!= null">and video_size = #{videoSize,jdbcType=INTEGER}</if>
        <if test="videoSuffix!= null">and video_suffix = #{videoSuffix,jdbcType=VARCHAR}</if>
        <if test="videoLevel!= null">and video_level = #{videoLevel,jdbcType=INTEGER}</if>
        <if test="videoFormat!= null">and video_format = #{videoFormat,jdbcType=VARCHAR}</if>
        <if test="videoPath!= null">and video_path = #{videoPath,jdbcType=VARCHAR}</if>
        <if test="videoDesc!= null">and video_desc = #{videoDesc,jdbcType=VARCHAR}</if>
        <if test="videoOrdering!= null">and video_ordering = #{videoOrdering,jdbcType=INTEGER}</if>
        <if test="fileKey!= null">and file_key = #{fileKey,jdbcType=VARCHAR}</if>
        <if test="fileKeys!= null">and file_keys = #{fileKeys,jdbcType=VARCHAR}</if>
        <if test="smallVideoInfo!= null">and small_video_info = #{smallVideoInfo,jdbcType=VARCHAR}</if>
        <if test="renderingType!= null">and rendering_type = #{renderingType,jdbcType=INTEGER}</if>
        <if test="sequence!= null">and sequence = #{sequence,jdbcType=INTEGER}</if>
        <if test="taskCreateTime!= null">and task_create_time = #{taskCreateTime,jdbcType=TIMESTAMP}</if>
        <if test="sysTaskPicId!= null">and sys_task_pic_id = #{sysTaskPicId,jdbcType=INTEGER}</if>
        <if test="sysCode!= null">and sys_code = #{sysCode,jdbcType=VARCHAR}</if>
        <if test="creator!= null">and creator = #{creator,jdbcType=VARCHAR}</if>
        <if test="gmtCreate!= null">and gmt_create = #{gmtCreate,jdbcType=TIMESTAMP}</if>
        <if test="modifier!= null">and modifier = #{modifier,jdbcType=VARCHAR}</if>
        <if test="gmtModified!= null">and gmt_modified = #{gmtModified,jdbcType=TIMESTAMP}</if>
        <if test="isDeleted!= null">and is_deleted = #{isDeleted,jdbcType=INTEGER}</if>
        <if test="att1!= null">and att1 = #{att1,jdbcType=VARCHAR}</if>
        <if test="att2!= null">and att2 = #{att2,jdbcType=VARCHAR}</if>
        <if test="numa1!= null">and numa1 = #{numa1,jdbcType=INTEGER}</if>
        <if test="numa2!= null">and numa2 = #{numa2,jdbcType=INTEGER}</if>
        <if test="remark!= null">and remark = #{remark,jdbcType=VARCHAR}</if>
        <if test="platformId != null">and platform_id = #{platformId,jdbcType =INTEGER}</if>
        <if test="order != null and  order !=''  ">
            order by ${order}
            <if test="orderNum != null and  orderNum !='' ">
                ${orderNum}
            </if>
        </if>
        <if test="orders != null and  orders !=''  ">
            order by ${orders}
        </if>
    </select>


    <insert id="addResRenderVideo" parameterType="com.sandu.api.designplan.model.ResRenderVideo" useGeneratedKeys="true"
            keyProperty="id">
        insert into res_render_video
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="businessId!= null">business_id,</if>
            <if test="videoCode!= null">video_code,</if>
            <if test="videoName!= null">video_name,</if>
            <if test="videoFileName!= null">video_file_name,</if>
            <if test="videoType!= null">video_type,</if>
            <if test="videoSize!= null">video_size,</if>
            <if test="videoSuffix!= null">video_suffix,</if>
            <if test="videoLevel!= null">video_level,</if>
            <if test="videoFormat!= null">video_format,</if>
            <if test="videoPath!= null">video_path,</if>
            <if test="videoDesc!= null">video_desc,</if>
            <if test="videoOrdering!= null">video_ordering,</if>
            <if test="fileKey!= null">file_key,</if>
            <if test="fileKeys!= null">file_keys,</if>
            <if test="smallVideoInfo!= null">small_video_info,</if>
            <if test="renderingType!= null">rendering_type,</if>
            <if test="sequence!= null">sequence,</if>
            <if test="taskCreateTime!= null">task_create_time,</if>
            <if test="sysTaskPicId!= null">sys_task_pic_id,</if>
            <if test="sysCode!= null">sys_code,</if>
            <if test="creator!= null">creator,</if>
            <if test="gmtCreate!= null">gmt_create,</if>
            <if test="modifier!= null">modifier,</if>
            <if test="gmtModified!= null">gmt_modified,</if>
            <if test="isDeleted!= null">is_deleted,</if>
            <if test="att1!= null">att1,</if>
            <if test="att2!= null">att2,</if>
            <if test="numa1!= null">numa1,</if>
            <if test="numa2!= null">numa2,</if>
            <if test="remark!= null">remark,</if>
            <if test="platformId != null">platform_id</if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="businessId!= null">#{businessId,jdbcType=INTEGER},</if>
            <if test="videoCode!= null">#{videoCode,jdbcType=VARCHAR},</if>
            <if test="videoName!= null">#{videoName,jdbcType=VARCHAR},</if>
            <if test="videoFileName!= null">#{videoFileName,jdbcType=VARCHAR},</if>
            <if test="videoType!= null">#{videoType,jdbcType=VARCHAR},</if>
            <if test="videoSize!= null">#{videoSize,jdbcType=INTEGER},</if>
            <if test="videoSuffix!= null">#{videoSuffix,jdbcType=VARCHAR},</if>
            <if test="videoLevel!= null">#{videoLevel,jdbcType=INTEGER},</if>
            <if test="videoFormat!= null">#{videoFormat,jdbcType=VARCHAR},</if>
            <if test="videoPath!= null">#{videoPath,jdbcType=VARCHAR},</if>
            <if test="videoDesc!= null">#{videoDesc,jdbcType=VARCHAR},</if>
            <if test="videoOrdering!= null">#{videoOrdering,jdbcType=INTEGER},</if>
            <if test="fileKey!= null">#{fileKey,jdbcType=VARCHAR},</if>
            <if test="fileKeys!= null">#{fileKeys,jdbcType=VARCHAR},</if>
            <if test="smallVideoInfo!= null">#{smallVideoInfo,jdbcType=VARCHAR},</if>
            <if test="renderingType!= null">#{renderingType,jdbcType=INTEGER},</if>
            <if test="sequence!= null">#{sequence,jdbcType=INTEGER},</if>
            <if test="taskCreateTime!= null">#{taskCreateTime,jdbcType=TIMESTAMP},</if>
            <if test="sysTaskPicId!= null">#{sysTaskPicId,jdbcType=INTEGER},</if>
            <if test="sysCode!= null">#{sysCode,jdbcType=VARCHAR},</if>
            <if test="creator!= null">#{creator,jdbcType=VARCHAR},</if>
            <if test="gmtCreate!= null">#{gmtCreate,jdbcType=TIMESTAMP},</if>
            <if test="modifier!= null">#{modifier,jdbcType=VARCHAR},</if>
            <if test="gmtModified!= null">#{gmtModified,jdbcType=TIMESTAMP},</if>
            <if test="isDeleted!= null">#{isDeleted,jdbcType=INTEGER},</if>
            <if test="att1!= null">#{att1,jdbcType=VARCHAR},</if>
            <if test="att2!= null">#{att2,jdbcType=VARCHAR},</if>
            <if test="numa1!= null">#{numa1,jdbcType=INTEGER},</if>
            <if test="numa2!= null">#{numa2,jdbcType=INTEGER},</if>
            <if test="remark!= null">#{remark,jdbcType=VARCHAR},</if>
            <if test="platformId != null">#{platformId,jdbcType=INTEGER}</if>
        </trim>
    </insert>


    <update id="updateResRenderPicSysTaskId" parameterType="object">
        UPDATE
        res_render_pic
        SET
        sys_task_pic_id = #{sysTaskId}
        WHERE id IN
        <foreach collection="idList" index="index" item="item" open="(" separator="," close=")">
            #{item}
        </foreach>
    </update>


    <select id="getDesignRenderRoamList" resultType="com.sandu.design.model.DesignRenderRoam"
            parameterType="com.sandu.design.model.DesignRenderRoam">
        select
        *
        from design_render_roam
        where 1=1
        <if test="screenShotId!= null">and screen_shot_id = #{screenShotId,jdbcType=INTEGER}</if>
        <if test="uuid!= null">and uuid = #{uuid,jdbcType=VARCHAR}</if>
        <if test="roamConfig!= null">and roam_config = #{roamConfig,jdbcType=INTEGER}</if>
        <if test="sysCode!= null">and sys_code = #{sysCode,jdbcType=VARCHAR}</if>
        <if test="creator!= null">and creator = #{creator,jdbcType=VARCHAR}</if>
        <if test="gmtCreate!= null">and gmt_create = #{gmtCreate,jdbcType=TIMESTAMP}</if>
        <if test="modifier!= null">and modifier = #{modifier,jdbcType=VARCHAR}</if>
        <if test="gmtModified!= null">and gmt_modified = #{gmtModified,jdbcType=TIMESTAMP}</if>
        <if test="isDeleted!= null">and is_deleted = #{isDeleted,jdbcType=INTEGER}</if>
        <if test="att1!= null">and att1 = #{att1,jdbcType=VARCHAR}</if>
        <if test="att2!= null">and att2 = #{att2,jdbcType=VARCHAR}</if>
        <if test="numa1!= null">and numa1 = #{numa1,jdbcType=INTEGER}</if>
        <if test="numa2!= null">and numa2 = #{numa2,jdbcType=INTEGER}</if>
        <if test="remark!= null">and remark = #{remark,jdbcType=VARCHAR}</if>
        <if test="order != null and  order !=''  ">
            order by ${order}
            <if test="orderNum != null and  orderNum !='' ">
                ${orderNum}
            </if>
        </if>
        <if test="orders != null and  orders !=''  ">
            order by ${orders}
        </if>
    </select>


    <select id="getResDesign" resultType="com.sandu.system.model.ResDesign"
            parameterType="java.lang.Integer">
    select
    *
    from res_design
    where id = #{id,jdbcType=INTEGER}
  </select>

    <insert id="addDesignRenderRoam" parameterType="com.sandu.design.model.DesignRenderRoam" useGeneratedKeys="true"
            keyProperty="id">
        insert into design_render_roam
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="screenShotId!= null">screen_shot_id,</if>
            <if test="uuid!= null">uuid,</if>
            <if test="roamConfig!= null">roam_config,</if>
            <if test="sysCode!= null">sys_code,</if>
            <if test="creator!= null">creator,</if>
            <if test="gmtCreate!= null">gmt_create,</if>
            <if test="modifier!= null">modifier,</if>
            <if test="gmtModified!= null">gmt_modified,</if>
            <if test="isDeleted!= null">is_deleted,</if>
            <if test="att1!= null">att1,</if>
            <if test="att2!= null">att2,</if>
            <if test="numa1!= null">numa1,</if>
            <if test="numa2!= null">numa2,</if>
            <if test="remark!= null">remark,</if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="screenShotId!= null">#{screenShotId,jdbcType=INTEGER},</if>
            <if test="uuid!= null">#{uuid,jdbcType=VARCHAR},</if>
            <if test="roamConfig!= null">#{roamConfig,jdbcType=INTEGER},</if>
            <if test="sysCode!= null">#{sysCode,jdbcType=VARCHAR},</if>
            <if test="creator!= null">#{creator,jdbcType=VARCHAR},</if>
            <if test="gmtCreate!= null">#{gmtCreate,jdbcType=TIMESTAMP},</if>
            <if test="modifier!= null">#{modifier,jdbcType=VARCHAR},</if>
            <if test="gmtModified!= null">#{gmtModified,jdbcType=TIMESTAMP},</if>
            <if test="isDeleted!= null">#{isDeleted,jdbcType=INTEGER},</if>
            <if test="att1!= null">#{att1,jdbcType=VARCHAR},</if>
            <if test="att2!= null">#{att2,jdbcType=VARCHAR},</if>
            <if test="numa1!= null">#{numa1,jdbcType=INTEGER},</if>
            <if test="numa2!= null">#{numa2,jdbcType=INTEGER},</if>
            <if test="remark!= null">#{remark,jdbcType=VARCHAR},</if>
        </trim>
    </insert>


    <insert id="addResDesign" parameterType="com.sandu.system.model.ResDesign" useGeneratedKeys="true" keyProperty="id">
        insert into res_design
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="oldId!= null ">old_id,</if>
            <if test="fileCode!= null  and  fileCode!=''">file_code,</if>
            <if test="fileName!= null and fileName!='' ">file_name,</if>
            <if test="fileOriginalName!= null and fileOriginalName!='' ">file_original_name,</if>
            <if test="fileType!= null and fileType!='' ">file_type,</if>
            <if test="fileSize!= null and fileSize!='' ">file_size,</if>
            <if test="fileWeight!= null and fileWeight!='' ">file_weight,</if>
            <if test="fileHigh!= null and  fileHigh!='' ">file_high,</if>
            <if test="fileLength!= null">file_length,</if>
            <if test="fileSuffix!= null and fileSuffix!=''  ">file_suffix,</if>
            <if test="fileFormat!= null and fileFormat!='' ">file_format,</if>
            <if test="fileLevel!= null and fileLevel!='' ">file_level,</if>
            <if test="filePath!= null and filePath!='' ">file_path,</if>
            <if test="fileDesc!= null and  fileDesc!='' ">file_desc,</if>
            <if test="fileOrdering!= null">file_ordering,</if>
            <if test="sysCode!= null and sysCode!='' ">sys_code,</if>
            <if test="creator!= null and creator!='' ">creator,</if>
            <if test="gmtCreate!= null">gmt_create,</if>
            <if test="modifier!= null and modifier!='' ">modifier,</if>
            <if test="gmtModified!= null">gmt_modified,</if>
            <if test="isDeleted!= null">is_deleted,</if>
            <if test="fileKey!= null and  fileKey!='' ">file_key,</if>
            <if test="businessId!= null">business_id,</if>
            <if test="smallPicInfo!= null and smallPicInfo!='' ">small_pic_info,</if>
            <if test="viewPoint!= null">view_point,</if>
            <if test="scene!= null">scene,</if>
            <if test="sequence!= null">sequence,</if>
            <if test="renderingType!= null">rendering_type,</if>
            <if test="panoPath!= null and  panoPath!='' ">pano_path,</if>
            <if test="minHeight!= null">min_height,</if>
            <if test="isModelShare!= null">is_model_share,</if>
            <if test="att1!= null and  att1!='' ">att1,</if>
            <if test="att2!= null and att2!='' ">att2,</if>
            <if test="att3!= null and att3!='' ">att3,</if>
            <if test="att4!= null and att4!='' ">att4,</if>
            <if test="att5!= null and att5!='' ">att5,</if>
            <if test="att6!= null and att6!='' ">att6,</if>
            <if test="numa1!= null">numa1,</if>
            <if test="numa2!= null">numa2,</if>
            <if test="numa3!= null">numa3,</if>
            <if test="numa4!= null">numa4,</if>
            <if test="numa5!= null">numa5,</if>
            <if test="numa6!= null">numa6,</if>
            <if test="remark!= null">remark,</if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="oldId!= null">#{oldId,jdbcType=INTEGER},</if>
            <if test="fileCode!= null and fileCode!='' ">#{fileCode,jdbcType=VARCHAR},</if>
            <if test="fileName!= null and fileName!= '' ">#{fileName,jdbcType=VARCHAR},</if>
            <if test="fileOriginalName!= null and fileOriginalName!= '' ">#{fileOriginalName,jdbcType=VARCHAR},</if>
            <if test="fileType!= null and fileType!='' ">#{fileType,jdbcType=VARCHAR},</if>
            <if test="fileSize!= null and fileSize!= '' ">#{fileSize,jdbcType=VARCHAR},</if>
            <if test="fileWeight!= null and fileWeight!='' ">#{fileWeight,jdbcType=VARCHAR},</if>
            <if test="fileHigh!= null and fileHigh!= '' ">#{fileHigh,jdbcType=VARCHAR},</if>
            <if test="fileLength!= null">#{fileLength,jdbcType=INTEGER},</if>
            <if test="fileSuffix!= null and fileSuffix!= '' ">#{fileSuffix,jdbcType=VARCHAR},</if>
            <if test="fileFormat!= null and fileFormat!= '' ">#{fileFormat,jdbcType=VARCHAR},</if>
            <if test="fileLevel!= null and fileLevel!= '' ">#{fileLevel,jdbcType=VARCHAR},</if>
            <if test="filePath!= null and filePath!= '' ">#{filePath,jdbcType=VARCHAR},</if>
            <if test="fileDesc!= null and fileDesc!='' ">#{fileDesc,jdbcType=VARCHAR},</if>
            <if test="fileOrdering!= null">#{fileOrdering,jdbcType=INTEGER},</if>
            <if test="sysCode!= null  and sysCode!='' ">#{sysCode,jdbcType=VARCHAR},</if>
            <if test="creator!= null and creator!= '' ">#{creator,jdbcType=VARCHAR},</if>
            <if test="gmtCreate!= null">#{gmtCreate,jdbcType=TIMESTAMP},</if>
            <if test="modifier!= null and modifier!= '' ">#{modifier,jdbcType=VARCHAR},</if>
            <if test="gmtModified!= null">#{gmtModified,jdbcType=TIMESTAMP},</if>
            <if test="isDeleted!= null">#{isDeleted,jdbcType=VARCHAR},</if>
            <if test="fileKey!= null and fileKey!= '' ">#{fileKey,jdbcType=VARCHAR},</if>
            <if test="businessId!= null">#{businessId,jdbcType=INTEGER},</if>
            <if test="smallPicInfo!= null and smallPicInfo!= '' ">#{smallPicInfo,jdbcType=VARCHAR},</if>
            <if test="viewPoint!= null">#{viewPoint,jdbcType=INTEGER},</if>
            <if test="scene!= null">#{scene,jdbcType=INTEGER},</if>
            <if test="sequence!= null">#{sequence,jdbcType=INTEGER},</if>
            <if test="renderingType!= null">#{renderingType,jdbcType=INTEGER},</if>
            <if test="panoPath!= null and panoPath!= '' ">#{panoPath,jdbcType=VARCHAR},</if>
            <if test="minHeight!= null">#{minHeight,jdbcType=INTEGER},</if>
            <if test="isModelShare!= null">#{isModelShare,jdbcType=INTEGER},</if>
            <if test="att1!= null and att1!='' ">#{att1,jdbcType=VARCHAR},</if>
            <if test="att2!= null and att2!='' ">#{att2,jdbcType=VARCHAR},</if>
            <if test="att3!= null and att3!='' ">#{att3,jdbcType=VARCHAR},</if>
            <if test="att4!= null and att4!='' ">#{att4,jdbcType=VARCHAR},</if>
            <if test="att5!= null and att5!='' ">#{att5,jdbcType=VARCHAR},</if>
            <if test="att6!= null and att6!='' ">#{att6,jdbcType=VARCHAR},</if>
            <if test="numa1!= null">#{numa1,jdbcType=INTEGER},</if>
            <if test="numa2!= null">#{numa2,jdbcType=INTEGER},</if>
            <if test="numa3!= null">#{numa3,jdbcType=INTEGER},</if>
            <if test="numa4!= null">#{numa4,jdbcType=INTEGER},</if>
            <if test="numa5!= null">#{numa5,jdbcType=INTEGER},</if>
            <if test="numa6!= null">#{numa6,jdbcType=INTEGER},</if>
            <if test="remark!= null">#{remark,jdbcType=VARCHAR},</if>
        </trim>
    </insert>


    <select id="selectDesignRenderRoam" resultType="com.sandu.design.model.DesignRenderRoam"
            parameterType="java.lang.Integer">
    select
    *
    from design_render_roam
    where id = #{id,jdbcType=INTEGER}
  </select>


    <update id="updateDesignRenderRoam" parameterType="com.sandu.design.model.DesignRenderRoam" keyProperty="id"
            useGeneratedKeys="true">
        update design_render_roam
        <set>
            <if test="screenShotId!= null">screen_shot_id = #{screenShotId,jdbcType=INTEGER},</if>
            <if test="uuid!= null">uuid = #{uuid,jdbcType=VARCHAR},</if>
            <if test="roamConfig!= null">roam_config = #{roamConfig,jdbcType=INTEGER},</if>
            <if test="sysCode!= null">sys_code = #{sysCode,jdbcType=VARCHAR},</if>
            <if test="creator!= null">creator = #{creator,jdbcType=VARCHAR},</if>
            <if test="gmtCreate!= null">gmt_create = #{gmtCreate,jdbcType=TIMESTAMP},</if>
            <if test="modifier!= null">modifier = #{modifier,jdbcType=VARCHAR},</if>
            <if test="gmtModified!= null">gmt_modified = #{gmtModified,jdbcType=TIMESTAMP},</if>
            <if test="isDeleted!= null">is_deleted = #{isDeleted,jdbcType=INTEGER},</if>
            <if test="att1!= null">att1 = #{att1,jdbcType=VARCHAR},</if>
            <if test="att2!= null">att2 = #{att2,jdbcType=VARCHAR},</if>
            <if test="numa1!= null">numa1 = #{numa1,jdbcType=INTEGER},</if>
            <if test="numa2!= null">numa2 = #{numa2,jdbcType=INTEGER},</if>
            <if test="remark!= null">remark = #{remark,jdbcType=VARCHAR},</if>
        </set>
        where id = #{id,jdbcType=INTEGER}
    </update>



        <!-- AND plan.visible = 0-->
    <select id="selectDesignPlanListByMsgId" parameterType="object"
            resultType="com.sandu.api.designplan.output.SingleDesignPlanVo">
        SELECT
        plan.id AS designPlanId,
        plan.plan_name AS planName,
        CONCAT(sc.space_areas,'m²') AS spaceAreas,
        t.name AS spaceName,
        sc.space_function_id AS spaceFunctionId,
        bps.name AS designPlanStyleName,
        rrp.pic_path AS renderPicPath,
        rp.pic_path AS planCoverPicPath,
        plan.gmt_create AS gmtCreateTime,
        plan.gmt_modified AS gmtModifiedTime,
        plan.design_template_id AS designTemplateId,
        plan.msg_id AS msgHistoryMessageId
        FROM
        design_plan plan
        LEFT JOIN (SELECT id,space_function_id,space_areas,space_shape,space_name from space_common where is_deleted = 0) AS sc ON sc.id = plan.space_common_id
        LEFT JOIN (SELECT value,name,ordering from sys_dictionary where type =  'houseType') t ON t.value = sc.space_function_id
        LEFT JOIN base_product_style AS bps ON bps.id = plan.design_style_id
        LEFT JOIN (SELECT pic_path,id,business_id from res_render_pic  where file_key = 'design.designPlan.render.small.pic'
        and is_deleted = 0 ) rrp on rrp.business_id = plan.id
        LEFT JOIN res_render_pic rp ON rp.id = plan.cover_pic_id
        WHERE
        1 = 1
        AND plan.is_deleted = 0
        AND plan.platform_id IN (SELECT id FROM base_platform WHERE	platform_bussiness_type = '2b')
        AND plan.msg_id = #{msgHistoryMessageId}
        AND plan.user_id = #{userId}
        GROUP BY plan.id
        order by t.ordering asc,plan.gmt_modified desc;

    </select>


    <select id="getHouseName" resultType="string">
        SELECT
           house_common_code
        from
           base_house
        where
           id = #{houseId} AND
           is_deleted = 0;
    </select>






</mapper>